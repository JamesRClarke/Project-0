"use strict";console.log("JS Loaded"),$(function(){function e(){var e=[Math.floor(Math.random()*w.length)],t=w[e];return w.splice(e,1),t}function t(e){return e.split("").sort(function(){return.5-Math.random()}).join("")}function a(){var e=$('<p class="anagram"></p>'),t=Math.ceil(700*Math.random());return e.css({left:t}),e}function o(){$(".anagram").each(function(){Math.round($(this).position().top)>=451&&(console.log("working"),d.html("Lives Left: "+(c-=1)),$(this).css("color","red"),$(this).addClass("animated hinge"))})}function r(){var r=e(),n=t(r),s=a();s.text(n),s.attr("data-word",r),p.append(s),o(),h=setInterval(function(){s.css("top","+=10px")},1500)}function n(){var r=e(),n=t(r),s=a();s.text(n),s.attr("data-word",r),p.append(s),o(),h=setInterval(function(){s.css("top","+=10px")},1e3)}function s(){var r=e(),n=t(r),s=a();s.text(n),s.attr("data-word",r),p.append(s),o(),h=setInterval(function(){s.css("top","+=10px")},700)}function i(){var r=e(),n=t(r),s=a();s.text(n),s.attr("data-word",r),p.append(s),o(),h=setInterval(function(){s.css("top","+=10px")},200)}function l(){c=5,d.html("Lives: 5"),u=0,f.html("Correct Answers: 0"),$(".anagram").remove()}var c=5,u=0,h=void 0,d=$("#lives"),m=$("#play"),f=$("#winCondition"),v=$("#subject-options"),b=$("#difficulty-options"),p=$(".ag-tetris"),g=$("#instructions"),y={BBT:["sheldon","leanord","spock","cheesecakefactory","howard","startrek","penny","koothrapoli","bernadette","physics","laundry","halonight","dumplings","brisket","nasa","stringtheory","darkmatter","comiccon","comicbook"],LOTR:["arragon","gimli"]},I="",w="";v.on("change",function(){var e=v.val();w=y[e]}),b.on("change",function(){switch(I=b.val()){case"easy":g.append("<h2>Instructions</h2><p> When a word falls to the bottom of the box you lose a life.<br><br>You need to guess 5 anagrams correctly to beat this game!<br><br>You have 5 lives...Enjoy!</p>");break;case"medium":g.append("<h2>Instructions</h2><p> When a word falls to the bottom of the box you lose a life.<br><br>You need to guess 7 anagrams correctly to beat this game!<br><br>You have 5 lives...Enjoy!</p>");break;case"hard":g.append("<h2>Instructions</h2><p> When a word falls to the bottom of the box you lose a life.<br><br>You need to guess 10 anagrams correctly to beat this game!<br><br>You have 5 lives...Enjoy!</p>");break;case"insane":g.append("<h2>Instructions</h2><p> When a word falls to the bottom of the box you lose a life.<br><br>You need to guess 10 anagrams correctly to beat this game!<br><br>You have 10 lives...Enjoy!</p>")}}),m.on("click",function(){switch(I){case"easy":r();var e=setInterval(function(){u>=5?(alert("You beat the game this time, can you manage a medium difficutly...?"),clearInterval(e),l()):c<=0?(clearInterval(e),alert("Game Over, sorry you lost, Booooooo!"),l()):r()},1e4);break;case"medium":n();var t=setInterval(function(){u>=7?(alert("You beat the game this time, can you manage a hard difficutly...?"),clearInterval(t),l()):c<=0?(clearInterval(t),alert("Game Over, sorry you lost, Booooooo!"),l()):n()},7e3);break;case"hard":s();var a=setInterval(function(){u>=10?(alert("You beat the game this time, well thats it, unless you really are insane..."),clearInterval(a),l()):c<=0?(clearInterval(a),alert("Game Over, sorry you lost, Booooooo!"),l()):s()},5e3);break;case"insane":i();var o=setInterval(function(){u>=10?(alert("You beat the game, like you beat it, beat it erm yeah, grats I guess"),clearInterval(o),l()):c<=0?(clearInterval(o),alert("Game Over, sorry you lost, Booooooo!"),l()):i()},2500);break;default:alert("Please select a difficulty...")}}),$("form").on("submit",function(e){e.preventDefault(),$(".anagram").each(function(){var e=$(this).data("word");$("#answer").val()===e?($(this).addClass("animated fadeOutLeft").css("color","green"),f.html("Correct Answers: "+(u+=1)),$(this).remove()):$(".anagram").addClass("animated wobble")}),$("form").trigger("reset")})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJjb25zb2xlIiwibG9nIiwiJCIsImdlbmVyYXRlV29yZCIsImluZGV4IiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwic2VsZWN0ZWRTdWJqZWN0IiwibGVuZ3RoIiwic2VsZWN0ZWRXb3JkIiwiZ2VuZXJhdGVBbmFncmFtIiwic3BsaXQiLCJzb3J0Iiwiam9pbiIsImdlbmVyYXRlQW5hZ3JhbUVsZW1lbnQiLCIkYW5hZ3JhbSIsImxlZnQiLCJlYWNoIiwiYW5hZ3JhbUhpdHNUaGVCb3R0b20iLCJ0aGlzIiwicG9zaXRpb24iLCJ0b3AiLCIkbGl2ZXMiLCJsaWZlU2NvcmUiLCJodG1sIiwiZGlmZmljdWx0eUVhc3kiLCJzY3JhbWJsZWRXb3JkIiwic2VsZWN0ZWRBbmFncmFtIiwidGV4dCIsImNzcyIsImludGVydmFsIiwiZGlmZmljdWx0eU1lZGl1bSIsImF0dHIiLCIkY29udGFpbmVyIiwiYXBwZW5kIiwiZGlmZmljdWx0eUhhcmQiLCJkaWZmaWN1bHR5SW5zYW5lIiwicmVzZXQiLCJ3aW5Db25kaXRpb24iLCIkd2luQ29uZGl0aW9uIiwiJGRpZmZpY3VsdHlPcHRpb25zIiwiJGluc3RydWN0aW9ucyIsIkJCVCIsIkxPVFIiLCJjYXRlZ29yaWVzIiwic2VsZWN0ZWREaWZmaWN1bHR5IiwiJHN1YmplY3RPcHRpb25zIiwidmFsIiwidmFsdWUiLCJvbiIsIiRwbGF5R2FtZSIsImludGVydmFsRSIsInNldEludGVydmFsIiwiYWxlcnQiLCJjbGVhckludGVydmFsIiwiaW50ZXJ2YWxNIiwiaW50ZXJ2YWxIIiwiaW50ZXJ2YWxJIiwiZSIsInByZXZlbnREZWZhdWx0IiwiY2hlY2tlciIsImRhdGEiLCJyZW1vdmUiLCJhZGRDbGFzcyIsInRyaWdnZXIiXSwibWFwcGluZ3MiOiJZQUFBQSxTQUFRQyxJQUFJLGFBQ1pDLEVBQUUsV0EwRUEsUUFBU0MsS0FEVCxHQUFBQyxJQUFBQyxLQUFBQyxNQUFBRCxLQUFBRSxTQUFBQyxFQUFB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QkFBQWMsR0FBQSxJQUpGckMsRUFBQWtCLE1BS08yQyxVQVJUN0QsRUFBQSxZQUFBOEQsU0FBQSxxQkF2UUo5RCxFQUFBLFFBQUErRCxRQUFBIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnNvbGUubG9nKCdKUyBMb2FkZWQnKTtcbiQoKCkgPT4ge1xuICBsZXQgbGlmZVNjb3JlID0gNTtcbiAgLy8gbGV0IGN1cnJlbnRTY29yZURpc2xwYXllZCA9IDA7XG4gIGxldCB3aW5Db25kaXRpb24gPSAwO1xuICBsZXQgaW50ZXJ2YWw7XG4gIC8vIGNvbnN0ICRjdXJyZW50U2NvcmUgPSAkKCcjY3VycmVudFNjb3JlJyk7XG4gIGNvbnN0ICRsaXZlcyA9ICQoJyNsaXZlcycpO1xuICAvLyBjb25zdCAkaGlnaFNjb3JlID0gJCgnI2hpaGdoU2NvcmUnKTtcbiAgY29uc3QgJHBsYXlHYW1lID0gJCgnI3BsYXknKTtcbiAgY29uc3QgJHdpbkNvbmRpdGlvbiA9ICQoJyN3aW5Db25kaXRpb24nKTtcblxuICBjb25zdCAkc3ViamVjdE9wdGlvbnMgPSAkKCcjc3ViamVjdC1vcHRpb25zJyk7XG4gIGNvbnN0ICRkaWZmaWN1bHR5T3B0aW9ucyA9ICQoJyNkaWZmaWN1bHR5LW9wdGlvbnMnKTtcblxuICBjb25zdCAkY29udGFpbmVyID0gJCgnLmFnLXRldHJpcycpO1xuXG4gIGNvbnN0ICRpbnN0cnVjdGlvbnMgPSAkKCcjaW5zdHJ1Y3Rpb25zJyk7XG5cbiAgY29uc3QgY2F0ZWdvcmllcyA9IHtcbiAgICBCQlQ6IFsnc2hlbGRvbicsJ2xlYW5vcmQnLCdzcG9jaycsJ2NoZWVzZWNha2VmYWN0b3J5JywnaG93YXJkJywnc3RhcnRyZWsnLCdwZW5ueScsJ2tvb3RocmFwb2xpJywnYmVybmFkZXR0ZScsJ3BoeXNpY3MnLCdsYXVuZHJ5JywnaGFsb25pZ2h0JywnZHVtcGxpbmdzJywgJ2JyaXNrZXQnLCduYXNhJywnc3RyaW5ndGhlb3J5JywnZGFya21hdHRlcicsICdjb21pY2NvbicsJ2NvbWljYm9vayddLFxuICAgIExPVFI6IFsnYXJyYWdvbicsICdnaW1saSddXG4gIH07XG5cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy9TZWxlY3RvcnMvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgbGV0IHNlbGVjdGVkRGlmZmljdWx0eSA9ICcnO1xuICBsZXQgc2VsZWN0ZWRTdWJqZWN0ID0gJyc7XG4gICRzdWJqZWN0T3B0aW9ucy5vbignY2hhbmdlJywgKCkgPT4ge1xuICAgIGNvbnN0IHZhbHVlID0gJHN1YmplY3RPcHRpb25zLnZhbCgpO1xuICAgIHNlbGVjdGVkU3ViamVjdCA9IGNhdGVnb3JpZXNbdmFsdWVdO1xuICAgIC8vIHN3aXRjaCAodmFsdWUpIHtcbiAgICAvLyAgIGNhc2UgJ0JCVCc6XG4gICAgLy8gICAkKCcuYWctdGV0cmlzJykuYWRkQ2xhc3MoJ2ltYWdlQkJUJyk7XG4gICAgLy8gICAkKCcuZmVhdHVyZXMnKS5jc3MoeydiYWNrZ3JvdW5kLWNvbG9yJzogJ2JsYWNrJywgJ2NvbG9yJzogJ3doaXRlJ30pXG4gICAgLy8gICBicmVhaztcbiAgICAvLyAgIGNhc2UgJ0xPVFInOlxuICAgIC8vICAgJCgnLmFnLXRldHJpcycpLmFkZENsYXNzKCdpbWFnZUxPVFInKTtcbiAgICAvLyAgICQoJy5mZWF0dXJlcycpLmNzcyh7J2JhY2tncm91bmQtY29sb3InOiAnYmxhY2snLCAnY29sb3InOiAnd2hpdGUnfSlcbiAgICAvLyAgIGJyZWFrO1xuICAgIC8vICAgY2FzZSAnQ0MnOlxuICAgIC8vICAgJCgnLmFnLXRldHJpcycpLmFkZENsYXNzKCdpbWFnZUNDJyk7XG4gICAgLy8gICAkKCcuZmVhdHVyZXMnKS5jc3MoeydiYWNrZ3JvdW5kLWNvbG9yJzogJ2JsYWNrJywgJ2NvbG9yJzogJ3doaXRlJ30pXG4gICAgLy8gICBicmVhaztcbiAgICAvLyAgIGNhc2UgJ0VQTCc6XG4gICAgLy8gICAkKCcuYWctdGV0cmlzJykuYWRkQ2xhc3MoJ2ltYWdlRVBMJyk7XG4gICAgLy8gICAkKCcuZmVhdHVyZXMnKS5jc3MoeydiYWNrZ3JvdW5kLWNvbG9yJzogJ2JsYWNrJywgJ2NvbG9yJzogJ3doaXRlJ30pXG4gICAgLy8gICBicmVhaztcbiAgICAvLyAgIGNhc2UgJ1dESSc6XG4gICAgLy8gICAkKCcuZmVhdHVyZXMnKS5jc3MoeydiYWNrZ3JvdW5kLWNvbG9yJzogJ2JsYWNrJywgJ2NvbG9yJzogJ3doaXRlJ30pXG4gICAgLy8gICBicmVhaztcbiAgICAvLyB9XG4gIH0pO1xuICAkZGlmZmljdWx0eU9wdGlvbnMub24oJ2NoYW5nZScsICgpID0+IHtcbiAgICBzZWxlY3RlZERpZmZpY3VsdHkgPSAkZGlmZmljdWx0eU9wdGlvbnMudmFsKCk7XG4gICAgc3dpdGNoIChzZWxlY3RlZERpZmZpY3VsdHkpIHtcbiAgICAgIGNhc2UgJ2Vhc3knOlxuICAgICAgJGluc3RydWN0aW9ucy5hcHBlbmQoJzxoMj5JbnN0cnVjdGlvbnM8L2gyPjxwPiBXaGVuIGEgd29yZCBmYWxscyB0byB0aGUgYm90dG9tIG9mIHRoZSBib3ggeW91IGxvc2UgYSBsaWZlLjxicj48YnI+WW91IG5lZWQgdG8gZ3Vlc3MgNSBhbmFncmFtcyBjb3JyZWN0bHkgdG8gYmVhdCB0aGlzIGdhbWUhPGJyPjxicj5Zb3UgaGF2ZSA1IGxpdmVzLi4uRW5qb3khPC9wPicpO1xuICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdtZWRpdW0nOlxuICAgICAgJGluc3RydWN0aW9ucy5hcHBlbmQoJzxoMj5JbnN0cnVjdGlvbnM8L2gyPjxwPiBXaGVuIGEgd29yZCBmYWxscyB0byB0aGUgYm90dG9tIG9mIHRoZSBib3ggeW91IGxvc2UgYSBsaWZlLjxicj48YnI+WW91IG5lZWQgdG8gZ3Vlc3MgNyBhbmFncmFtcyBjb3JyZWN0bHkgdG8gYmVhdCB0aGlzIGdhbWUhPGJyPjxicj5Zb3UgaGF2ZSA1IGxpdmVzLi4uRW5qb3khPC9wPicpO1xuICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdoYXJkJzpcbiAgICAgICRpbnN0cnVjdGlvbnMuYXBwZW5kKCc8aDI+SW5zdHJ1Y3Rpb25zPC9oMj48cD4gV2hlbiBhIHdvcmQgZmFsbHMgdG8gdGhlIGJvdHRvbSBvZiB0aGUgYm94IHlvdSBsb3NlIGEgbGlmZS48YnI+PGJyPllvdSBuZWVkIHRvIGd1ZXNzIDEwIGFuYWdyYW1zIGNvcnJlY3RseSB0byBiZWF0IHRoaXMgZ2FtZSE8YnI+PGJyPllvdSBoYXZlIDUgbGl2ZXMuLi5FbmpveSE8L3A+Jyk7XG4gICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2luc2FuZSc6XG4gICAgICAkaW5zdHJ1Y3Rpb25zLmFwcGVuZCgnPGgyPkluc3RydWN0aW9uczwvaDI+PHA+IFdoZW4gYSB3b3JkIGZhbGxzIHRvIHRoZSBib3R0b20gb2YgdGhlIGJveCB5b3UgbG9zZSBhIGxpZmUuPGJyPjxicj5Zb3UgbmVlZCB0byBndWVzcyAxMCBhbmFncmFtcyBjb3JyZWN0bHkgdG8gYmVhdCB0aGlzIGdhbWUhPGJyPjxicj5Zb3UgaGF2ZSAxMCBsaXZlcy4uLkVuam95ITwvcD4nKTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy9TZWxlY3RvcnMgRW5kLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vL0Z1bmN0aW9ucyB0aGF0IGNoYW5nZSB0aGUgd29yZC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAvLy8gVGhpcyBzZWxlY3RzIGEgcmFuZG9tIHdvcmQgZnJvbSB0aGUgc2VsZWN0ZWQgYXJyYXlcbiAgZnVuY3Rpb24gZ2VuZXJhdGVXb3JkKCkge1xuICAgIGNvbnN0IGluZGV4ID0gW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHNlbGVjdGVkU3ViamVjdC5sZW5ndGgpXTtcbiAgICBjb25zdCBzZWxlY3RlZFdvcmQgPSBzZWxlY3RlZFN1YmplY3RbaW5kZXhdO1xuICAgIHNlbGVjdGVkU3ViamVjdC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIHJldHVybiBzZWxlY3RlZFdvcmQ7XG4gIH1cbiAgLy8vIFRoaXMgdGFrZXMgdGhlIHJhbmRvbWx5IHNlbGVjdGVkIHdvcmQgYW5kIHNodWZmbGVzIGl0IGludG8gYW4gYW5hZ3JhbVxuICBmdW5jdGlvbiBnZW5lcmF0ZUFuYWdyYW0oc2VsZWN0ZWRXb3JkKSB7XG4gICAgcmV0dXJuIHNlbGVjdGVkV29yZC5zcGxpdCgnJykuc29ydChmdW5jdGlvbigpe1xuICAgICAgcmV0dXJuIDAuNSAtIE1hdGgucmFuZG9tKCk7XG4gICAgfSApLmpvaW4oJycpO1xuICB9XG4gIC8vLyBUaGlzIGdlbmVyYXRlcyBhIGRpZmZlcmVudCBlbGVtZW50IGluIGEgZGlmZmVybnQgcG9zaXRpb24gZnJvbSB0aGUgSFRNTFxuICBmdW5jdGlvbiBnZW5lcmF0ZUFuYWdyYW1FbGVtZW50ICgpIHtcbiAgICBjb25zdCAkYW5hZ3JhbSA9ICQoJzxwIGNsYXNzPVwiYW5hZ3JhbVwiPjwvcD4nKTtcbiAgICBjb25zdCBsZWZ0ID0gTWF0aC5jZWlsKChNYXRoLnJhbmRvbSgpICogNzAwKSk7XG4gICAgJGFuYWdyYW0uY3NzKHtsZWZ0OiBsZWZ0fSk7XG4gICAgcmV0dXJuICRhbmFncmFtO1xuICB9XG4gIGZ1bmN0aW9uIGFuYWdyYW1IaXRzVGhlQm90dG9tICgpIHtcbiAgICAkKCcuYW5hZ3JhbScpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgY29uc3QgcG9zaXRpb24gPSBNYXRoLnJvdW5kKCQodGhpcykucG9zaXRpb24oKS50b3ApO1xuICAgICAgaWYgKHBvc2l0aW9uID49IDQ1MSkge1xuICAgICAgICBjb25zb2xlLmxvZygnd29ya2luZycpO1xuICAgICAgICAkbGl2ZXMuaHRtbChgTGl2ZXMgTGVmdDogJHsgbGlmZVNjb3JlID0gbGlmZVNjb3JlIC0gMX1gKTsvL05vdCBXb3JraW5nXG4gICAgICAgICQodGhpcykuY3NzKCdjb2xvcicsJ3JlZCcpO1xuICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdhbmltYXRlZCBoaW5nZScpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vL0Z1bmN0aW9ucyB0aGF0IGNoYW5nZSB0aGUgd29yZC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAvLy8vLy8vLy8vLy8vLy8gVGhlc2UgYXJlIHRoZSBkaWZmaWN1bHR5IG9wdGlvbiBmdW5jdGlvbnMgLy8vLy8vLy8vLy8vLy8vXG4gIGZ1bmN0aW9uIGRpZmZpY3VsdHlFYXN5ICgpe1xuICAgIGNvbnN0IHNlbGVjdGVkV29yZCA9IGdlbmVyYXRlV29yZCgpO1xuICAgIGNvbnN0IHNjcmFtYmxlZFdvcmQgPSBnZW5lcmF0ZUFuYWdyYW0oc2VsZWN0ZWRXb3JkKTtcbiAgICBjb25zdCBzZWxlY3RlZEFuYWdyYW0gPSBnZW5lcmF0ZUFuYWdyYW1FbGVtZW50KCk7XG4gICAgc2VsZWN0ZWRBbmFncmFtLnRleHQoc2NyYW1ibGVkV29yZCk7XG4gICAgc2VsZWN0ZWRBbmFncmFtLmF0dHIoJ2RhdGEtd29yZCcsIHNlbGVjdGVkV29yZCk7XG4gICAgJGNvbnRhaW5lci5hcHBlbmQoc2VsZWN0ZWRBbmFncmFtKTtcbiAgICBhbmFncmFtSGl0c1RoZUJvdHRvbSgpO1xuXG4gICAgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHtcbiAgICAgIHNlbGVjdGVkQW5hZ3JhbS5jc3MoJ3RvcCcsICcrPTEwcHgnKTtcbiAgICB9LDE1MDApO1xuICB9XG4gIGZ1bmN0aW9uIGRpZmZpY3VsdHlNZWRpdW0gKCl7XG4gICAgY29uc3Qgc2VsZWN0ZWRXb3JkID0gZ2VuZXJhdGVXb3JkKCk7XG4gICAgY29uc3Qgc2NyYW1ibGVkV29yZCA9IGdlbmVyYXRlQW5hZ3JhbShzZWxlY3RlZFdvcmQpO1xuICAgIGNvbnN0IHNlbGVjdGVkQW5hZ3JhbSA9IGdlbmVyYXRlQW5hZ3JhbUVsZW1lbnQoKTtcblxuICAgIHNlbGVjdGVkQW5hZ3JhbS50ZXh0KHNjcmFtYmxlZFdvcmQpO1xuICAgIHNlbGVjdGVkQW5hZ3JhbS5hdHRyKCdkYXRhLXdvcmQnLCBzZWxlY3RlZFdvcmQpO1xuICAgICRjb250YWluZXIuYXBwZW5kKHNlbGVjdGVkQW5hZ3JhbSk7XG4gICAgYW5hZ3JhbUhpdHNUaGVCb3R0b20oKTtcbiAgICBpbnRlcnZhbCA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkge1xuICAgICAgc2VsZWN0ZWRBbmFncmFtLmNzcygndG9wJywgJys9MTBweCcpO1xuICAgIH0sMTAwMCk7XG4gIH1cbiAgZnVuY3Rpb24gZGlmZmljdWx0eUhhcmQgKCl7XG4gICAgY29uc3Qgc2VsZWN0ZWRXb3JkID0gZ2VuZXJhdGVXb3JkKCk7XG4gICAgY29uc3Qgc2NyYW1ibGVkV29yZCA9IGdlbmVyYXRlQW5hZ3JhbShzZWxlY3RlZFdvcmQpO1xuICAgIGNvbnN0IHNlbGVjdGVkQW5hZ3JhbSA9IGdlbmVyYXRlQW5hZ3JhbUVsZW1lbnQoKTtcblxuICAgIHNlbGVjdGVkQW5hZ3JhbS50ZXh0KHNjcmFtYmxlZFdvcmQpO1xuICAgIHNlbGVjdGVkQW5hZ3JhbS5hdHRyKCdkYXRhLXdvcmQnLCBzZWxlY3RlZFdvcmQpO1xuICAgICRjb250YWluZXIuYXBwZW5kKHNlbGVjdGVkQW5hZ3JhbSk7XG4gICAgYW5hZ3JhbUhpdHNUaGVCb3R0b20oKTtcbiAgICBpbnRlcnZhbCA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkge1xuICAgICAgc2VsZWN0ZWRBbmFncmFtLmNzcygndG9wJywgJys9MTBweCcpO1xuICAgIH0sNzAwKTtcbiAgfVxuICBmdW5jdGlvbiBkaWZmaWN1bHR5SW5zYW5lICgpe1xuICAgIGNvbnN0IHNlbGVjdGVkV29yZCA9IGdlbmVyYXRlV29yZCgpO1xuICAgIGNvbnN0IHNjcmFtYmxlZFdvcmQgPSBnZW5lcmF0ZUFuYWdyYW0oc2VsZWN0ZWRXb3JkKTtcbiAgICBjb25zdCBzZWxlY3RlZEFuYWdyYW0gPSBnZW5lcmF0ZUFuYWdyYW1FbGVtZW50KCk7XG5cbiAgICBzZWxlY3RlZEFuYWdyYW0udGV4dChzY3JhbWJsZWRXb3JkKTtcbiAgICBzZWxlY3RlZEFuYWdyYW0uYXR0cignZGF0YS13b3JkJywgc2VsZWN0ZWRXb3JkKTtcbiAgICAkY29udGFpbmVyLmFwcGVuZChzZWxlY3RlZEFuYWdyYW0pO1xuICAgIGFuYWdyYW1IaXRzVGhlQm90dG9tKCk7XG4gICAgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHtcbiAgICAgIHNlbGVjdGVkQW5hZ3JhbS5jc3MoJ3RvcCcsICcrPTEwcHgnKTtcbiAgICB9LDIwMCk7XG4gIH1cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8gRGlmZmljdWx0eSBPcHRpb25zIEVuZCBoZXJlIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5cbiAgLy8gbGV0IGhpZ2hTY29yZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdoaWdoU2NvcmUnKSB8fCAwO1xuICAvLyBmdW5jdGlvbiBzZXRIaWdoU2NvcmUgKCRoaWdoU2NvcmUpIHtcbiAgLy8gICBoaWdoU2NvcmUgPSBjdXJyZW50U2NvcmVEaXNscGF5ZWQgPiBoaWdoU2NvcmUgPyBjdXJyZW50U2NvcmVEaXNscGF5ZWQgOiBoaWdoU2NvcmU7XG4gIC8vICAgJGhpZ2hTY29yZS50ZXh0KCRoaWdoU2NvcmUpO1xuICAvLyB9XG4gIGZ1bmN0aW9uIHJlc2V0ICgpIHtcbiAgICBsaWZlU2NvcmUgPSA1O1xuICAgICRsaXZlcy5odG1sKCdMaXZlczogNScpO1xuICAgIC8vIGN1cnJlbnRTY29yZURpc2xwYXllZCA9IDA7XG4gICAgLy8gJGN1cnJlbnRTY29yZS5odG1sKGBTY29yZTogMGApO1xuICAgIHdpbkNvbmRpdGlvbiA9IDA7XG4gICAgJHdpbkNvbmRpdGlvbi5odG1sKCdDb3JyZWN0IEFuc3dlcnM6IDAnKTtcbiAgICAkKCcuYW5hZ3JhbScpLnJlbW92ZSgpO1xuICAgIC8vIHNldEhpZ2hTY29yZSgpO1xuICB9XG5cbiAgLy8vIFRoaXMgaXMgZm9yIHdoZW4gdGhlIHBsYXllciBpcyByZWFkeSB0byBwbGF5LCBhZnRlciB0aGUgZGlmZmljdWx0eSBpcyBzZWxlY3RlZCBhbmQgdGhlIHBsYXkgYnV0dG9uIGlzIGNsaWNrZWQgLSBzbyB0aGlzIHN0YXJ0cyB0aGUgZ2FtZSFcbiAgJHBsYXlHYW1lLm9uKCdjbGljaycsIGZ1bmN0aW9uKCl7XG5cbiAgICBzd2l0Y2ggKHNlbGVjdGVkRGlmZmljdWx0eSkge1xuICAgICAgY2FzZSAnZWFzeSc6XG4gICAgICBkaWZmaWN1bHR5RWFzeSgpO1xuICAgICAgY29uc3QgaW50ZXJ2YWxFID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtcbiAgICAgICAgaWYgKHdpbkNvbmRpdGlvbiA+PSA1KSB7XG4gICAgICAgICAgYWxlcnQoJ1lvdSBiZWF0IHRoZSBnYW1lIHRoaXMgdGltZSwgY2FuIHlvdSBtYW5hZ2UgYSBtZWRpdW0gZGlmZmljdXRseS4uLj8nKTtcbiAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsRSk7XG4gICAgICAgICAgcmVzZXQoKTtcbiAgICAgICAgfSBlbHNlIGlmIChsaWZlU2NvcmUgPD0gMCkge1xuICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxFKTtcbiAgICAgICAgICBhbGVydCgnR2FtZSBPdmVyLCBzb3JyeSB5b3UgbG9zdCwgQm9vb29vb28hJyk7XG4gICAgICAgICAgcmVzZXQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBkaWZmaWN1bHR5RWFzeSgpO1xuICAgICAgICB9XG4gICAgICB9LDEwMDAwKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdtZWRpdW0nOlxuICAgICAgZGlmZmljdWx0eU1lZGl1bSgpO1xuICAgICAgY29uc3QgaW50ZXJ2YWxNID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtcbiAgICAgICAgaWYgKHdpbkNvbmRpdGlvbiA+PSA3ICkge1xuICAgICAgICAgIGFsZXJ0KCdZb3UgYmVhdCB0aGUgZ2FtZSB0aGlzIHRpbWUsIGNhbiB5b3UgbWFuYWdlIGEgaGFyZCBkaWZmaWN1dGx5Li4uPycpO1xuICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxNKTtcbiAgICAgICAgICByZXNldCgpO1xuICAgICAgICB9IGVsc2UgaWYgKCBsaWZlU2NvcmUgPD0gMCl7XG4gICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbE0pO1xuICAgICAgICAgIGFsZXJ0KCdHYW1lIE92ZXIsIHNvcnJ5IHlvdSBsb3N0LCBCb29vb29vbyEnKTtcbiAgICAgICAgICByZXNldCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGRpZmZpY3VsdHlNZWRpdW0oKTtcbiAgICAgICAgfVxuICAgICAgfSw3MDAwKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdoYXJkJzpcbiAgICAgIGRpZmZpY3VsdHlIYXJkKCk7XG4gICAgICBjb25zdCBpbnRlcnZhbEggPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpe1xuICAgICAgICBpZiAod2luQ29uZGl0aW9uID49IDEwICkge1xuICAgICAgICAgIGFsZXJ0KCdZb3UgYmVhdCB0aGUgZ2FtZSB0aGlzIHRpbWUsIHdlbGwgdGhhdHMgaXQsIHVubGVzcyB5b3UgcmVhbGx5IGFyZSBpbnNhbmUuLi4nKTtcbiAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsSCk7XG4gICAgICAgICAgcmVzZXQoKTtcbiAgICAgICAgfSBlbHNlIGlmICggbGlmZVNjb3JlIDw9IDApe1xuICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxIKTtcbiAgICAgICAgICBhbGVydCgnR2FtZSBPdmVyLCBzb3JyeSB5b3UgbG9zdCwgQm9vb29vb28hJyk7XG4gICAgICAgICAgcmVzZXQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBkaWZmaWN1bHR5SGFyZCgpO1xuICAgICAgICB9XG4gICAgICB9LDUwMDApO1xuICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ2luc2FuZSc6XG5cbiAgICAgIGRpZmZpY3VsdHlJbnNhbmUoKTtcbiAgICAgIGNvbnN0IGludGVydmFsSSA9IHNldEludGVydmFsKGZ1bmN0aW9uKCl7XG4gICAgICAgIGlmICh3aW5Db25kaXRpb24gPj0gMTAgKSB7XG4gICAgICAgICAgYWxlcnQoJ1lvdSBiZWF0IHRoZSBnYW1lLCBsaWtlIHlvdSBiZWF0IGl0LCBiZWF0IGl0IGVybSB5ZWFoLCBncmF0cyBJIGd1ZXNzJyk7XG4gICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbEkpO1xuICAgICAgICAgIHJlc2V0KCk7XG4gICAgICAgIH0gZWxzZSBpZiAoIGxpZmVTY29yZSA8PSAwKXtcbiAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsSSk7XG4gICAgICAgICAgYWxlcnQoJ0dhbWUgT3Zlciwgc29ycnkgeW91IGxvc3QsIEJvb29vb29vIScpO1xuICAgICAgICAgIHJlc2V0KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgZGlmZmljdWx0eUluc2FuZSgpO1xuICAgICAgICB9XG4gICAgICB9LDI1MDApO1xuICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgYWxlcnQoJ1BsZWFzZSBzZWxlY3QgYSBkaWZmaWN1bHR5Li4uJyk7XG4gICAgfVxuICB9KTtcbiAgLy8vIFRoaXMgaXMgdGhlIHZhbGlkYXRpb24gd2hlbiB0aGUgYnV0dG9uIGlzIGNsaWNrZWQgdG8gc3VibWl0IGFuIGFuc3dlciwgdGhpcyBhbHNvIGhvbGRzIHRoZSBhbmltYXRpb25zIGFwcGxpZWQgdG8gdGhlIGdhbWUuXG5cbiAgJCgnZm9ybScpLm9uKCdzdWJtaXQnLCBmdW5jdGlvbiAoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAkKCcuYW5hZ3JhbScpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgY29uc3QgY2hlY2tlciA9ICQodGhpcykuZGF0YSgnd29yZCcpO1xuXG4gICAgICBpZiAoJCgnI2Fuc3dlcicpLnZhbCgpID09PSBjaGVja2VyKXtcbiAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnYW5pbWF0ZWQgZmFkZU91dExlZnQnKS5jc3MoJ2NvbG9yJywnZ3JlZW4nKTtcbiAgICAgICAgJHdpbkNvbmRpdGlvbi5odG1sKGBDb3JyZWN0IEFuc3dlcnM6ICR7d2luQ29uZGl0aW9uID0gd2luQ29uZGl0aW9uICsgMX1gKTtcbiAgICAgICAgJCh0aGlzKS5yZW1vdmUoKTtcbiAgICAgICAgLy8gJGN1cnJlbnRTY29yZS5odG1sKGBTY29yZTogJHtjdXJyZW50U2NvcmVEaXNscGF5ZWQgKz0gNX1gKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICQoJy5hbmFncmFtJykuYWRkQ2xhc3MoJ2FuaW1hdGVkIHdvYmJsZScpO1xuICAgICAgfVxuICAgIH0pO1xuICAgICQoJ2Zvcm0nKS50cmlnZ2VyKCdyZXNldCcpO1xuICB9KTtcbn0pO1xuXG4vLy8vLyBsb3NlIGEgbGlmZSBmb3Igd29yZHMgZmFsbGluZyBvbiBib3R0b20gb2YgdGhlIGRpdiBwbGFjZSB0aGlzIGluIGEgZnVuY3Rpb24gYW5kIHRoZW4gY2FsbCBpdCBpbiBlYWNoIGRpZmZpY3VsdHlcbiJdfQ==
