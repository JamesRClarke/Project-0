"use strict";$(function(){function e(){var e=[Math.floor(Math.random()*y.length)],n=y[e];return y.splice(e,1),n}function n(e){return e.split("").sort(function(){return.5-Math.random()}).join("")}function a(){var e=$('<p class="anagram"></p>'),n=Math.ceil(Math.random()*(s-250));return e.css({left:n}),e}function t(){$(".anagram").each(function(){var e=this;Math.round($(this).position().top)>=r-75&&($(this).hasClass("hinge")||(l-=1),d.html("Lives Left: "+l),$(this).css("color","red"),$(this).addClass("animated hinge"),setTimeout(function(){$(e).remove()},500))})}function o(){var o=e(),i=n(o),r=a();r.text(i),r.attr("data-word",o),v.append(r),setInterval(function(){r.css("top","+=10px"),t()},u.speed)}function i(){l=5,d.html("Lives: 5"),c=0,g.html("Correct Answers: 0"),$(".anagram").remove()}var r=$(".game-box").outerHeight(!0),s=$(".game-box").width(),l=5,c=0,u=null,d=$("#lives"),h=$("#play"),g=$("#winCondition"),m=$("#subject-options"),f=$("#difficulty-options"),v=$(".game-box"),p={BBT:["sheldon","leanord","spock","cheesecake factory","howard","star trek","penny","koothrapoli","bernadette","physics","laundry","halo night","dumplings","brisket","nasa","string theory","dark matter","comiccon","comic book"],LOTR:["arragorn","gimli","gandalf","legolas","mordor","uruk hai","frodo","golumn","orcs","the shire","baggins","sauron","gondor","elves","hobbit","dwarves","two towers","black gate","faramir","saruman","shadowfax","witch king"],FT:["arsenal","bournemouth","burnley","brighton","chelsea","crystal palace","everton","liverpool","newcastle","southampton","barcelona","juventus","ajax","bayern"],CC:["vienna","bridgetown","brasilia","brussels","sofia","hanoi","ottowa","bangui","washington","havana","prague","cairo","helsinki","budapest","jakarta","jerusalem","kingston","tokyo","nairobi","beijing","rabat","oslo","pyongyang","madrid"],WDI:["function","javascript","switch","refactor","namespacing","jquery","const","primitive","object","array","responsive","constructor","recursive","indentation","iterate","method","algorithim","terminal","github","debugging","loop","variable"],SW:["css"]},b={easy:{interval:1e4,speed:1500,winningCondition:5},medium:{interval:7e3,speed:1e3,winningCondition:7},hard:{interval:5e3,speed:700,winningCondition:10},insane:{interval:2500,speed:200,winningCondition:10}},w="",y="";m.on("change",function(){var e=m.val();y=p[e]}),f.on("change",function(){w=f.val(),u=b[w]}),h.click(function(){if(""===w||""===y)alert("A Subject and Difficulty needs to be selected to proceed, please choose both...");else{o();var e=setInterval(function(){c===u.winningCondition?(alert("You beat the game this time, can you manage harder difficutly...?"),clearInterval(e),i()):l<=0?(clearInterval(e),alert("Game Over, sorry you lost, Booooooo!"),i()):o()},u.interval)}}),$("form").on("submit",function(e){e.preventDefault(),$(".anagram").each(function(){var e=this,n=$(this).data("word");$("#answer").val().toLowerCase()===n?($(this).addClass("animatedfadeOutUp").css("color","#39FF14"),g.html("Correct Answers: "+(c+=1)),setTimeout(function(){$(e).remove()},500)):($(".anagram").addClass("animated jello"),setTimeout(function(){$(".anagram").removeClass("jello")},500))}),$("form").trigger("reset")}),$(window).on("resize",function(){r=$(".game-box").outerHeight(!0)}),$(window).on("resize",function(){s=$(".game-box").width()})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyIkIiwiZ2VuZXJhdGVXb3JkIiwiaW5kZXgiLCJmbG9vciIsIk1hdGgiLCJyYW5kb20iLCJzZWxlY3RlZFN1YmplY3QiLCJsZW5ndGgiLCJzZWxlY3RlZFdvcmQiLCJzcGxpY2UiLCJnZW5lcmF0ZUFuYWdyYW0iLCJzcGxpdCIsInNvcnQiLCJqb2luIiwiZ2VuZXJhdGVBbmFncmFtRWxlbWVudCIsIiRhbmFncmFtIiwibGVmdCIsImNlaWwiLCJ3aWR0aCIsImNzcyIsImFuYWdyYW1IaXRzVGhlQm90dG9tIiwiX3RoaXMiLCJ0aGlzIiwicm91bmQiLCJwb3NpdGlvbiIsInRvcCIsImhlaWdodCIsImhhc0NsYXNzIiwibGlmZVNjb3JlIiwiJGxpdmVzIiwiYWRkQ2xhc3MiLCJwbGF5R2FtZSIsInNjcmFtYmxlZFdvcmQiLCJzZWxlY3RlZEFuYWdyYW0iLCIkY29udGFpbmVyIiwic2V0SW50ZXJ2YWwiLCJzcGVlZCIsImRpZmZpY3VsdHkiLCJodG1sIiwid2luQ29uZGl0aW9uIiwicmVtb3ZlIiwib3V0ZXJIZWlnaHQiLCIkcGxheUdhbWUiLCIkd2luQ29uZGl0aW9uIiwiJHN1YmplY3RPcHRpb25zIiwiJGRpZmZpY3VsdHlPcHRpb25zIiwiQkJUIiwiTE9UUiIsImNhdGVnb3JpZXMiLCJGVCIsIkNDIiwic2V0dGluZ3MiLCJlYXN5IiwiaW50ZXJ2YWwiLCJ3aW5uaW5nQ29uZGl0aW9uIiwibWVkaXVtIiwiaGFyZCIsImluc2FuZSIsInNlbGVjdGVkRGlmZmljdWx0eSIsInZhbCIsInZhbHVlIiwiY2xpY2siLCJhbGVydCIsInJlc2V0IiwiY2xlYXJJbnRlcnZhbCIsIm9uIiwiZSIsInByZXZlbnREZWZhdWx0IiwiZWFjaCIsIl90aGlzMiIsImNoZWNrZXIiLCJkYXRhIiwidG9Mb3dlckNhc2UiLCJzZXRUaW1lb3V0IiwicmVtb3ZlQ2xhc3MiLCJ0cmlnZ2VyIiwid2luZG93Il0sIm1hcHBpbmdzIjoiWUFBQUEsR0FBRSxXQXNE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cmNlc0NvbnRlbnQiOlsiJCgoKSA9PiB7XG4gIGxldCBoZWlnaHQgPSAkKCcuZ2FtZS1ib3gnKS5vdXRlckhlaWdodCh0cnVlKTtcbiAgbGV0IHdpZHRoID0gJCgnLmdhbWUtYm94Jykud2lkdGgoKTtcbiAgbGV0IGxpZmVTY29yZSA9IDU7XG4gIGxldCB3aW5Db25kaXRpb24gPSAwO1xuICBsZXQgZGlmZmljdWx0eSA9IG51bGw7XG4gIGNvbnN0ICRsaXZlcyA9ICQoJyNsaXZlcycpO1xuICBjb25zdCAkcGxheUdhbWUgPSAkKCcjcGxheScpO1xuICBjb25zdCAkd2luQ29uZGl0aW9uID0gJCgnI3dpbkNvbmRpdGlvbicpO1xuICBjb25zdCAkc3ViamVjdE9wdGlvbnMgPSAkKCcjc3ViamVjdC1vcHRpb25zJyk7XG4gIGNvbnN0ICRkaWZmaWN1bHR5T3B0aW9ucyA9ICQoJyNkaWZmaWN1bHR5LW9wdGlvbnMnKTtcbiAgY29uc3QgJGNvbnRhaW5lciA9ICQoJy5nYW1lLWJveCcpO1xuICBjb25zdCBjYXRlZ29yaWVzID0ge1xuICAgIEJCVDogWydzaGVsZG9uJywnbGVhbm9yZCcsJ3Nwb2NrJywnY2hlZXNlY2FrZSBmYWN0b3J5JywnaG93YXJkJywnc3RhciB0cmVrJywncGVubnknLCdrb290aHJhcG9saScsJ2Jlcm5hZGV0dGUnLCdwaHlzaWNzJywnbGF1bmRyeScsJ2hhbG8gbmlnaHQnLCdkdW1wbGluZ3MnLCAnYnJpc2tldCcsJ25hc2EnLCdzdHJpbmcgdGhlb3J5JywnZGFyayBtYXR0ZXInLCAnY29taWNjb24nLCdjb21pYyBib29rJ10sXG4gICAgTE9UUjogWydhcnJhZ29ybicsICdnaW1saScsJ2dhbmRhbGYnLCdsZWdvbGFzJywnbW9yZG9yJywndXJ1ayBoYWknLCdmcm9kbycsJ2dvbHVtbicsJ29yY3MnLCd0aGUgc2hpcmUnLCdiYWdnaW5zJywnc2F1cm9uJywgJ2dvbmRvcicsJ2VsdmVzJywnaG9iYml0JywnZHdhcnZlcycsJ3R3byB0b3dlcnMnLCdibGFjayBnYXRlJywnZmFyYW1pcicsJ3NhcnVtYW4nLCdzaGFkb3dmYXgnLCd3aXRjaCBraW5nJ10sXG4gICAgRlQ6IFsnYXJzZW5hbCcsJ2JvdXJuZW1vdXRoJywnYnVybmxleScsJ2JyaWdodG9uJywnY2hlbHNlYScsJ2NyeXN0YWwgcGFsYWNlJywnZXZlcnRvbicsJ2xpdmVycG9vbCcsJ25ld2Nhc3RsZScsJ3NvdXRoYW1wdG9uJywnYmFyY2Vsb25hJywnanV2ZW50dXMnLCdhamF4JywnYmF5ZXJuJ10sXG4gICAgQ0M6IFsndmllbm5hJywnYnJpZGdldG93bicsJ2JyYXNpbGlhJywnYnJ1c3NlbHMnLCdzb2ZpYScsJ2hhbm9pJywnb3R0b3dhJywnYmFuZ3VpJywnd2FzaGluZ3RvbicsJ2hhdmFuYScsJ3ByYWd1ZScsJ2NhaXJvJywnaGVsc2lua2knLCdidWRhcGVzdCcsJ2pha2FydGEnLCdqZXJ1c2FsZW0nLCdraW5nc3RvbicsJ3Rva3lvJywnbmFpcm9iaScsJ2JlaWppbmcnLCdyYWJhdCcsJ29zbG8nLCdweW9uZ3lhbmcnLCdtYWRyaWQnXSxcbiAgICBXREk6IFsnZnVuY3Rpb24nLCdqYXZhc2NyaXB0Jywnc3dpdGNoJywncmVmYWN0b3InLCduYW1lc3BhY2luZycsJ2pxdWVyeScsJ2NvbnN0JywncHJpbWl0aXZlJywnb2JqZWN0JywnYXJyYXknLCdyZXNwb25zaXZlJywnY29uc3RydWN0b3InLCdyZWN1cnNpdmUnLCdpbmRlbnRhdGlvbicsJ2l0ZXJhdGUnLCdtZXRob2QnLCdhbGdvcml0aGltJywndGVybWluYWwnLCdnaXRodWInLCdkZWJ1Z2dpbmcnLCdsb29wJywndmFyaWFibGUnXSxcbiAgICBTVzogWydjc3MnXVxuICB9O1xuICBjb25zdCBzZXR0aW5ncyA9IHtcbiAgICBlYXN5OiB7XG4gICAgICBpbnRlcnZhbDogMTAwMDAsXG4gICAgICBzcGVlZDogMTUwMCxcbiAgICAgIHdpbm5pbmdDb25kaXRpb246IDVcbiAgICB9LFxuICAgIG1lZGl1bToge1xuICAgICAgaW50ZXJ2YWw6IDcwMDAsXG4gICAgICBzcGVlZDogMTAwMCxcbiAgICAgIHdpbm5pbmdDb25kaXRpb246IDdcbiAgICB9LFxuICAgIGhhcmQ6IHtcbiAgICAgIGludGVydmFsOiA1MDAwLFxuICAgICAgc3BlZWQ6IDcwMCxcbiAgICAgIHdpbm5pbmdDb25kaXRpb246IDEwXG4gICAgfSxcbiAgICBpbnNhbmU6IHtcbiAgICAgIGludGVydmFsOiAyNTAwLFxuICAgICAgc3BlZWQ6IDIwMCxcbiAgICAgIHdpbm5pbmdDb25kaXRpb246IDEwXG4gICAgfVxuICB9O1xuICAvLy8vLy8vLy8vLy8vLy8vLy8vL1NlbGVjdG9ycy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICBsZXQgc2VsZWN0ZWREaWZmaWN1bHR5ID0gJyc7XG4gIGxldCBzZWxlY3RlZFN1YmplY3QgPSAnJztcbiAgJHN1YmplY3RPcHRpb25zLm9uKCdjaGFuZ2UnLCAoKSA9PiB7XG4gICAgY29uc3QgdmFsdWUgPSAkc3ViamVjdE9wdGlvbnMudmFsKCk7XG4gICAgc2VsZWN0ZWRTdWJqZWN0ID0gY2F0ZWdvcmllc1t2YWx1ZV07XG4gIH0pO1xuICAkZGlmZmljdWx0eU9wdGlvbnMub24oJ2NoYW5nZScsICgpID0+IHtcbiAgICBzZWxlY3RlZERpZmZpY3VsdHkgPSAkZGlmZmljdWx0eU9wdGlvbnMudmFsKCk7XG4gICAgZGlmZmljdWx0eSA9IHNldHRpbmdzW3NlbGVjdGVkRGlmZmljdWx0eV07XG4gIH0pO1xuICAvLy8vLy8vLy8vLy8vLy8vLy8vL1NlbGVjdG9ycyBFbmQvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgLy8vLy8vLy8vLy8vLy8vLy8vL0Z1bmN0aW9ucyB0aGF0IGNoYW5nZSB0aGUgd29yZC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgLy8vIFRoaXMgc2VsZWN0cyBhIHJhbmRvbSB3b3JkIGZyb20gdGhlIHNlbGVjdGVkIGFycmF5XG4gIGZ1bmN0aW9uIGdlbmVyYXRlV29yZCgpIHtcbiAgICAvLy9UaGlzIGdlbmVyYXRlcyBhIHJhbmRvbSBudW1iZXIgd2l0aGluIHRoZSBsZW5ndGggb2YgdGhlIGFycmF5LCBvZiB0aGUgc3ViamVjdCBzZWxlY3RlZCBieSB0aGUgdXNlciAoc2VsZWN0ZWRTdWJqZWN0KWFuZCBzdG9yZXMgaXRzIGluZGV4IGluIGEgdmFyaWFibGVcbiAgICBjb25zdCBpbmRleCA9IFtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKlxuICAgICAgc2VsZWN0ZWRTdWJqZWN0Lmxlbmd0aCldO1xuXG4gICAgICAvLy8gVGhpcyB0YWtlcyB0aGUgc2VsZWN0ZWRTdWJqZWN0IGFuZCBpbiB0aGUgc3F1YXJlIGJyYWNrZXRzIHBhc3NlcyBpbiB0aGUgaW5kZXggdmFyaWFibGUgc28gdGhhdCB0aGUgbnVtYmVyIGdlbmVyZWF0ZWQgcmFuZG9tbHkgZnJvbSB0aGUgbGVuZ3RoIG9mIHRoZSBhcnJheSBub3cgc2VsZWN0cyB0aGF0IHdvcmQgYW5kIHN0b3JlcyBpdCBpbiBzZWxlY3RlZFdvcmRcbiAgICBjb25zdCBzZWxlY3RlZFdvcmQgPSBzZWxlY3RlZFN1YmplY3RbaW5kZXhdO1xuXG4gICAgICAvLy8gVGhpcyB0YWtlcyB0aGUgc2VsZWN0ZWRTdWJqZWN0IGFuZCB1c2luZyBzcGxpY2UgZ2V0cyByaWQgb2YgdGhlIHdvcmQgdGhhdCB3YXMganVzdCBwcmV2aW91c2x5IHN0b3JlZCBpbiB0aGUgc2VsZWN0ZWRXb3JkIG9mZiB0aGUgYXJyYXkgYnkgdXNpbmcgaXRzIGluZGV4XG4gICAgc2VsZWN0ZWRTdWJqZWN0LnNwbGljZShpbmRleCwgMSk7XG4gICAgcmV0dXJuIHNlbGVjdGVkV29yZDtcbiAgfVxuXG4gICAgLy8vIFRoaXMgdGFrZXMgdGhlIHJhbmRvbWx5IHNlbGVjdGVkIHdvcmQgYW5kIHNodWZmbGVzIGl0IGludG8gYW4gYW5hZ3JhbVxuICBmdW5jdGlvbiBnZW5lcmF0ZUFuYWdyYW0oc2VsZWN0ZWRXb3JkKSB7XG4gICAgICAvLy8gVGhpcyBpcyBzcGxpdHRpbmcgdGhlIHNlbGVjdGVkV29yZCAoYSBzdHJpbmcpIGFwYXJ0IHRoZW4gc29ydGluZyBpdCBhXG4gICAgcmV0dXJuIHNlbGVjdGVkV29yZC5zcGxpdCgnJykuc29ydChmdW5jdGlvbigpe1xuICAgICAgcmV0dXJuIDAuNSAtIE1hdGgucmFuZG9tKCk7XG4gICAgfSApLmpvaW4oJycpO1xuICB9XG4gICAgLy8vLy8vVGhpcyBnZW5lcmF0ZXMgYSBkaWZmZXJlbnQgZWxlbWVudCBpbiBhIGRpZmZlcm50IHBvc2l0aW9uIGZyb20gdGhlIEhUTUxcbiAgZnVuY3Rpb24gZ2VuZXJhdGVBbmFncmFtRWxlbWVudCAoKSB7XG4gICAgLy8vY3JlYXRlcyBhIHAgdGFnIHdpdGggdGhlIGNsYXNzIG9mIGFuYWdyYW0gLSBzdG9yZXMgaXQgaW4gYSB2YXJpYWJsZVxuICAgIGNvbnN0ICRhbmFncmFtID0gJCgnPHAgY2xhc3M9XCJhbmFncmFtXCI+PC9wPicpO1xuICAgIC8vIHRoaXMgZ2VuZXJhdGVzIGEgcmFuZG9tIG51bWJlciBiZXR3ZWVuIHRoZSB3aWR0aCBvZiB0aGUgb2YgdGhlIGdhbWUgYm94LCAyNTAgaXMgdGFrZW4gYXdheSBzbyBsb25nZXIgd29yZHMgZG8gbm90IG92ZXJmbG93IGluIHRoZSBib3ggYW5kIHN0b3JlcyBpdCBpbiBhIHZhcmliYWxlXG4gICAgY29uc3QgbGVmdCA9IE1hdGguY2VpbCgoTWF0aC5yYW5kb20oKSAqICh3aWR0aCAtIDI1MCkpKTtcbiAgICAvLy8gdGhpcyBzZXRzIHRoZSBwb3NpdGlvbiBvZiBwLXRhZyB1c2luZyB0aGUgcmFuZG9tbHkgZ2VucmVhdGVkIG51bWJlciBhcyBhIHBzb2l0aW9uXG4gICAgJGFuYWdyYW0uY3NzKHtsZWZ0OiBsZWZ0fSk7XG4gICAgcmV0dXJuICRhbmFncmFtO1xuICB9XG4gICAgLy8vLy8vIFRoaXMgaXMgZm9yIHdoZW4gdGhlIHdvcmQgaGl0cyB0aGUgYm90dG9tIGFuZCAnZmFsbHMgb2ZmJ1xuICBmdW5jdGlvbiBhbmFncmFtSGl0c1RoZUJvdHRvbSAoKSB7XG4gICAgJCgnLmFuYWdyYW0nKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIGNvbnN0IHBvc2l0aW9uID0gTWF0aC5yb3VuZCgkKHRoaXMpLnBvc2l0aW9uKCkudG9wKTtcbiAgICAgIGlmIChwb3NpdGlvbiA+PSBoZWlnaHQgLSA3NSkge1xuICAgICAgICBpZighJCh0aGlzKS5oYXNDbGFzcygnaGluZ2UnKSkgbGlmZVNjb3JlIC09IDE7XG4gICAgICAgICRsaXZlcy5odG1sKGBMaXZlcyBMZWZ0OiAke2xpZmVTY29yZX1gKTsvL05vdCBXb3JraW5nXG4gICAgICAgICQodGhpcykuY3NzKCdjb2xvcicsJ3JlZCcpO1xuICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdhbmltYXRlZCBoaW5nZScpO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAkKHRoaXMpLnJlbW92ZSgpO1xuICAgICAgICB9LDUwMCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vRnVuY3Rpb25zIHRoYXQgY2hhbmdlIHRoZSB3b3JkLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgLy8vLy8vLy8vLy8vLy8vLy8vTWFpbiBmdWNudGlvbiB0byBwbGF5IGdhbWUgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgIGZ1bmN0aW9uIHBsYXlHYW1lICgpe1xuICAgICAgY29uc3Qgc2VsZWN0ZWRXb3JkID0gZ2VuZXJhdGVXb3JkKCk7XG4gICAgICBjb25zdCBzY3JhbWJsZWRXb3JkID0gZ2VuZXJhdGVBbmFncmFtKHNlbGVjdGVkV29yZCk7XG4gICAgICBjb25zdCBzZWxlY3RlZEFuYWdyYW0gPSBnZW5lcmF0ZUFuYWdyYW1FbGVtZW50KCk7XG4gICAgICBzZWxlY3RlZEFuYWdyYW0udGV4dChzY3JhbWJsZWRXb3JkKTtcbiAgICAgIHNlbGVjdGVkQW5hZ3JhbS5hdHRyKCdkYXRhLXdvcmQnLCBzZWxlY3RlZFdvcmQpO1xuICAgICAgJGNvbnRhaW5lci5hcHBlbmQoc2VsZWN0ZWRBbmFncmFtKTtcbiAgICAgIHNldEludGVydmFsKGZ1bmN0aW9uKCkge1xuICAgICAgICBzZWxlY3RlZEFuYWdyYW0uY3NzKCd0b3AnLCAnKz0xMHB4Jyk7XG4gICAgICAgIGFuYWdyYW1IaXRzVGhlQm90dG9tKCk7XG4gICAgICB9LGRpZmZpY3VsdHkuc3BlZWQpO1xuICAgIH1cbiAgICAvLy8vLy8vVGhpcyBpcyB0aGUgcmVzZXQgZnVuY3Rpb24gYWZ0ZXIgYSBnYW1lIGhhcyBmaW5pc2hlZC8vLy8vLy8vLy8vLy8vLy9cbiAgZnVuY3Rpb24gcmVzZXQgKCkge1xuICAgIGxpZmVTY29yZSA9IDU7XG4gICAgJGxpdmVzLmh0bWwoJ0xpdmVzOiA1Jyk7XG4gICAgd2luQ29uZGl0aW9uID0gMDtcbiAgICAkd2luQ29uZGl0aW9uLmh0bWwoJ0NvcnJlY3QgQW5zd2VyczogMCcpO1xuICAgICQoJy5hbmFncmFtJykucmVtb3ZlKCk7XG4gIH1cbiAgICAvLy8gVGhpcyBpcyBmb3Igd2hlbiB0aGUgcGxheWVyIGlzIHJlYWR5IHRvIHBsYXksIGFmdGVyIHRoZSBkaWZmaWN1bHR5IGlzIHNlbGVjdGVkIGFuZCB0aGUgcGxheSBidXR0b24gaXMgY2xpY2tlZCAtIHNvIHRoaXMgc3RhcnRzIHRoZSBnYW1lIVxuICAkcGxheUdhbWUuY2xpY2soIGZ1bmN0aW9uKCl7XG4gICAgaWYgKHNlbGVjdGVkRGlmZmljdWx0eSA9PT0gJycgfHwgc2VsZWN0ZWRTdWJqZWN0ID09PSAnJykge1xuICAgICAgYWxlcnQoJ0EgU3ViamVjdCBhbmQgRGlmZmljdWx0eSBuZWVkcyB0byBiZSBzZWxlY3RlZCB0byBwcm9jZWVkLCBwbGVhc2UgY2hvb3NlIGJvdGguLi4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcGxheUdhbWUoKTtcbiAgICAgIGNvbnN0IGludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtcbiAgICAgICAgaWYgKHdpbkNvbmRpdGlvbiA9PT0gZGlmZmljdWx0eS53aW5uaW5nQ29uZGl0aW9uKSB7XG4gICAgICAgICAgYWxlcnQoJ1lvdSBiZWF0IHRoZSBnYW1lIHRoaXMgdGltZSwgY2FuIHlvdSBtYW5hZ2UgaGFyZGVyIGRpZmZpY3V0bHkuLi4/Jyk7XG4gICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gICAgICAgICAgcmVzZXQoKTtcbiAgICAgICAgfSBlbHNlIGlmIChsaWZlU2NvcmUgPD0gMCl7XG4gICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gICAgICAgICAgYWxlcnQoJ0dhbWUgT3Zlciwgc29ycnkgeW91IGxvc3QsIEJvb29vb29vIScpO1xuICAgICAgICAgIHJlc2V0KCk7XG4gICAgICAgIH0gZWxzZXtcbiAgICAgICAgICBwbGF5R2FtZSgpO1xuICAgICAgICB9XG4gICAgICB9LGRpZmZpY3VsdHkuaW50ZXJ2YWwpOyB9XG4gIH0pO1xuXG4gICAgICAvLy8gVGhpcyBpcyB0aGUgdmFsaWRhdGlvbiB3aGVuIHRoZSBidXR0b24gaXMgY2xpY2tlZCB0byBzdWJtaXQgYW4gYW5zd2VyLCB0aGlzIGFsc28gaG9sZHMgdGhlIGFuaW1hdGlvbnMgYXBwbGllZCB0byB0aGUgZ2FtZS5cbiAgJCgnZm9ybScpLm9uKCdzdWJtaXQnLCBmdW5jdGlvbiAoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAkKCcuYW5hZ3JhbScpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgY29uc3QgY2hlY2tlciA9ICQodGhpcykuZGF0YSgnd29yZCcpO1xuICAgICAgaWYgKCQoJyNhbnN3ZXInKS52YWwoKS50b0xvd2VyQ2FzZSgpID09PSBjaGVja2VyKXtcbiAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnYW5pbWF0ZWRmYWRlT3V0VXAnKS5jc3MoJ2NvbG9yJywnIzM5RkYxNCcpO1xuICAgICAgICAkd2luQ29uZGl0aW9uLmh0bWwoYENvcnJlY3QgQW5zd2VyczogJHt3aW5Db25kaXRpb24gPXdpbkNvbmRpdGlvbiArIDF9YCk7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICQodGhpcykucmVtb3ZlKCk7XG4gICAgICAgIH0sNTAwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICQoJy5hbmFncmFtJykuYWRkQ2xhc3MoJ2FuaW1hdGVkIGplbGxvJyk7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICQoJy5hbmFncmFtJykucmVtb3ZlQ2xhc3MoJ2plbGxvJyk7XG4gICAgICAgIH0sNTAwKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICAkKCdmb3JtJykudHJpZ2dlcigncmVzZXQnKTtcbiAgfSk7XG5cbiAgICAgIC8vLy8vIHRoaXMgY2hhbmdlcyB0aGUgaGVpZ2h0IHByb3BlcnR5IGJhc2VkIG9uIHRoZSByZXNpemluZyBvZiB0aGUgYnJvd3NlcnMgd2luZG93XG4gICQod2luZG93KS5vbigncmVzaXplJywgKCkgPT4ge1xuICAgIGhlaWdodCA9ICQoJy5nYW1lLWJveCcpLm91dGVySGVpZ2h0KHRydWUpO1xuICB9KTtcbiAgJCh3aW5kb3cpLm9uKCdyZXNpemUnLCAoKSA9PiB7XG4gICAgd2lkdGggPSAkKCcuZ2FtZS1ib3gnKS53aWR0aCgpO1xuICB9KTtcblxufSk7XG4iXX0=
