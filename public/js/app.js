"use strict";$(function(){function n(){var n=[Math.floor(Math.random()*b.length)],a=b[n];return b.splice(n,1),a}function a(n){return n.split("").sort(function(){return.5-Math.random()}).join("")}function e(){var n=$('<p class="anagram"></p>'),a=Math.ceil(700*Math.random());return n.css({left:a}),n}function t(){$(".anagram").each(function(){var n=this;Math.round($(this).position().top)>=490&&(console.log(r),$(this).hasClass("hinge")||(r-=1),c.html("Lives Left: "+r),$(this).css("color","red"),$(this).addClass("animated hinge"),setTimeout(function(){$(n).remove()},500))})}function o(){var o=n(),i=a(o),r=e();r.text(i),r.attr("data-word",o),g.append(r),setInterval(function(){r.css("top","+=10px"),t()},l.speed)}function i(){r=5,c.html("Lives: 5"),s=0,h.html("Correct Answers: 0"),$(".anagram").remove()}var r=5,s=0,l=null,c=$("#lives"),u=$("#play"),h=$("#winCondition"),m=$("#subject-options"),d=$("#difficulty-options"),g=$(".ag-tetris"),p={BBT:["sheldon","leanord","spock","cheesecake factory","howard","startrek","penny","koothrapoli","bernadette","physics","laundry","halonight","dumplings","brisket","nasa","stringtheory","darkmatter","comiccon","comicbook"],LOTR:["arragon","gimli","gandalf","legolas","mordor","uruk hai","frodo","golumn","orcs","theshire","baggins","sauron","gondor","elves","hobbit","dwarves","twotowers","blackgate","fariamir","saruman","shadowfax","witchking"],EPL:["arsenal","bournemouth","burnley","brighton","chelsea","crystal palace","everton","leicstercity","liverpool","manchestercity","manchesterunited","newcastle","southampton","stoke city","tottenhamhotspur","watford","westbrom","westham"],CC:["buenosaires","vienna","bridgetown","brasilia","brussels","sofia","phnom peh","ottowa","bangui","san jose","havana","prauge","cairo","helsinki","budapest","jakarta","jerusalem","kingston","tokyo","nairobi","kualalumpur","rabat","oslo","pyongyang"],WDI:["function","javascript","switch","refactor","namespacing","jquery","const","primitive","object","array","responsive","constructor","reccursive","indentation","iterate","method","algorithim","terminal","github","debugging","whileloop","variable"]},v={easy:{interval:1e4,speed:1500,winningCondition:5},medium:{interval:7e3,speed:1e3,winningCondition:7},hard:{interval:5e3,speed:700,winningCondition:10},insane:{interval:2500,speed:200,winningCondition:10}},f="",b="";m.on("change",function(){var n=m.val();b=p[n]}),d.on("change",function(){f=d.val(),l=v[f],console.log(l)}),u.click(function(){console.log(l[s]),o();var n=setInterval(function(){s===l.winningCondition?(alert("You beat the game this time, can you manage amedium difficutly...?"),clearInterval(n),i()):r<=0?(clearInterval(n),alert("Game Over, sorry you lost, Booooooo!"),i()):o()},l.interval)}),$("form").on("submit",function(n){n.preventDefault(),$(".anagram").each(function(){var n=this,a=$(this).data("word");$("#answer").val()===a?($(this).addClass("animated fadeOutUp").css("color","#39FF14"),h.html("Correct Answers: "+(s+=1)),setTimeout(function(){$(n).remove()},500)):($(".anagram").addClass("animated jello"),setTimeout(function(){$(".anagram").removeClass("jello")},500))}),$("form").trigger("reset")})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyIkIiwiZ2VuZXJhdGVXb3JkIiwiaW5kZXgiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJzZWxlY3RlZFN1YmplY3QiLCJsZW5ndGgiLCJzZWxlY3RlZFdvcmQiLCJnZW5lcmF0ZUFuYWdyYW0iLCJzcGxpdCIsInNvcnQiLCJqb2luIiwiZ2VuZXJhdGVBbmFncmFtRWxlbWVudCIsIiRhbmFncmFtIiwibGVmdCIsImFuYWdyYW1IaXRzVGhlQm90dG9tIiwiZWFjaCIsIl90aGlzIiwidGhpcyIsInBvc2l0aW9uIiwidG9wIiwiY29uc29sZSIsImxvZyIsImxpZmVTY29yZSIsImhhc0NsYXNzIiwic2V0VGltZW91dCIsIiRsaXZlcyIsInJlbW92ZSIsInBsYXlHYW1lIiwic2NyYW1ibGVkV29yZCIsInNlbGVjdGVkQW5hZ3JhbSIsInRleHQiLCIkY29udGFpbmVyIiwic2V0SW50ZXJ2YWwiLCJjc3MiLCJhcHBlbmQiLCJzcGVlZCIsImh0bWwiLCJ3aW5Db25kaXRpb24iLCIkd2luQ29uZGl0aW9uIiwiZGlmZmljdWx0eSIsIiRwbGF5R2FtZSIsIiRzdWJqZWN0T3B0aW9ucyIsIiRkaWZmaWN1bHR5T3B0aW9ucyIsIkJCVCIsIkxPVFIiLCJjYXRlZ29yaWVzIiwiRVBMIiwic2V0dGluZ3MiLCJlYXN5IiwiaW50ZXJ2YWwiLCJ3aW5uaW5nQ29uZGl0aW9uIiwibWVkaXVtIiwiaGFyZCIsImluc2FuZSIsInNlbGVjdGVkRGlmZmljdWx0eSIsInZhbCIsInZhbHVlIiwiY2xpY2siLCJhbGVydCIsImNsZWFySW50ZXJ2YWwiLCJyZXNldCIsIm9uIiwiZSIsIl90aGlzMiIsImNoZWNrZXIiLCJkYXRhIiwicHJldmVudERlZmF1bHQiLCJhZGRDbGFzcyIsInJlbW92ZUNsYXNzIiwidHJpZ2dlciJdLCJtYXBwaW5ncyI6IllBQUFBLEdBQUUsV0FvREUsUUFBQUMsS0FDQSxHQUFBQyxJQUFBQyxLQUFBQyxNQUFBRCxLQUFBRSxTQUFBQyxF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bUQsS0FDQWQsR0FBbUJJLEVBQVVXLEtBRTNCcEQsRUFBa0J5QyxHQUFBQSxTQUFXVyxXQUYvQkYsRUFBQVosRUFBQWEsTUFJQWIsRUFBQUEsRUFBc0JZLEdBQ3BCQSxRQUFBQSxJQUFBQSxLQTZEQWhCLEVBQUFBLE1BQWNGLFdBQ1poQixRQUFBQyxJQUFZSyxFQUFkVyxJQUNEVixHQUNELElBQUFzQixHQUFBakIsWUFBQSxXQUNVeUIsSUFBT2xCLEVBQVVXLGtCQUN6QjlCLE1BQVltQixzRUFDWlosY0FBQUEsR0FDTXNCLEtBQ0FaLEdBQWlCRSxHQUNuQm1CLGNBQU1ULEdBQ05VLE1BQUFBLHdDQUNBQyxLQUVBRCxLQUVBQyxFQUFBQSxZQUdEOUQsRUFBQSxRQUFBK0QsR0FBQSxTQUFBLFNBQUFDLEdBWGNBLEVBWWZ2QixpQkFmSnpDLEVBQUEsWUFBQWlCLEtBQUEsV0FBQSxHQUFBZ0QsR0FBQTlDLEtBaUJBK0MsRUFBQWxFLEVBQUFtQixNQUFBZ0QsS0FBQSxPQUNVSixHQUFWLFdBQXVCTixRQUFVTyxHQUM3QkksRUFBQUEsTUFBQUEsU0FBRixzQkFBQWpDLElBQUEsUUFBQSxXQUNFSyxFQUFpQkYsS0FBakIscUJBQTZCQyxHQUFBLElBQUFiLFdBQUEsV0FNekIxQixFQUFBQSxHQUFRNEIsVUFMTnNDLE9BRUZsRSxFQUFBLFlBQUZxRSxTQUFpQixrQkFDakI3QixXQUFBQSxXQUNBZCxFQUFBQSxZQUFXNEMsWUFBTSxVQUNmdEUsUUFHRkEsRUFBQUEsUUFBRXVFLFFBQVlGIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbIiQoKCkgPT4ge1xuICBsZXQgbGlmZVNjb3JlID0gNTtcbiAgbGV0IHdpbkNvbmRpdGlvbiA9IDA7XG4gIGxldCBkaWZmaWN1bHR5ID0gbnVsbDtcbiAgY29uc3QgJGxpdmVzID0gJCgnI2xpdmVzJyk7XG4gIGNvbnN0ICRwbGF5R2FtZSA9ICQoJyNwbGF5Jyk7XG4gIGNvbnN0ICR3aW5Db25kaXRpb24gPSAkKCcjd2luQ29uZGl0aW9uJyk7XG4gIGNvbnN0ICRzdWJqZWN0T3B0aW9ucyA9ICQoJyNzdWJqZWN0LW9wdGlvbnMnKTtcbiAgY29uc3QgJGRpZmZpY3VsdHlPcHRpb25zID0gJCgnI2RpZmZpY3VsdHktb3B0aW9ucycpO1xuICBjb25zdCAkY29udGFpbmVyID0gJCgnLmFnLXRldHJpcycpO1xuICBjb25zdCBjYXRlZ29yaWVzID0ge1xuICAgIEJCVDogWydzaGVsZG9uJywnbGVhbm9yZCcsJ3Nwb2NrJywnY2hlZXNlY2FrZSBmYWN0b3J5JywnaG93YXJkJywnc3RhcnRyZWsnLCdwZW5ueScsJ2tvb3RocmFwb2xpJywnYmVybmFkZXR0ZScsJ3BoeXNpY3MnLCdsYXVuZHJ5JywnaGFsb25pZ2h0JywnZHVtcGxpbmdzJywgJ2JyaXNrZXQnLCduYXNhJywnc3RyaW5ndGhlb3J5JywnZGFya21hdHRlcicsICdjb21pY2NvbicsJ2NvbWljYm9vayddLFxuICAgIExPVFI6IFsnYXJyYWdvbicsICdnaW1saScsJ2dhbmRhbGYnLCdsZWdvbGFzJywnbW9yZG9yJywndXJ1ayBoYWknLCdmcm9kbycsJ2dvbHVtbicsJ29yY3MnLCd0aGVzaGlyZScsJ2JhZ2dpbnMnLCdzYXVyb24nLCAnZ29uZG9yJywnZWx2ZXMnLCdob2JiaXQnLCdkd2FydmVzJywndHdvdG93ZXJzJywnYmxhY2tnYXRlJywnZmFyaWFtaXInLCdzYXJ1bWFuJywnc2hhZG93ZmF4Jywnd2l0Y2hraW5nJ10sXG4gICAgRVBMOiBbJ2Fyc2VuYWwnLCdib3VybmVtb3V0aCcsJ2J1cm5sZXknLCdicmlnaHRvbicsJ2NoZWxzZWEnLCdjcnlzdGFsIHBhbGFjZScsJ2V2ZXJ0b24nLCdsZWljc3RlcmNpdHknLCdsaXZlcnBvb2wnLCdtYW5jaGVzdGVyY2l0eScsJ21hbmNoZXN0ZXJ1bml0ZWQnLCduZXdjYXN0bGUnLCdzb3V0aGFtcHRvbicsJ3N0b2tlIGNpdHknLCd0b3R0ZW5oYW1ob3RzcHVyJywnd2F0Zm9yZCcsJ3dlc3Ricm9tJywnd2VzdGhhbSddLFxuICAgIENDOiBbJ2J1ZW5vc2FpcmVzJywndmllbm5hJywnYnJpZGdldG93bicsJ2JyYXNpbGlhJywnYnJ1c3NlbHMnLCdzb2ZpYScsJ3Bobm9tIHBlaCcsJ290dG93YScsJ2Jhbmd1aScsJ3NhbiBqb3NlJywnaGF2YW5hJywncHJhdWdlJywnY2Fpcm8nLCdoZWxzaW5raScsJ2J1ZGFwZXN0JywnamFrYXJ0YScsJ2plcnVzYWxlbScsJ2tpbmdzdG9uJywndG9reW8nLCduYWlyb2JpJywna3VhbGFsdW1wdXInLCdyYWJhdCcsJ29zbG8nLCdweW9uZ3lhbmcnXSxcbiAgICBXREk6IFsnZnVuY3Rpb24nLCdqYXZhc2NyaXB0Jywnc3dpdGNoJywncmVmYWN0b3InLCduYW1lc3BhY2luZycsJ2pxdWVyeScsJ2NvbnN0JywncHJpbWl0aXZlJywnb2JqZWN0JywnYXJyYXknLCdyZXNwb25zaXZlJywnY29uc3RydWN0b3InLCdyZWNjdXJzaXZlJywnaW5kZW50YXRpb24nLCdpdGVyYXRlJywnbWV0aG9kJywnYWxnb3JpdGhpbScsJ3Rlcm1pbmFsJywnZ2l0aHViJywnZGVidWdnaW5nJywnd2hpbGVsb29wJywndmFyaWFibGUnXVxuICB9O1xuICAgIGNvbnN0IHNldHRpbmdzID0ge1xuICAgICAgZWFzeToge1xuICAgICAgICBpbnRlcnZhbDogMTAwMDAsXG4gICAgICAgIHNwZWVkOiAxNTAwLFxuICAgICAgICB3aW5uaW5nQ29uZGl0aW9uOiA1XG4gICAgICB9LFxuICAgICAgbWVkaXVtOiB7XG4gICAgICAgIGludGVydmFsOiA3MDAwLFxuICAgICAgICBzcGVlZDogMTAwMCxcbiAgICAgICAgd2lubmluZ0NvbmRpdGlvbjogN1xuICAgICAgfSxcbiAgICAgIGhhcmQ6IHtcbiAgICAgICAgaW50ZXJ2YWw6IDUwMDAsXG4gICAgICAgIHNwZWVkOiA3MDAsXG4gICAgICAgIHdpbm5pbmdDb25kaXRpb246IDEwXG4gICAgICB9LFxuICAgICAgaW5zYW5lOiB7XG4gICAgICAgIGludGVydmFsOiAyNTAwLFxuICAgICAgICBzcGVlZDogMjAwLFxuICAgICAgICB3aW5uaW5nQ29uZGl0aW9uOiAxMFxuICAgICAgfVxuICAgIH07XG4gICAgLy8vLy8vLy8vLy8vLy8vLy8vLy9TZWxlY3RvcnMvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICBsZXQgc2VsZWN0ZWREaWZmaWN1bHR5ID0gJyc7XG4gICAgbGV0IHNlbGVjdGVkU3ViamVjdCA9ICcnO1xuICAgICRzdWJqZWN0T3B0aW9ucy5vbignY2hhbmdlJywgKCkgPT4ge1xuICAgICAgY29uc3QgdmFsdWUgPSAkc3ViamVjdE9wdGlvbnMudmFsKCk7XG4gICAgICBzZWxlY3RlZFN1YmplY3QgPSBjYXRlZ29yaWVzW3ZhbHVlXTtcbiAgICB9KTtcbiAgICAkZGlmZmljdWx0eU9wdGlvbnMub24oJ2NoYW5nZScsICgpID0+IHtcbiAgICAgIHNlbGVjdGVkRGlmZmljdWx0eSA9ICRkaWZmaWN1bHR5T3B0aW9ucy52YWwoKTtcbiAgICAgIGRpZmZpY3VsdHkgPSBzZXR0aW5nc1tzZWxlY3RlZERpZmZpY3VsdHldO1xuICAgICAgY29uc29sZS5sb2coZGlmZmljdWx0eSk7XG4gICAgfSk7XG4gICAgLy8vLy8vLy8vLy8vLy8vLy8vLy9TZWxlY3RvcnMgRW5kLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgLy8vLy8vLy8vLy8vLy8vLy8vL0Z1bmN0aW9ucyB0aGF0IGNoYW5nZSB0aGUgd29yZC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAvLy8gVGhpcyBzZWxlY3RzIGEgcmFuZG9tIHdvcmQgZnJvbSB0aGUgc2VsZWN0ZWQgYXJyYXlcbiAgICBmdW5jdGlvbiBnZW5lcmF0ZVdvcmQoKSB7XG4gICAgICBjb25zdCBpbmRleCA9IFtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBzZWxlY3RlZFN1YmplY3QubGVuZ3RoKV07XG4gICAgICBjb25zdCBzZWxlY3RlZFdvcmQgPSBzZWxlY3RlZFN1YmplY3RbaW5kZXhdO1xuICAgICAgc2VsZWN0ZWRTdWJqZWN0LnNwbGljZShpbmRleCwgMSk7XG4gICAgICByZXR1cm4gc2VsZWN0ZWRXb3JkO1xuICAgIH1cbiAgICAvLy8gVGhpcyB0YWtlcyB0aGUgcmFuZG9tbHkgc2VsZWN0ZWQgd29yZCBhbmQgc2h1ZmZsZXMgaXQgaW50byBhbiBhbmFncmFtXG4gICAgZnVuY3Rpb24gZ2VuZXJhdGVBbmFncmFtKHNlbGVjdGVkV29yZCkge1xuICAgICAgcmV0dXJuIHNlbGVjdGVkV29yZC5zcGxpdCgnJykuc29ydChmdW5jdGlvbigpe1xuICAgICAgICByZXR1cm4gMC41IC0gTWF0aC5yYW5kb20oKTtcbiAgICAgIH0gKS5qb2luKCcnKTtcbiAgICB9XG4gICAgLy8vLy8vVGhpcyBnZW5lcmF0ZXMgYSBkaWZmZXJlbnQgZWxlbWVudCBpbiBhIGRpZmZlcm50IHBvc2l0aW9uIGZyb20gdGhlIEhUTUxcbiAgICBmdW5jdGlvbiBnZW5lcmF0ZUFuYWdyYW1FbGVtZW50ICgpIHtcbiAgICAgIGNvbnN0ICRhbmFncmFtID0gJCgnPHAgY2xhc3M9XCJhbmFncmFtXCI+PC9wPicpO1xuICAgICAgY29uc3QgbGVmdCA9IE1hdGguY2VpbCgoTWF0aC5yYW5kb20oKSAqIDcwMCkpO1xuICAgICAgJGFuYWdyYW0uY3NzKHtsZWZ0OiBsZWZ0fSk7XG4gICAgICByZXR1cm4gJGFuYWdyYW07XG4gICAgfVxuICAgIC8vLy8vLyBUaGlzIGlzIGZvciB3aGVuIHRoZSB3b3JkIGhpdHMgdGhlIGJvdHRvbSBhbmQgJ2ZhbGxzIG9mZidcbiAgICBmdW5jdGlvbiBhbmFncmFtSGl0c1RoZUJvdHRvbSAoKSB7XG4gICAgICAkKCcuYW5hZ3JhbScpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICBjb25zdCBwb3NpdGlvbiA9IE1hdGgucm91bmQoJCh0aGlzKS5wb3NpdGlvbigpLnRvcCk7XG4gICAgICAgIGlmIChwb3NpdGlvbiA+PSA0OTApIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhsaWZlU2NvcmUpO1xuICAgICAgICAgIGlmKCEkKHRoaXMpLmhhc0NsYXNzKCdoaW5nZScpKSBsaWZlU2NvcmUgLT0gMTtcbiAgICAgICAgICAkbGl2ZXMuaHRtbChgTGl2ZXMgTGVmdDogJHtsaWZlU2NvcmV9YCk7Ly9Ob3QgV29ya2luZ1xuICAgICAgICAgICQodGhpcykuY3NzKCdjb2xvcicsJ3JlZCcpO1xuICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2FuaW1hdGVkIGhpbmdlJyk7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAkKHRoaXMpLnJlbW92ZSgpO1xuICAgICAgICAgIH0sNTAwKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIC8vLy8vLy8vLy8vLy8vLy8vLy9GdW5jdGlvbnMgdGhhdCBjaGFuZ2UgdGhlIHdvcmQvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgLy8vLy8vLy8vLy8vLy8vLy8vTWFpbiBmdWNudGlvbiB0byBwbGF5IGdhbWUgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgIGZ1bmN0aW9uIHBsYXlHYW1lICgpe1xuICAgICAgY29uc3Qgc2VsZWN0ZWRXb3JkID0gZ2VuZXJhdGVXb3JkKCk7XG4gICAgICBjb25zdCBzY3JhbWJsZWRXb3JkID0gZ2VuZXJhdGVBbmFncmFtKHNlbGVjdGVkV29yZCk7XG4gICAgICBjb25zdCBzZWxlY3RlZEFuYWdyYW0gPSBnZW5lcmF0ZUFuYWdyYW1FbGVtZW50KCk7XG4gICAgICBzZWxlY3RlZEFuYWdyYW0udGV4dChzY3JhbWJsZWRXb3JkKTtcbiAgICAgIHNlbGVjdGVkQW5hZ3JhbS5hdHRyKCdkYXRhLXdvcmQnLCBzZWxlY3RlZFdvcmQpO1xuICAgICAgJGNvbnRhaW5lci5hcHBlbmQoc2VsZWN0ZWRBbmFncmFtKTtcbiAgICAgIHNldEludGVydmFsKGZ1bmN0aW9uKCkge1xuICAgICAgICBzZWxlY3RlZEFuYWdyYW0uY3NzKCd0b3AnLCAnKz0xMHB4Jyk7XG4gICAgICAgIGFuYWdyYW1IaXRzVGhlQm90dG9tKCk7XG4gICAgICB9LGRpZmZpY3VsdHkuc3BlZWQpO1xuICAgIH1cbiAgICAvLy8vL3EvVGhpcyBpcyB0aGUgcmVzZXQgZnVuY3Rpb24gYWZ0ZXIgYSBnYW1lIGhhcyBmaW5pc2hlZC8vLy8vLy8vLy8vLy8vLy9cbiAgICBmdW5jdGlvbiByZXNldCAoKSB7XG4gICAgICBsaWZlU2NvcmUgPSA1O1xuICAgICAgJGxpdmVzLmh0bWwoJ0xpdmVzOiA1Jyk7XG4gICAgICB3aW5Db25kaXRpb24gPSAwO1xuICAgICAgJHdpbkNvbmRpdGlvbi5odG1sKCdDb3JyZWN0IEFuc3dlcnM6IDAnKTtcbiAgICAgICQoJy5hbmFncmFtJykucmVtb3ZlKCk7XG4gICAgfVxuICAgIC8vLyBUaGlzIGlzIGZvciB3aGVuIHRoZSBwbGF5ZXIgaXMgcmVhZHkgdG8gcGxheSwgYWZ0ZXIgdGhlIGRpZmZpY3VsdHkgaXMgc2VsZWN0ZWQgYW5kIHRoZSBwbGF5IGJ1dHRvbiBpcyBjbGlja2VkIC0gc28gdGhpcyBzdGFydHMgdGhlIGdhbWUhXG4gICAgJHBsYXlHYW1lLmNsaWNrKCBmdW5jdGlvbigpe1xuICAgICAgY29uc29sZS5sb2coZGlmZmljdWx0eVt3aW5Db25kaXRpb25dKTtcbiAgICAgIHBsYXlHYW1lKCk7XG4gICAgICBjb25zdCBpbnRlcnZhbCA9IHNldEludGVydmFsKGZ1bmN0aW9uKCl7XG4gICAgICAgIGlmICh3aW5Db25kaXRpb24gPT09IGRpZmZpY3VsdHkud2lubmluZ0NvbmRpdGlvbikge1xuICAgICAgICAgIGFsZXJ0KCdZb3UgYmVhdCB0aGUgZ2FtZSB0aGlzIHRpbWUsIGNhbiB5b3UgbWFuYWdlIGFtZWRpdW0gZGlmZmljdXRseS4uLj8nKTtcbiAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgICAgICAgICByZXNldCgpO1xuICAgICAgICB9IGVsc2UgaWYgKGxpZmVTY29yZSA8PSAwKXtcbiAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgICAgICAgICBhbGVydCgnR2FtZSBPdmVyLCBzb3JyeSB5b3UgbG9zdCwgQm9vb29vb28hJyk7XG4gICAgICAgICAgcmVzZXQoKTtcbiAgICAgICAgfSBlbHNle1xuICAgICAgICAgIHBsYXlHYW1lKCk7XG4gICAgICAgIH1cbiAgICAgIH0sZGlmZmljdWx0eS5pbnRlcnZhbCk7XG4gICAgfSk7XG4gICAgLy8vIFRoaXMgaXMgdGhlIHZhbGlkYXRpb24gd2hlbiB0aGUgYnV0dG9uIGlzIGNsaWNrZWQgdG8gc3VibWl0IGFuIGFuc3dlciwgdGhpcyBhbHNvIGhvbGRzIHRoZSBhbmltYXRpb25zIGFwcGxpZWQgdG8gdGhlIGdhbWUuXG4gICAgJCgnZm9ybScpLm9uKCdzdWJtaXQnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgJCgnLmFuYWdyYW0nKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc3QgY2hlY2tlciA9ICQodGhpcykuZGF0YSgnd29yZCcpO1xuICAgICAgICBpZiAoJCgnI2Fuc3dlcicpLnZhbCgpID09PSBjaGVja2VyKXtcbiAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdhbmltYXRlZCBmYWRlT3V0VXAnKS5jc3MoJ2NvbG9yJywnIzM5RkYxNCcpO1xuICAgICAgICAgICR3aW5Db25kaXRpb24uaHRtbChgQ29ycmVjdCBBbnN3ZXJzOiAke3dpbkNvbmRpdGlvbiA9IHdpbkNvbmRpdGlvbiArIDF9YCk7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAkKHRoaXMpLnJlbW92ZSgpO1xuICAgICAgICAgIH0sNTAwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAkKCcuYW5hZ3JhbScpLmFkZENsYXNzKCdhbmltYXRlZCBqZWxsbycpO1xuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgJCgnLmFuYWdyYW0nKS5yZW1vdmVDbGFzcygnamVsbG8nKTtcbiAgICAgICAgICB9LDUwMCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgJCgnZm9ybScpLnRyaWdnZXIoJ3Jlc2V0Jyk7XG4gICAgfSk7XG4gIH0pO1xuIl19
