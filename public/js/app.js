"use strict";$(function(){function e(){var e=[Math.floor(Math.random()*y.length)],a=y[e];return y.splice(e,1),a}function a(e){return e.split("").sort(function(){return.5-Math.random()}).join("")}function n(){var e=$('<p class="anagram"></p>'),a=Math.ceil(Math.random()*(s-250));return e.css({left:a}),e}function t(){$(".anagram").each(function(){var e=this;Math.round($(this).position().top)>=r-85&&($(this).hasClass("hinge")||(l-=1),d.html("Lives Left: "+l),$(this).css("color","red"),$(this).addClass("animated hinge"),setTimeout(function(){$(e).remove()},500))})}function o(){var o=e(),i=a(o),r=n();r.text(i),r.attr("data-word",o),v.append(r),setInterval(function(){r.css("top","+=10px"),t()},u.speed)}function i(){l=5,d.html("Lives: 5"),c=0,m.html("Correct Answers: 0"),$(".anagram").remove()}var r=$(".game-box").outerHeight(!0),s=$(".game-box").width(),l=5,c=0,u=null,d=$("#lives"),h=$("#play"),m=$("#winCondition"),g=$("#subject-options"),f=$("#difficulty-options"),v=$(".game-box"),p={BBT:["sheldon","leanord","spock","cheesecake factory","howard","star trek","penny","koothrapoli","bernadette","physics","laundry","halo night","dumplings","brisket","nasa","string theory","dark matter","comiccon","comic book"],LOTR:["arragorn","gimli","gandalf","legolas","mordor","uruk hai","frodo","golumn","orcs","the shire","baggins","sauron","gondor","elves","hobbit","dwarves","two towers","black gate","faramir","saruman","shadowfax","witch king"],FT:["arsenal","bournemouth","burnley","brighton","chelsea","crystal palace","everton","liverpool","newcastle","southampton","barcelona","juventus","ajax","bayern"],CC:["vienna","bridgetown","brasilia","brussels","sofia","hanoi","ottowa","bangui","washington","havana","prague","cairo","helsinki","budapest","jakarta","jerusalem","kingston","tokyo","nairobi","beijing","rabat","oslo","pyongyang","madrid"],WDI:["function","javascript","switch","refactor","namespacing","jquery","const","primitive","object","array","responsive","constructor","recursive","indentation","iterate","method","algorithim","terminal","github","debugging","loop","variable"],SW:["css"]},b={easy:{interval:1e4,speed:1500,winningCondition:5},medium:{interval:7e3,speed:1e3,winningCondition:7},hard:{interval:5e3,speed:700,winningCondition:10},insane:{interval:2500,speed:200,winningCondition:10}},w="",y="";g.on("change",function(){var e=g.val();y=p[e]}),f.on("change",function(){w=f.val(),u=b[w]}),h.click(function(){if($("form").focus($("form")),""===w||""===y)alert("A Subject and Difficulty needs to be selected to proceed, please choose both...");else{o();var e=setInterval(function(){c===u.winningCondition?(alert("You beat the game this time, can you manage harder difficutly...?"),clearInterval(e),i()):l<=0?(clearInterval(e),alert("Game Over, sorry you lost, Booooooo!"),i()):o()},u.interval)}}),$("form").on("submit",function(e){e.preventDefault(),$(".anagram").each(function(){var e=this,a=$(this).data("word");$("#answer").val().toLowerCase()===a?($(this).addClass("animated flipOutY").css("color","#39FF14"),$(this).removeClass("animated jello").css("color","#39FF14"),m.html("Correct Answers: "+(c+=1)),setTimeout(function(){$(e).remove()},700)):($(".anagram").addClass("animated jello"),setTimeout(function(){$(".anagram").removeClass("jello")},500))}),$("form").trigger("reset")}),$(window).on("resize",function(){r=$(".game-box").outerHeight(!0),s=$(".game-box").width()})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyIkIiwiZ2VuZXJhdGVXb3JkIiwiaW5kZXgiLCJmbG9vciIsIk1hdGgiLCJyYW5kb20iLCJzZWxlY3RlZFN1YmplY3QiLCJsZW5ndGgiLCJzZWxlY3RlZFdvcmQiLCJnZW5lcmF0ZUFuYWdyYW0iLCJzcGxpdCIsInNvcnQiLCJqb2luIiwiZ2VuZXJhdGVBbmFncmFtRWxlbWVudCIsIiRhbmFncmFtIiwiY2VpbCIsIndpZHRoIiwiY3NzIiwiYW5hZ3JhbUhpdHNUaGVCb3R0b20iLCJfdGhpcyIsInRoaXMiLCJyb3VuZCIsInBvc2l0aW9uIiwidG9wIiwiaGVpZ2h0IiwiaGFzQ2xhc3MiLCJsaWZlU2NvcmUiLCJhZGRDbGFzcyIsIiRsaXZlcyIsInJlbW92ZSIsInBsYXlHYW1lIiwic2NyYW1ibGVkV29yZCIsInNlbGVjdGVkQW5hZ3JhbSIsIiRjb250YWluZXIiLCJzZXRJbnRlcnZhbCIsInNwZWVkIiwiZGlmZmljdWx0eSIsImh0bWwiLCJ3aW5Db25kaXRpb24iLCJvdXRlckhlaWdodCIsIiRwbGF5R2FtZSIsIiR3aW5Db25kaXRpb24iLCIkc3ViamVjdE9wdGlvbnMiLCIkZGlmZmljdWx0eU9wdGlvbnMiLCJCQlQiLCJMT1RSIiwiY2F0ZWdvcmllcyIsIkZUIiwiQ0MiLCJzZXR0aW5ncyIsImVhc3kiLCJpbnRlcnZhbCIsIndpbm5pbmdDb25kaXRpb24iLCJtZWRpdW0iLCJoYXJkIiwiaW5zYW5lIiwic2VsZWN0ZWREaWZmaWN1bHR5IiwidmFsIiwidmFsdWUiLCJjbGljayIsImZvY3VzIiwiYWxlcnQiLCJjbGVhckludGVydmFsIiwicmVzZXQiLCJvbiIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImVhY2giLCJfdGhpczIiLCJjaGVja2VyIiwiZGF0YSIsInRvTG93ZXJDYXNlIiwicmVtb3ZlQ2xhc3MiLCJzZXRUaW1lb3V0Iiwid2luZG93IiwidHJpZ2dlciJdLCJtYXBwaW5ncyI6IllBQUFBLEdBQUUsV0FzREEsUUFBQUMs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QUEsYUFBVjNEIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbIiQoKCkgPT4ge1xuICBsZXQgaGVpZ2h0ID0gJCgnLmdhbWUtYm94Jykub3V0ZXJIZWlnaHQodHJ1ZSk7XG4gIGxldCB3aWR0aCA9ICQoJy5nYW1lLWJveCcpLndpZHRoKCk7XG4gIGxldCBsaWZlU2NvcmUgPSA1O1xuICBsZXQgd2luQ29uZGl0aW9uID0gMDtcbiAgbGV0IGRpZmZpY3VsdHkgPSBudWxsO1xuICBjb25zdCAkbGl2ZXMgPSAkKCcjbGl2ZXMnKTtcbiAgY29uc3QgJHBsYXlHYW1lID0gJCgnI3BsYXknKTtcbiAgY29uc3QgJHdpbkNvbmRpdGlvbiA9ICQoJyN3aW5Db25kaXRpb24nKTtcbiAgY29uc3QgJHN1YmplY3RPcHRpb25zID0gJCgnI3N1YmplY3Qtb3B0aW9ucycpO1xuICBjb25zdCAkZGlmZmljdWx0eU9wdGlvbnMgPSAkKCcjZGlmZmljdWx0eS1vcHRpb25zJyk7XG4gIGNvbnN0ICRjb250YWluZXIgPSAkKCcuZ2FtZS1ib3gnKTtcbiAgY29uc3QgY2F0ZWdvcmllcyA9IHtcbiAgICBCQlQ6IFsnc2hlbGRvbicsJ2xlYW5vcmQnLCdzcG9jaycsJ2NoZWVzZWNha2UgZmFjdG9yeScsJ2hvd2FyZCcsJ3N0YXIgdHJlaycsJ3Blbm55Jywna29vdGhyYXBvbGknLCdiZXJuYWRldHRlJywncGh5c2ljcycsJ2xhdW5kcnknLCdoYWxvIG5pZ2h0JywnZHVtcGxpbmdzJywgJ2JyaXNrZXQnLCduYXNhJywnc3RyaW5nIHRoZW9yeScsJ2RhcmsgbWF0dGVyJywgJ2NvbWljY29uJywnY29taWMgYm9vayddLFxuICAgIExPVFI6IFsnYXJyYWdvcm4nLCAnZ2ltbGknLCdnYW5kYWxmJywnbGVnb2xhcycsJ21vcmRvcicsJ3VydWsgaGFpJywnZnJvZG8nLCdnb2x1bW4nLCdvcmNzJywndGhlIHNoaXJlJywnYmFnZ2lucycsJ3NhdXJvbicsICdnb25kb3InLCdlbHZlcycsJ2hvYmJpdCcsJ2R3YXJ2ZXMnLCd0d28gdG93ZXJzJywnYmxhY2sgZ2F0ZScsJ2ZhcmFtaXInLCdzYXJ1bWFuJywnc2hhZG93ZmF4Jywnd2l0Y2gga2luZyddLFxuICAgIEZUOiBbJ2Fyc2VuYWwnLCdib3VybmVtb3V0aCcsJ2J1cm5sZXknLCdicmlnaHRvbicsJ2NoZWxzZWEnLCdjcnlzdGFsIHBhbGFjZScsJ2V2ZXJ0b24nLCdsaXZlcnBvb2wnLCduZXdjYXN0bGUnLCdzb3V0aGFtcHRvbicsJ2JhcmNlbG9uYScsJ2p1dmVudHVzJywnYWpheCcsJ2JheWVybiddLFxuICAgIENDOiBbJ3ZpZW5uYScsJ2JyaWRnZXRvd24nLCdicmFzaWxpYScsJ2JydXNzZWxzJywnc29maWEnLCdoYW5vaScsJ290dG93YScsJ2Jhbmd1aScsJ3dhc2hpbmd0b24nLCdoYXZhbmEnLCdwcmFndWUnLCdjYWlybycsJ2hlbHNpbmtpJywnYnVkYXBlc3QnLCdqYWthcnRhJywnamVydXNhbGVtJywna2luZ3N0b24nLCd0b2t5bycsJ25haXJvYmknLCdiZWlqaW5nJywncmFiYXQnLCdvc2xvJywncHlvbmd5YW5nJywnbWFkcmlkJ10sXG4gICAgV0RJOiBbJ2Z1bmN0aW9uJywnamF2YXNjcmlwdCcsJ3N3aXRjaCcsJ3JlZmFjdG9yJywnbmFtZXNwYWNpbmcnLCdqcXVlcnknLCdjb25zdCcsJ3ByaW1pdGl2ZScsJ29iamVjdCcsJ2FycmF5JywncmVzcG9uc2l2ZScsJ2NvbnN0cnVjdG9yJywncmVjdXJzaXZlJywnaW5kZW50YXRpb24nLCdpdGVyYXRlJywnbWV0aG9kJywnYWxnb3JpdGhpbScsJ3Rlcm1pbmFsJywnZ2l0aHViJywnZGVidWdnaW5nJywnbG9vcCcsJ3ZhcmlhYmxlJ10sXG4gICAgU1c6IFsnY3NzJ11cbiAgfTtcbiAgY29uc3Qgc2V0dGluZ3MgPSB7XG4gICAgZWFzeToge1xuICAgICAgaW50ZXJ2YWw6IDEwMDAwLFxuICAgICAgc3BlZWQ6IDE1MDAsXG4gICAgICB3aW5uaW5nQ29uZGl0aW9uOiA1XG4gICAgfSxcbiAgICBtZWRpdW06IHtcbiAgICAgIGludGVydmFsOiA3MDAwLFxuICAgICAgc3BlZWQ6IDEwMDAsXG4gICAgICB3aW5uaW5nQ29uZGl0aW9uOiA3XG4gICAgfSxcbiAgICBoYXJkOiB7XG4gICAgICBpbnRlcnZhbDogNTAwMCxcbiAgICAgIHNwZWVkOiA3MDAsXG4gICAgICB3aW5uaW5nQ29uZGl0aW9uOiAxMFxuICAgIH0sXG4gICAgaW5zYW5lOiB7XG4gICAgICBpbnRlcnZhbDogMjUwMCxcbiAgICAgIHNwZWVkOiAyMDAsXG4gICAgICB3aW5uaW5nQ29uZGl0aW9uOiAxMFxuICAgIH1cbiAgfTtcbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy9TZWxlY3RvcnMvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgbGV0IHNlbGVjdGVkRGlmZmljdWx0eSA9ICcnO1xuICBsZXQgc2VsZWN0ZWRTdWJqZWN0ID0gJyc7XG4gICRzdWJqZWN0T3B0aW9ucy5vbignY2hhbmdlJywgKCkgPT4ge1xuICAgIGNvbnN0IHZhbHVlID0gJHN1YmplY3RPcHRpb25zLnZhbCgpO1xuICAgIHNlbGVjdGVkU3ViamVjdCA9IGNhdGVnb3JpZXNbdmFsdWVdO1xuICB9KTtcbiAgJGRpZmZpY3VsdHlPcHRpb25zLm9uKCdjaGFuZ2UnLCAoKSA9PiB7XG4gICAgc2VsZWN0ZWREaWZmaWN1bHR5ID0gJGRpZmZpY3VsdHlPcHRpb25zLnZhbCgpO1xuICAgIGRpZmZpY3VsdHkgPSBzZXR0aW5nc1tzZWxlY3RlZERpZmZpY3VsdHldO1xuICB9KTtcbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy9TZWxlY3RvcnMgRW5kLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy9GdW5jdGlvbnMgdGhhdCBjaGFuZ2UgdGhlIHdvcmQvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIC8vLyBUaGlzIHNlbGVjdHMgYSByYW5kb20gd29yZCBmcm9tIHRoZSBzZWxlY3RlZCBhcnJheVxuICBmdW5jdGlvbiBnZW5lcmF0ZVdvcmQoKSB7XG5cbiAgICBjb25zdCBpbmRleCA9IFtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKlxuICAgICAgc2VsZWN0ZWRTdWJqZWN0Lmxlbmd0aCldO1xuICAgICAgY29uc3Qgc2VsZWN0ZWRXb3JkID0gc2VsZWN0ZWRTdWJqZWN0W2luZGV4XTtcbiAgICAgIHNlbGVjdGVkU3ViamVjdC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgcmV0dXJuIHNlbGVjdGVkV29yZDtcbiAgICB9XG4gICAgLy8vIFRoaXMgdGFrZXMgdGhlIHJhbmRvbWx5IHNlbGVjdGVkIHdvcmQgYW5kIHNodWZmbGVzIGl0IGludG8gYW4gYW5hZ3JhbVxuICAgIGZ1bmN0aW9uIGdlbmVyYXRlQW5hZ3JhbShzZWxlY3RlZFdvcmQpIHtcbiAgICAgIC8vLyBUaGlzIGlzIHNwbGl0dGluZyB0aGUgc2VsZWN0ZWRXb3JkIChhIHN0cmluZykgYXBhcnQgdGhlbiBzb3J0aW5nIGl0IGFcbiAgICAgIHJldHVybiBzZWxlY3RlZFdvcmQuc3BsaXQoJycpLnNvcnQoZnVuY3Rpb24oKXtcbiAgICAgICAgcmV0dXJuIDAuNSAtIE1hdGgucmFuZG9tKCk7XG4gICAgICB9ICkuam9pbignJyk7XG4gICAgfVxuICAgIC8vLy8vL1RoaXMgZ2VuZXJhdGVzIGEgZGlmZmVyZW50IGVsZW1lbnQgaW4gYSBkaWZmZXJudCBwb3NpdGlvbiBmcm9tIHRoZSBIVE1MXG4gICAgZnVuY3Rpb24gZ2VuZXJhdGVBbmFncmFtRWxlbWVudCAoKSB7XG4gICAgICBjb25zdCAkYW5hZ3JhbSA9ICQoJzxwIGNsYXNzPVwiYW5hZ3JhbVwiPjwvcD4nKTtcbiAgICAgIGNvbnN0IGxlZnQgPSBNYXRoLmNlaWwoKE1hdGgucmFuZG9tKCkgKiAod2lkdGggLSAyNTApKSk7XG4gICAgICAkYW5hZ3JhbS5jc3Moe2xlZnQ6IGxlZnR9KTtcbiAgICAgIHJldHVybiAkYW5hZ3JhbTtcbiAgICB9XG4gICAgLy8vLy8vIFRoaXMgaXMgZm9yIHdoZW4gdGhlIHdvcmQgaGl0cyB0aGUgYm90dG9tIGFuZCAnZmFsbHMgb2ZmJ1xuICAgIGZ1bmN0aW9uIGFuYWdyYW1IaXRzVGhlQm90dG9tICgpIHtcbiAgICAgICQoJy5hbmFncmFtJykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnN0IHBvc2l0aW9uID0gTWF0aC5yb3VuZCgkKHRoaXMpLnBvc2l0aW9uKCkudG9wKTtcbiAgICAgICAgaWYgKHBvc2l0aW9uID49IGhlaWdodCAtIDg1KSB7XG4gICAgICAgICAgaWYoISQodGhpcykuaGFzQ2xhc3MoJ2hpbmdlJykpIGxpZmVTY29yZSAtPSAxO1xuICAgICAgICAgICRsaXZlcy5odG1sKGBMaXZlcyBMZWZ0OiAke2xpZmVTY29yZX1gKTtcbiAgICAgICAgICAkKHRoaXMpLmNzcygnY29sb3InLCdyZWQnKTtcbiAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdhbmltYXRlZCBoaW5nZScpO1xuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmUoKTtcbiAgICAgICAgICB9LDUwMCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vRnVuY3Rpb25zIHRoYXQgY2hhbmdlIHRoZSB3b3JkLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgIC8vLy8vLy8vLy8vLy8vLy8vL01haW4gZnVjbnRpb24gdG8gcGxheSBnYW1lIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICBmdW5jdGlvbiBwbGF5R2FtZSAoKXtcbiAgICAgIGNvbnN0IHNlbGVjdGVkV29yZCA9IGdlbmVyYXRlV29yZCgpO1xuICAgICAgY29uc3Qgc2NyYW1ibGVkV29yZCA9IGdlbmVyYXRlQW5hZ3JhbShzZWxlY3RlZFdvcmQpO1xuICAgICAgY29uc3Qgc2VsZWN0ZWRBbmFncmFtID0gZ2VuZXJhdGVBbmFncmFtRWxlbWVudCgpO1xuICAgICAgc2VsZWN0ZWRBbmFncmFtLnRleHQoc2NyYW1ibGVkV29yZCk7XG4gICAgICBzZWxlY3RlZEFuYWdyYW0uYXR0cignZGF0YS13b3JkJywgc2VsZWN0ZWRXb3JkKTtcbiAgICAgICRjb250YWluZXIuYXBwZW5kKHNlbGVjdGVkQW5hZ3JhbSk7XG4gICAgICBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHtcbiAgICAgICAgc2VsZWN0ZWRBbmFncmFtLmNzcygndG9wJywgJys9MTBweCcpO1xuICAgICAgICBhbmFncmFtSGl0c1RoZUJvdHRvbSgpO1xuICAgICAgfSxkaWZmaWN1bHR5LnNwZWVkKTtcbiAgICB9XG4gICAgLy8vLy8vL1RoaXMgaXMgdGhlIHJlc2V0IGZ1bmN0aW9uIGFmdGVyIGEgZ2FtZSBoYXMgZmluaXNoZWQvLy8vLy8vLy8vLy8vLy8vXG4gICAgZnVuY3Rpb24gcmVzZXQgKCkge1xuICAgICAgbGlmZVNjb3JlID0gNTtcbiAgICAgICRsaXZlcy5odG1sKCdMaXZlczogNScpO1xuICAgICAgd2luQ29uZGl0aW9uID0gMDtcbiAgICAgICR3aW5Db25kaXRpb24uaHRtbCgnQ29ycmVjdCBBbnN3ZXJzOiAwJyk7XG4gICAgICAkKCcuYW5hZ3JhbScpLnJlbW92ZSgpO1xuICAgIH1cbiAgICAvLy8gVGhpcyBpcyBmb3Igd2hlbiB0aGUgcGxheWVyIGlzIHJlYWR5IHRvIHBsYXksIGFmdGVyIHRoZSBkaWZmaWN1bHR5IGlzIHNlbGVjdGVkIGFuZCB0aGUgcGxheSBidXR0b24gaXMgY2xpY2tlZCAtIHNvIHRoaXMgc3RhcnRzIHRoZSBnYW1lIVxuICAgICRwbGF5R2FtZS5jbGljayggZnVuY3Rpb24oKXtcbiAgICAgICQoJ2Zvcm0nKS5mb2N1cygkKCdmb3JtJykpO1xuICAgICAgaWYgKHNlbGVjdGVkRGlmZmljdWx0eSA9PT0gJycgfHwgc2VsZWN0ZWRTdWJqZWN0ID09PSAnJykge1xuICAgICAgICBhbGVydCgnQSBTdWJqZWN0IGFuZCBEaWZmaWN1bHR5IG5lZWRzIHRvIGJlIHNlbGVjdGVkIHRvIHByb2NlZWQsIHBsZWFzZSBjaG9vc2UgYm90aC4uLicpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGxheUdhbWUoKTtcbiAgICAgICAgY29uc3QgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpe1xuICAgICAgICAgIGlmICh3aW5Db25kaXRpb24gPT09IGRpZmZpY3VsdHkud2lubmluZ0NvbmRpdGlvbikge1xuICAgICAgICAgICAgYWxlcnQoJ1lvdSBiZWF0IHRoZSBnYW1lIHRoaXMgdGltZSwgY2FuIHlvdSBtYW5hZ2UgaGFyZGVyIGRpZmZpY3V0bHkuLi4/Jyk7XG4gICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgICAgICAgICAgIHJlc2V0KCk7XG4gICAgICAgICAgfSBlbHNlIGlmIChsaWZlU2NvcmUgPD0gMCl7XG4gICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgICAgICAgICAgIGFsZXJ0KCdHYW1lIE92ZXIsIHNvcnJ5IHlvdSBsb3N0LCBCb29vb29vbyEnKTtcbiAgICAgICAgICAgIHJlc2V0KCk7XG4gICAgICAgICAgfSBlbHNle1xuICAgICAgICAgICAgcGxheUdhbWUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sZGlmZmljdWx0eS5pbnRlcnZhbCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgLy8vIFRoaXMgaXMgdGhlIHZhbGlkYXRpb24gd2hlbiB0aGUgYnV0dG9uIGlzIGNsaWNrZWQgdG8gc3VibWl0IGFuIGFuc3dlciwgdGhpcyBhbHNvIGhvbGRzIHRoZSBhbmltYXRpb25zIGFwcGxpZWQgdG8gdGhlIGdhbWUuXG4gICAgJCgnZm9ybScpLm9uKCdzdWJtaXQnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgJCgnLmFuYWdyYW0nKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc3QgY2hlY2tlciA9ICQodGhpcykuZGF0YSgnd29yZCcpO1xuICAgICAgICBpZiAoJCgnI2Fuc3dlcicpLnZhbCgpLnRvTG93ZXJDYXNlKCkgPT09IGNoZWNrZXIpe1xuICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2FuaW1hdGVkIGZsaXBPdXRZJykuY3NzKCdjb2xvcicsJyMzOUZGMTQnKTtcbiAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdhbmltYXRlZCBqZWxsbycpLmNzcygnY29sb3InLCcjMzlGRjE0Jyk7XG4gICAgICAgICAgJHdpbkNvbmRpdGlvbi5odG1sKGBDb3JyZWN0IEFuc3dlcnM6ICR7d2luQ29uZGl0aW9uID13aW5Db25kaXRpb24gKyAxfWApO1xuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmUoKTtcbiAgICAgICAgICB9LDcwMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgJCgnLmFuYWdyYW0nKS5hZGRDbGFzcygnYW5pbWF0ZWQgamVsbG8nKTtcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICQoJy5hbmFncmFtJykucmVtb3ZlQ2xhc3MoJ2plbGxvJyk7XG4gICAgICAgICAgfSw1MDApO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgICQoJ2Zvcm0nKS50cmlnZ2VyKCdyZXNldCcpO1xuICAgIH0pO1xuICAgIC8vLy8vIHRoaXMgY2hhbmdlcyB0aGUgaGVpZ2h0IHByb3BlcnR5IGJhc2VkIG9uIHRoZSByZXNpemluZyBvZiB0aGUgYnJvd3NlcnMgd2luZG93XG4gICAgJCh3aW5kb3cpLm9uKCdyZXNpemUnLCAoKSA9PiB7XG4gICAgICBoZWlnaHQgPSAkKCcuZ2FtZS1ib3gnKS5vdXRlckhlaWdodCh0cnVlKTtcbiAgICAgIHdpZHRoID0gJCgnLmdhbWUtYm94Jykud2lkdGgoKTtcbiAgICB9KTtcbiAgfSk7XG4iXX0=
