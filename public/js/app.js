"use strict";$(function(){function e(){var e=[Math.floor(Math.random()*y.length)],n=y[e];return y.splice(e,1),n}function n(e){return e.split("").sort(function(){return.5-Math.random()}).join("")}function o(){var e=$('<p class="anagram"></p>'),n=Math.ceil(Math.random()*s-200);return e.css({left:n}),e}function a(){$(".anagram").each(function(){var e=this;Math.round($(this).position().top)>=r-80&&(console.log(l),$(this).hasClass("hinge")||(l-=1),d.html("Lives Left: "+l),$(this).css("color","red"),$(this).addClass("animated hinge"),setTimeout(function(){$(e).remove()},500))})}function t(){var t=e(),i=n(t),r=o();r.text(i),r.attr("data-word",t),v.append(r),setInterval(function(){r.css("top","+=10px"),a()},u.speed)}function i(){l=5,d.html("Lives: 5"),c=0,g.html("Correct Answers: 0"),$(".anagram").remove()}var r=$(".game-box").outerHeight(!0),s=$(".game-box").outerWidth(!0);console.log(s);var l=5,c=0,u=null,d=$("#lives"),h=$("#play"),g=$("#winCondition"),m=$("#subject-options"),f=$("#difficulty-options"),v=$(".game-box"),p={BBT:["sheldon","leanord","spock","cheesecake factory","howard","star trek","penny","koothrapoli","bernadette","physics","laundry","halo night","dumplings","brisket","nasa","string theory","dark matter","comiccon","comic book"],LOTR:["arragon","gimli","gandalf","legolas","mordor","uruk hai","frodo","golumn","orcs","the shire","baggins","sauron","gondor","elves","hobbit","dwarves","two towers","black gate","faramir","saruman","shadowfax","witch king"],FT:["arsenal","bournemouth","burnley","brighton","chelsea","crystal palace","everton","liverpool","newcastle","southampton","barcelona","juventus","ajax","bayern"],CC:["vienna","bridgetown","brasilia","brussels","sofia","hanoi","ottowa","bangui","washington","havana","prauge","cairo","helsinki","budapest","jakarta","jerusalem","kingston","tokyo","nairobi","beijing","rabat","oslo","pyongyang","madrid"],WDI:["function","javascript","switch","refactor","namespacing","jquery","const","primitive","object","array","responsive","constructor","recursive","indentation","iterate","method","algorithim","terminal","github","debugging","loop","variable"]},b={easy:{interval:1e4,speed:1500,winningCondition:5},medium:{interval:7e3,speed:1e3,winningCondition:7},hard:{interval:5e3,speed:700,winningCondition:10},insane:{interval:2500,speed:200,winningCondition:10}},w="",y="";m.on("change",function(){var e=m.val();y=p[e]}),f.on("change",function(){w=f.val(),u=b[w],console.log(u)}),h.click(function(){if(""===w||""===y)alert("A Subject and Difficulty needs to be selected to proceed, please choose both...");else{t();var e=setInterval(function(){c===u.winningCondition?(alert("You beat the game this time, can you manage amedium difficutly...?"),clearInterval(e),i()):l<=0?(clearInterval(e),alert("Game Over, sorry you lost, Booooooo!"),i()):t()},u.interval)}}),$("form").on("submit",function(e){e.preventDefault(),$(".anagram").each(function(){var e=this,n=$(this).data("word");$("#answer").val().toLowerCase()===n?($(this).addClass("animated fadeOutUp").css("color","#39FF14"),g.html("Correct Answers: "+(c+=1)),setTimeout(function(){$(e).remove()},500)):($(".anagram").addClass("animated jello"),setTimeout(function(){$(".anagram").removeClass("jello")},500))}),$("form").trigger("reset")}),$("window").on("resize",function(){console.log(s),r=$(".game-box").outerHeight(!0)}),$("window").on("resize",function(){console.log(s),r=$(".game-box").outerWidth(!0)})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyIkIiwiZ2VuZXJhdGVXb3JkIiwiaW5kZXgiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJzZWxlY3RlZFN1YmplY3QiLCJsZW5ndGgiLCJzZWxlY3RlZFdvcmQiLCJnZW5lcmF0ZUFuYWdyYW0iLCJzcGxpdCIsInNvcnQiLCJqb2luIiwiZ2VuZXJhdGVBbmFncmFtRWxlbWVudCIsIiRhbmFncmFtIiwibGVmdCIsIndpZHRoIiwiYW5hZ3JhbUhpdHNUaGVCb3R0b20iLCJlYWNoIiwiX3RoaXMiLCJ0aGlzIiwicG9zaXRpb24iLCJ0b3AiLCJoZWlnaHQiLCJjb25zb2xlIiwibG9nIiwibGlmZVNjb3JlIiwiaGFzQ2xhc3MiLCIkbGl2ZXMiLCJzZXRUaW1lb3V0IiwiaHRtbCIsInBsYXlHYW1lIiwic2NyYW1ibGVkV29yZCIsInNlbGVjdGVkQW5hZ3JhbSIsInRleHQiLCIkY29udGFpbmVyIiwic2V0SW50ZXJ2YWwiLCJhcHBlbmQiLCJkaWZmaWN1bHR5Iiwid2luQ29uZGl0aW9uIiwiJHdpbkNvbmRpdGlvbiIsInJlbW92ZSIsIm91dGVySGVpZ2h0Iiwib3V0ZXJXaWR0aCIsIiRwbGF5R2FtZSIsIiRzdWJqZWN0T3B0aW9ucyIsIiRkaWZmaWN1bHR5T3B0aW9ucyIsIkJCVCIsIkxPVFIiLCJjYXRlZ29yaWVzIiwiRlQiLCJXREkiLCJlYXN5Iiwic2V0dGluZ3MiLCJpbnRlcnZhbCIsIndpbm5pbmdDb25kaXRpb24iLCJtZWRpdW0iLCJoYXJkIiwiaW5zYW5lIiwic2VsZWN0ZWREaWZmaWN1bHR5IiwidmFsIiwidmFsdWUiLCJhbGVydCIsImNsZWFySW50ZXJ2YWwiLCJyZXNldCIsImUiLCJwcmV2ZW50RGVmYXVsdCIsIl90aGlzMiIsImNoZWNrZXIiLCJkYXRhIiwidG9Mb3dlckNhc2UiLCJvbiIsImFkZENsYXNzIiwiY3NzIiwicmVtb3ZlQ2xhc3MiLCJ0cmlnZ2VyIl0sIm1hcHBpbmdzIjoiWUFBQUEsR0FBRSxXQXVEQSxR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QUEsVUFBQXVFLEdBQUEsU0FBQSxXQTBCRS9DLFFBQVFDLElBQUlULEdBTmRPLEVBQUF2QixFQUFBLGFBQUEyQyxZQUFBIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbIiQoKCkgPT4ge1xuICBsZXQgaGVpZ2h0ID0gJCgnLmdhbWUtYm94Jykub3V0ZXJIZWlnaHQodHJ1ZSk7XG4gIGxldCB3aWR0aCA9ICQoJy5nYW1lLWJveCcpLm91dGVyV2lkdGgodHJ1ZSk7XG4gIGNvbnNvbGUubG9nKHdpZHRoKTtcbiAgbGV0IGxpZmVTY29yZSA9IDU7XG4gIGxldCB3aW5Db25kaXRpb24gPSAwO1xuICBsZXQgZGlmZmljdWx0eSA9IG51bGw7XG4gIGNvbnN0ICRsaXZlcyA9ICQoJyNsaXZlcycpO1xuICBjb25zdCAkcGxheUdhbWUgPSAkKCcjcGxheScpO1xuICBjb25zdCAkd2luQ29uZGl0aW9uID0gJCgnI3dpbkNvbmRpdGlvbicpO1xuICBjb25zdCAkc3ViamVjdE9wdGlvbnMgPSAkKCcjc3ViamVjdC1vcHRpb25zJyk7XG4gIGNvbnN0ICRkaWZmaWN1bHR5T3B0aW9ucyA9ICQoJyNkaWZmaWN1bHR5LW9wdGlvbnMnKTtcbiAgY29uc3QgJGNvbnRhaW5lciA9ICQoJy5nYW1lLWJveCcpO1xuICBjb25zdCBjYXRlZ29yaWVzID0ge1xuICAgIEJCVDogWydzaGVsZG9uJywnbGVhbm9yZCcsJ3Nwb2NrJywnY2hlZXNlY2FrZSBmYWN0b3J5JywnaG93YXJkJywnc3RhciB0cmVrJywncGVubnknLCdrb290aHJhcG9saScsJ2Jlcm5hZGV0dGUnLCdwaHlzaWNzJywnbGF1bmRyeScsJ2hhbG8gbmlnaHQnLCdkdW1wbGluZ3MnLCAnYnJpc2tldCcsJ25hc2EnLCdzdHJpbmcgdGhlb3J5JywnZGFyayBtYXR0ZXInLCAnY29taWNjb24nLCdjb21pYyBib29rJ10sXG4gICAgTE9UUjogWydhcnJhZ29uJywgJ2dpbWxpJywnZ2FuZGFsZicsJ2xlZ29sYXMnLCdtb3Jkb3InLCd1cnVrIGhhaScsJ2Zyb2RvJywnZ29sdW1uJywnb3JjcycsJ3RoZSBzaGlyZScsJ2JhZ2dpbnMnLCdzYXVyb24nLCAnZ29uZG9yJywnZWx2ZXMnLCdob2JiaXQnLCdkd2FydmVzJywndHdvIHRvd2VycycsJ2JsYWNrIGdhdGUnLCdmYXJhbWlyJywnc2FydW1hbicsJ3NoYWRvd2ZheCcsJ3dpdGNoIGtpbmcnXSxcbiAgICBGVDogWydhcnNlbmFsJywnYm91cm5lbW91dGgnLCdidXJubGV5JywnYnJpZ2h0b24nLCdjaGVsc2VhJywnY3J5c3RhbCBwYWxhY2UnLCdldmVydG9uJywnbGl2ZXJwb29sJywnbmV3Y2FzdGxlJywnc291dGhhbXB0b24nLCdiYXJjZWxvbmEnLCdqdXZlbnR1cycsJ2FqYXgnLCdiYXllcm4nXSxcbiAgICBDQzogWyd2aWVubmEnLCdicmlkZ2V0b3duJywnYnJhc2lsaWEnLCdicnVzc2VscycsJ3NvZmlhJywnaGFub2knLCdvdHRvd2EnLCdiYW5ndWknLCd3YXNoaW5ndG9uJywnaGF2YW5hJywncHJhdWdlJywnY2Fpcm8nLCdoZWxzaW5raScsJ2J1ZGFwZXN0JywnamFrYXJ0YScsJ2plcnVzYWxlbScsJ2tpbmdzdG9uJywndG9reW8nLCduYWlyb2JpJywnYmVpamluZycsJ3JhYmF0Jywnb3NsbycsJ3B5b25neWFuZycsJ21hZHJpZCddLFxuICAgIFdESTogWydmdW5jdGlvbicsJ2phdmFzY3JpcHQnLCdzd2l0Y2gnLCdyZWZhY3RvcicsJ25hbWVzcGFjaW5nJywnanF1ZXJ5JywnY29uc3QnLCdwcmltaXRpdmUnLCdvYmplY3QnLCdhcnJheScsJ3Jlc3BvbnNpdmUnLCdjb25zdHJ1Y3RvcicsJ3JlY3Vyc2l2ZScsJ2luZGVudGF0aW9uJywnaXRlcmF0ZScsJ21ldGhvZCcsJ2FsZ29yaXRoaW0nLCd0ZXJtaW5hbCcsJ2dpdGh1YicsJ2RlYnVnZ2luZycsJ2xvb3AnLCd2YXJpYWJsZSddXG4gIH07XG4gIGNvbnN0IHNldHRpbmdzID0ge1xuICAgIGVhc3k6IHtcbiAgICAgIGludGVydmFsOiAxMDAwMCxcbiAgICAgIHNwZWVkOiAxNTAwLFxuICAgICAgd2lubmluZ0NvbmRpdGlvbjogNVxuICAgIH0sXG4gICAgbWVkaXVtOiB7XG4gICAgICBpbnRlcnZhbDogNzAwMCxcbiAgICAgIHNwZWVkOiAxMDAwLFxuICAgICAgd2lubmluZ0NvbmRpdGlvbjogN1xuICAgIH0sXG4gICAgaGFyZDoge1xuICAgICAgaW50ZXJ2YWw6IDUwMDAsXG4gICAgICBzcGVlZDogNzAwLFxuICAgICAgd2lubmluZ0NvbmRpdGlvbjogMTBcbiAgICB9LFxuICAgIGluc2FuZToge1xuICAgICAgaW50ZXJ2YWw6IDI1MDAsXG4gICAgICBzcGVlZDogMjAwLFxuICAgICAgd2lubmluZ0NvbmRpdGlvbjogMTBcbiAgICB9XG4gIH07XG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vU2VsZWN0b3JzLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIGxldCBzZWxlY3RlZERpZmZpY3VsdHkgPSAnJztcbiAgbGV0IHNlbGVjdGVkU3ViamVjdCA9ICcnO1xuICAkc3ViamVjdE9wdGlvbnMub24oJ2NoYW5nZScsICgpID0+IHtcbiAgICBjb25zdCB2YWx1ZSA9ICRzdWJqZWN0T3B0aW9ucy52YWwoKTtcbiAgICBzZWxlY3RlZFN1YmplY3QgPSBjYXRlZ29yaWVzW3ZhbHVlXTtcbiAgfSk7XG4gICRkaWZmaWN1bHR5T3B0aW9ucy5vbignY2hhbmdlJywgKCkgPT4ge1xuICAgIHNlbGVjdGVkRGlmZmljdWx0eSA9ICRkaWZmaWN1bHR5T3B0aW9ucy52YWwoKTtcbiAgICBkaWZmaWN1bHR5ID0gc2V0dGluZ3Nbc2VsZWN0ZWREaWZmaWN1bHR5XTtcbiAgICBjb25zb2xlLmxvZyhkaWZmaWN1bHR5KTtcbiAgfSk7XG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vU2VsZWN0b3JzIEVuZC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAvLy8vLy8vLy8vLy8vLy8vLy8vRnVuY3Rpb25zIHRoYXQgY2hhbmdlIHRoZSB3b3JkLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAvLy8gVGhpcyBzZWxlY3RzIGEgcmFuZG9tIHdvcmQgZnJvbSB0aGUgc2VsZWN0ZWQgYXJyYXlcbiAgZnVuY3Rpb24gZ2VuZXJhdGVXb3JkKCkge1xuICAgIGNvbnN0IGluZGV4ID0gW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHNlbGVjdGVkU3ViamVjdC5sZW5ndGgpXTtcbiAgICBjb25zdCBzZWxlY3RlZFdvcmQgPSBzZWxlY3RlZFN1YmplY3RbaW5kZXhdO1xuICAgIHNlbGVjdGVkU3ViamVjdC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIHJldHVybiBzZWxlY3RlZFdvcmQ7XG4gIH1cbiAgLy8vIFRoaXMgdGFrZXMgdGhlIHJhbmRvbWx5IHNlbGVjdGVkIHdvcmQgYW5kIHNodWZmbGVzIGl0IGludG8gYW4gYW5hZ3JhbVxuICBmdW5jdGlvbiBnZW5lcmF0ZUFuYWdyYW0oc2VsZWN0ZWRXb3JkKSB7XG4gICAgcmV0dXJuIHNlbGVjdGVkV29yZC5zcGxpdCgnJykuc29ydChmdW5jdGlvbigpe1xuICAgICAgcmV0dXJuIDAuNSAtIE1hdGgucmFuZG9tKCk7XG4gICAgfSApLmpvaW4oJycpO1xuICB9XG4gIC8vLy8vL1RoaXMgZ2VuZXJhdGVzIGEgZGlmZmVyZW50IGVsZW1lbnQgaW4gYSBkaWZmZXJudCBwb3NpdGlvbiBmcm9tIHRoZSBIVE1MXG4gIGZ1bmN0aW9uIGdlbmVyYXRlQW5hZ3JhbUVsZW1lbnQgKCkge1xuICAgIGNvbnN0ICRhbmFncmFtID0gJCgnPHAgY2xhc3M9XCJhbmFncmFtXCI+PC9wPicpO1xuICAgIGNvbnN0IGxlZnQgPSBNYXRoLmNlaWwoKE1hdGgucmFuZG9tKCkgKiB3aWR0aCAtIDIwMCkpO1xuICAgICRhbmFncmFtLmNzcyh7bGVmdDogbGVmdH0pO1xuICAgIHJldHVybiAkYW5hZ3JhbTtcbiAgfVxuICAvLy8vLy8gVGhpcyBpcyBmb3Igd2hlbiB0aGUgd29yZCBoaXRzIHRoZSBib3R0b20gYW5kICdmYWxscyBvZmYnXG4gIGZ1bmN0aW9uIGFuYWdyYW1IaXRzVGhlQm90dG9tICgpIHtcbiAgICAkKCcuYW5hZ3JhbScpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgY29uc3QgcG9zaXRpb24gPSBNYXRoLnJvdW5kKCQodGhpcykucG9zaXRpb24oKS50b3ApO1xuICAgICAgaWYgKHBvc2l0aW9uID49IGhlaWdodCAtIDgwICkge1xuICAgICAgICBjb25zb2xlLmxvZyhsaWZlU2NvcmUpO1xuICAgICAgICBpZighJCh0aGlzKS5oYXNDbGFzcygnaGluZ2UnKSkgbGlmZVNjb3JlIC09IDE7XG4gICAgICAgICRsaXZlcy5odG1sKGBMaXZlcyBMZWZ0OiAke2xpZmVTY29yZX1gKTsvL05vdCBXb3JraW5nXG4gICAgICAgICQodGhpcykuY3NzKCdjb2xvcicsJ3JlZCcpO1xuICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdhbmltYXRlZCBoaW5nZScpO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAkKHRoaXMpLnJlbW92ZSgpO1xuICAgICAgICB9LDUwMCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgLy8vLy8vLy8vLy8vLy8vLy8vL0Z1bmN0aW9ucyB0aGF0IGNoYW5nZSB0aGUgd29yZC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAvLy8vLy8vLy8vLy8vLy8vLy9NYWluIGZ1Y250aW9uIHRvIHBsYXkgZ2FtZSAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIGZ1bmN0aW9uIHBsYXlHYW1lICgpe1xuICAgIGNvbnN0IHNlbGVjdGVkV29yZCA9IGdlbmVyYXRlV29yZCgpO1xuICAgIGNvbnN0IHNjcmFtYmxlZFdvcmQgPSBnZW5lcmF0ZUFuYWdyYW0oc2VsZWN0ZWRXb3JkKTtcbiAgICBjb25zdCBzZWxlY3RlZEFuYWdyYW0gPSBnZW5lcmF0ZUFuYWdyYW1FbGVtZW50KCk7XG4gICAgc2VsZWN0ZWRBbmFncmFtLnRleHQoc2NyYW1ibGVkV29yZCk7XG4gICAgc2VsZWN0ZWRBbmFncmFtLmF0dHIoJ2RhdGEtd29yZCcsIHNlbGVjdGVkV29yZCk7XG4gICAgJGNvbnRhaW5lci5hcHBlbmQoc2VsZWN0ZWRBbmFncmFtKTtcbiAgICBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHtcbiAgICAgIHNlbGVjdGVkQW5hZ3JhbS5jc3MoJ3RvcCcsICcrPTEwcHgnKTtcbiAgICAgIGFuYWdyYW1IaXRzVGhlQm90dG9tKCk7XG4gICAgfSxkaWZmaWN1bHR5LnNwZWVkKTtcbiAgfVxuICAvLy8vLy8vVGhpcyBpcyB0aGUgcmVzZXQgZnVuY3Rpb24gYWZ0ZXIgYSBnYW1lIGhhcyBmaW5pc2hlZC8vLy8vLy8vLy8vLy8vLy9cbiAgZnVuY3Rpb24gcmVzZXQgKCkge1xuICAgIGxpZmVTY29yZSA9IDU7XG4gICAgJGxpdmVzLmh0bWwoJ0xpdmVzOiA1Jyk7XG4gICAgd2luQ29uZGl0aW9uID0gMDtcbiAgICAkd2luQ29uZGl0aW9uLmh0bWwoJ0NvcnJlY3QgQW5zd2VyczogMCcpO1xuICAgICQoJy5hbmFncmFtJykucmVtb3ZlKCk7XG4gIH1cbiAgLy8vIFRoaXMgaXMgZm9yIHdoZW4gdGhlIHBsYXllciBpcyByZWFkeSB0byBwbGF5LCBhZnRlciB0aGUgZGlmZmljdWx0eSBpcyBzZWxlY3RlZCBhbmQgdGhlIHBsYXkgYnV0dG9uIGlzIGNsaWNrZWQgLSBzbyB0aGlzIHN0YXJ0cyB0aGUgZ2FtZSFcbiAgJHBsYXlHYW1lLmNsaWNrKCBmdW5jdGlvbigpe1xuICAgIGlmIChzZWxlY3RlZERpZmZpY3VsdHkgPT09ICcnIHx8IHNlbGVjdGVkU3ViamVjdCA9PT0gJycpIHtcbiAgICAgIGFsZXJ0KCdBIFN1YmplY3QgYW5kIERpZmZpY3VsdHkgbmVlZHMgdG8gYmUgc2VsZWN0ZWQgdG8gcHJvY2VlZCwgcGxlYXNlIGNob29zZSBib3RoLi4uJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBsYXlHYW1lKCk7XG4gICAgICBjb25zdCBpbnRlcnZhbCA9IHNldEludGVydmFsKGZ1bmN0aW9uKCl7XG4gICAgICAgIGlmICh3aW5Db25kaXRpb24gPT09IGRpZmZpY3VsdHkud2lubmluZ0NvbmRpdGlvbikge1xuICAgICAgICAgIGFsZXJ0KCdZb3UgYmVhdCB0aGUgZ2FtZSB0aGlzIHRpbWUsIGNhbiB5b3UgbWFuYWdlIGFtZWRpdW0gZGlmZmljdXRseS4uLj8nKTtcbiAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgICAgICAgICByZXNldCgpO1xuICAgICAgICB9IGVsc2UgaWYgKGxpZmVTY29yZSA8PSAwKXtcbiAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgICAgICAgICBhbGVydCgnR2FtZSBPdmVyLCBzb3JyeSB5b3UgbG9zdCwgQm9vb29vb28hJyk7XG4gICAgICAgICAgcmVzZXQoKTtcbiAgICAgICAgfSBlbHNle1xuICAgICAgICAgIHBsYXlHYW1lKCk7XG4gICAgICAgIH1cbiAgICAgIH0sZGlmZmljdWx0eS5pbnRlcnZhbCk7XG4gICAgfX0pO1xuXG4gICAgLy8vIFRoaXMgaXMgdGhlIHZhbGlkYXRpb24gd2hlbiB0aGUgYnV0dG9uIGlzIGNsaWNrZWQgdG8gc3VibWl0IGFuIGFuc3dlciwgdGhpcyBhbHNvIGhvbGRzIHRoZSBhbmltYXRpb25zIGFwcGxpZWQgdG8gdGhlIGdhbWUuXG4gICAgJCgnZm9ybScpLm9uKCdzdWJtaXQnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgJCgnLmFuYWdyYW0nKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc3QgY2hlY2tlciA9ICQodGhpcykuZGF0YSgnd29yZCcpO1xuICAgICAgICBpZiAoJCgnI2Fuc3dlcicpLnZhbCgpLnRvTG93ZXJDYXNlKCkgPT09IGNoZWNrZXIpe1xuICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2FuaW1hdGVkIGZhZGVPdXRVcCcpLmNzcygnY29sb3InLCcjMzlGRjE0Jyk7XG4gICAgICAgICAgJHdpbkNvbmRpdGlvbi5odG1sKGBDb3JyZWN0IEFuc3dlcnM6ICR7d2luQ29uZGl0aW9uID0gd2luQ29uZGl0aW9uICsgMX1gKTtcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICQodGhpcykucmVtb3ZlKCk7XG4gICAgICAgICAgfSw1MDApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICQoJy5hbmFncmFtJykuYWRkQ2xhc3MoJ2FuaW1hdGVkIGplbGxvJyk7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAkKCcuYW5hZ3JhbScpLnJlbW92ZUNsYXNzKCdqZWxsbycpO1xuICAgICAgICAgIH0sNTAwKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICAkKCdmb3JtJykudHJpZ2dlcigncmVzZXQnKTtcbiAgICB9KTtcblxuICAgIC8vLy8vIHRoaXMgY2hhbmdlcyB0aGUgaGVpZ2h0IHByb3BlcnR5IGJhc2VkIG9uIHRoZSByZXNpemluZyBvZiB0aGUgYnJvd3NlcnMgd2luZG93XG4gICAgJCgnd2luZG93Jykub24oJ3Jlc2l6ZScsICgpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKHdpZHRoKTtcbiAgICAgIGhlaWdodCA9ICQoJy5nYW1lLWJveCcpLm91dGVySGVpZ2h0KHRydWUpO1xuICAgIH0pO1xuICAgICQoJ3dpbmRvdycpLm9uKCdyZXNpemUnLCAoKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyh3aWR0aCk7XG4gICAgICBoZWlnaHQgPSAkKCcuZ2FtZS1ib3gnKS5vdXRlcldpZHRoKHRydWUpO1xuICAgIH0pO1xuXG4gICAgLy8vLy8vIGVuZCBvZiB0aGUgRE9NO1xuICB9KTtcbiJdfQ==
