"use strict";$(function(){function e(){var e=[Math.floor(Math.random()*y.length)],a=y[e];return y.splice(e,1),a}function a(e){return e.split("").sort(function(){return.5-Math.random()}).join("")}function o(){var e=$('<p class="anagram"></p>'),a=Math.ceil(Math.random()*(s-250));return e.css({left:a}),e}function n(){$(".anagram").each(function(){var e=this;Math.round($(this).position().top)>=r-85&&($(this).hasClass("hinge")||(l-=1),u.html("Lives Left: "+l),$(this).css("color","red"),$(this).addClass("animated hinge"),setTimeout(function(){$(e).remove()},500))})}function t(){var t=e(),i=a(t),r=o();r.text(i),r.attr("data-word",t),p.append(r),setInterval(function(){r.css("top","+=10px"),n()},d.speed)}function i(){l=5,u.html("Lives: 5"),c=0,h.html("Correct Answers: 0"),$(".anagram").remove()}var r=$(".game-box").outerHeight(!0),s=$(".game-box").width(),l=5,c=0,d=null,u=$("#lives"),m=$("#play"),h=$("#winCondition"),g=$("#subject-options"),f=$("#difficulty-options"),p=$(".game-box"),v={BBT:["sheldon","leanord","spock","cheesecake factory","howard","star trek","penny","koothrapoli","bernadette","physics","laundry","halo night","dumplings","brisket","nasa","string theory","dark matter","comiccon","comic book"],LOTR:["aragorn","gimli","gandalf","legolas","mordor","uruk hai","frodo","golumm","orcs","the shire","baggins","sauron","gondor","elves","hobbit","dwarves","two towers","black gate","faramir","saruman","shadowfax","witch king"],FT:["arsenal","bournemouth","burnley","brighton","chelsea","crystal palace","everton","liverpool","newcastle","southampton","barcelona","juventus","ajax","bayern"],CC:["vienna","bridgetown","brasilia","brussels","sofia","hanoi","ottowa","bangui","washington","havana","prague","cairo","helsinki","budapest","jakarta","jerusalem","kingston","tokyo","nairobi","beijing","rabat","oslo","pyongyang","madrid"],AMG:["kath","jake moore","rolls royce","fucking geoff","pod","robinson","nat yeo","xcina","knowlesey","tinder","petit blue","investment","thomson reuters"," moorhouse","pizza pilgrim","pdog","ewelina","workflow","10am stand up","tea cakes","momentum","james","harrison","kiddie fiddler","we love soup","fuckoffee","jesus ruby","roger the dodger"],WDI:["function","javascript","switch","refactor","namespacing","jquery","const","primitive","object","array","responsive","constructor","recursive","indentation","iterate","method","algorithim","terminal","github","debugging","loop","variable"],BBM:["the dark knight","inception","the shawshank redemption","mission impossible","fast & furious","american pie","the sounds of the wind","avatar","titanic","toy story","spider man","mary poppins","the lion kings","101 dalmatians","my fair lady","pride and prejudice","romeo and juliet","bohemian rhapsody","matilda","home alone","doctor zhivago","the excorcist"]},b={easy:{interval:1e4,speed:1500,winningCondition:5},medium:{interval:7e3,speed:1e3,winningCondition:7},hard:{interval:5e3,speed:700,winningCondition:10},insane:{interval:2500,speed:200,winningCondition:10}},w="",y="";g.on("change",function(){var e=g.val();y=v[e]}),f.on("change",function(){w=f.val(),d=b[w]}),m.click(function(){if($("form").focus($("form")),""===w||""===y)alert("A Subject and Difficulty needs to be selected to proceed, please choose both...");else{t();var e=setInterval(function(){c===d.winningCondition?(alert("You beat the game this time, can you manage harder difficutly...?"),clearInterval(e),i()):l<=0?(clearInterval(e),alert("Game Over, sorry you lost, Booooooo!"),i()):t()},d.interval)}}),$("form").on("submit",function(e){e.preventDefault(),$(".anagram").each(function(){var e=this,a=$(this).data("word");$("#answer").val().toLowerCase()===a?($(this).addClass("animated flipOutY").css("color","#39FF14"),$(this).removeClass("animated jello").css("color","#39FF14"),h.html("Correct Answers: "+(c+=1)),setTimeout(function(){$(e).remove()},700)):($(".anagram").addClass("animated jello"),setTimeout(function(){$(".anagram").removeClass("jello")},500))}),$("form").trigger("reset")}),$(window).on("resize",function(){r=$(".game-box").outerHeight(!0),s=$(".game-box").width()})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyIkIiwiZ2VuZXJhdGVXb3JkIiwiaW5kZXgiLCJmbG9vciIsIk1hdGgiLCJyYW5kb20iLCJzZWxlY3RlZFN1YmplY3QiLCJzZWxlY3RlZFdvcmQiLCJzcGxpY2UiLCJnZW5lcmF0ZUFuYWdyYW0iLCJzcGxpdCIsInNvcnQiLCJqb2luIiwiZ2VuZXJhdGVBbmFncmFtRWxlbWVudCIsIiRhbmFncmFtIiwibGVmdCIsImNlaWwiLCJ3aWR0aCIsImNzcyIsImFuYWdyYW1IaXRzVGhlQm90dG9tIiwiZWFjaCIsIl90aGlzIiwidGhpcyIsInJvdW5kIiwicG9zaXRpb24iLCJ0b3AiLCJoZWlnaHQiLCJsaWZlU2NvcmUiLCJoYXNDbGFzcyIsIiRsaXZlcyIsImh0bWwiLCJzZXRUaW1lb3V0IiwiYWRkQ2xhc3MiLCJwbGF5R2FtZSIsInNlbGVjdGVkQW5hZ3JhbSIsInNjcmFtYmxlZFdvcmQiLCIkY29udGFpbmVyIiwic2V0SW50ZXJ2YWwiLCJyZXNldCIsIndpbkNvbmRpdGlvbiIsInJlbW92ZSIsIm91dGVySGVpZ2h0IiwiZGlmZmljdWx0eSIsIiRwbGF5R2FtZSIsIiR3aW5Db25kaXRpb24iLCIkc3ViamVjdE9wdGlvbnMiLCIkZGlmZmljdWx0eU9wdGlvbnMiLCJCQlQiLCJMT1RSIiwiY2F0ZWdvcmllcyIsIkZUIiwiQ0MiLCJBTUciLCJXREkiLCJzZXR0aW5ncyIsImVhc3kiLCJpbnRlcnZhbCIsInNwZWVkIiwibWVkaXVtIiwiaGFyZCIsImluc2FuZSIsInNlbGVjdGVkRGlmZmljdWx0eSIsIm9uIiwidmFsIiwiY2xpY2siLCJmb2N1cyIsImFsZXJ0IiwiY2xlYXJJbnRlcnZhbCIsImUiLCJwcmV2ZW50RGVmYXVsdCIsIl90aGlzMiIsImRhdGEiLCJ0b0xvd2VyQ2FzZSIsImNoZWNrZXIiLCJyZW1vdmVDbGFzcyIsInRyaWdnZXIiLCJ3aW5kb3ciXSwibWFwcGluZ3MiOiJZQUFBQSxHQUFFLFdBMkRBLFFBQUFDLEtBQ0EsR0FB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cUJkLElBQUksUUFBUSxXQUg5Q3VELEVBQUFBLE1BQUFBLFlBQWtCRixrQkFBeEJyRCxJQUFBLFFBQUEsV0FLRTBCLEVBQWNkLEtBQWQscUJBQXVDUyxHQUE2QixJQUhsRXZDLFdBQUEsV0FDQUEsRUFBRnNFLEdBQVF0QyxVQUNOLE9BR0FoQyxFQUFFLFlBQU13QyxTQUFSLGtCQURGVCxXQUFBLFdBSkYvQixFQVFPLFlBQUEwRSxZQUFBLFVBQ0gsUUFHRDFFLEVBQUEsUUFGRDJFLFFBQUEsV0FLSjNFLEVBQUU0RSxRQUFRRCxHQUFBQSxTQUFRLFdBcEJwQmpELEVBQUExQixFQUFBLGFBQUF5QyxhQUFBLEdBc0JBeEIsRUFBQWpCLEVBQUEsYUFBQWlCIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbIiQoKCkgPT4ge1xuICBsZXQgaGVpZ2h0ID0gJCgnLmdhbWUtYm94Jykub3V0ZXJIZWlnaHQodHJ1ZSk7XG4gIGxldCB3aWR0aCA9ICQoJy5nYW1lLWJveCcpLndpZHRoKCk7XG4gIGxldCBsaWZlU2NvcmUgPSA1O1xuICBsZXQgd2luQ29uZGl0aW9uID0gMDtcbiAgbGV0IGRpZmZpY3VsdHkgPSBudWxsO1xuICBjb25zdCAkbGl2ZXMgPSAkKCcjbGl2ZXMnKTtcbiAgY29uc3QgJHBsYXlHYW1lID0gJCgnI3BsYXknKTtcbiAgY29uc3QgJHdpbkNvbmRpdGlvbiA9ICQoJyN3aW5Db25kaXRpb24nKTtcbiAgY29uc3QgJHN1YmplY3RPcHRpb25zID0gJCgnI3N1YmplY3Qtb3B0aW9ucycpO1xuICBjb25zdCAkZGlmZmljdWx0eU9wdGlvbnMgPSAkKCcjZGlmZmljdWx0eS1vcHRpb25zJyk7XG4gIGNvbnN0ICRjb250YWluZXIgPSAkKCcuZ2FtZS1ib3gnKTtcbiAgY29uc3QgY2F0ZWdvcmllcyA9IHtcbiAgICBCQlQ6IFsnc2hlbGRvbicsJ2xlYW5vcmQnLCdzcG9jaycsJ2NoZWVzZWNha2UgZmFjdG9yeScsJ2hvd2FyZCcsJ3N0YXIgdHJlaycsJ3Blbm55Jywna29vdGhyYXBvbGknLCdiZXJuYWRldHRlJywncGh5c2ljcycsJ2xhdW5kcnknLCdoYWxvIG5pZ2h0JywnZHVtcGxpbmdzJywgJ2JyaXNrZXQnLCduYXNhJywnc3RyaW5nIHRoZW9yeScsJ2RhcmsgbWF0dGVyJywgJ2NvbWljY29uJywnY29taWMgYm9vayddLFxuICAgIExPVFI6IFsnYXJhZ29ybicsICdnaW1saScsJ2dhbmRhbGYnLCdsZWdvbGFzJywnbW9yZG9yJywndXJ1ayBoYWknLCdmcm9kbycsJ2dvbHVtbScsJ29yY3MnLCd0aGUgc2hpcmUnLCdiYWdnaW5zJywnc2F1cm9uJywgJ2dvbmRvcicsJ2VsdmVzJywnaG9iYml0JywnZHdhcnZlcycsJ3R3byB0b3dlcnMnLCdibGFjayBnYXRlJywnZmFyYW1pcicsJ3NhcnVtYW4nLCdzaGFkb3dmYXgnLCd3aXRjaCBraW5nJ10sXG4gICAgRlQ6IFsnYXJzZW5hbCcsJ2JvdXJuZW1vdXRoJywnYnVybmxleScsJ2JyaWdodG9uJywnY2hlbHNlYScsJ2NyeXN0YWwgcGFsYWNlJywnZXZlcnRvbicsJ2xpdmVycG9vbCcsJ25ld2Nhc3RsZScsJ3NvdXRoYW1wdG9uJywnYmFyY2Vsb25hJywnanV2ZW50dXMnLCdhamF4JywnYmF5ZXJuJ10sXG4gICAgQ0M6IFsndmllbm5hJywnYnJpZGdldG93bicsJ2JyYXNpbGlhJywnYnJ1c3NlbHMnLCdzb2ZpYScsJ2hhbm9pJywnb3R0b3dhJywnYmFuZ3VpJywnd2FzaGluZ3RvbicsJ2hhdmFuYScsJ3ByYWd1ZScsJ2NhaXJvJywnaGVsc2lua2knLCdidWRhcGVzdCcsJ2pha2FydGEnLCdqZXJ1c2FsZW0nLCdraW5nc3RvbicsJ3Rva3lvJywnbmFpcm9iaScsJ2JlaWppbmcnLCdyYWJhdCcsJ29zbG8nLCdweW9uZ3lhbmcnLCdtYWRyaWQnXSxcbiAgICBBTUc6XG4gICAgWydrYXRoJywnamFrZSBtb29yZScsJ3JvbGxzIHJveWNlJywnZnVja2luZyBnZW9mZicsJ3BvZCcsJ3JvYmluc29uJywnbmF0IHllbycsJ3hjaW5hJywna25vd2xlc2V5JywndGluZGVyJywncGV0aXQgYmx1ZScsJ2ludmVzdG1lbnQnLCd0aG9tc29uIHJldXRlcnMnLCcgbW9vcmhvdXNlJywncGl6emEgcGlsZ3JpbScsJ3Bkb2cnLCdld2VsaW5hJywnd29ya2Zsb3cnLCcxMGFtIHN0YW5kIHVwJywndGVhIGNha2VzJywnbW9tZW50dW0nLCdqYW1lcycsJ2hhcnJpc29uJywna2lkZGllIGZpZGRsZXInLCd3ZSBsb3ZlIHNvdXAnLCdmdWNrb2ZmZWUnLCdqZXN1cyBydWJ5Jywncm9nZXIgdGhlIGRvZGdlciddLFxuICAgIFdESTogWydmdW5jdGlvbicsJ2phdmFzY3JpcHQnLCdzd2l0Y2gnLCdyZWZhY3RvcicsJ25hbWVzcGFjaW5nJywnanF1ZXJ5JywnY29uc3QnLCdwcmltaXRpdmUnLCdvYmplY3QnLCdhcnJheScsJ3Jlc3BvbnNpdmUnLCdjb25zdHJ1Y3RvcicsJ3JlY3Vyc2l2ZScsJ2luZGVudGF0aW9uJywnaXRlcmF0ZScsJ21ldGhvZCcsJ2FsZ29yaXRoaW0nLCd0ZXJtaW5hbCcsJ2dpdGh1YicsJ2RlYnVnZ2luZycsJ2xvb3AnLCd2YXJpYWJsZSddLFxuICAgIEJCTTogWyd0aGUgZGFyayBrbmlnaHQnLCdpbmNlcHRpb24nLCd0aGUgc2hhd3NoYW5rIHJlZGVtcHRpb24nLCdtaXNzaW9uIGltcG9zc2libGUnLCdmYXN0ICYgZnVyaW91cycsICdhbWVyaWNhbiBwaWUnLCd0aGUgc291bmRzIG9mIHRoZSB3aW5kJywnYXZhdGFyJywndGl0YW5pYycsJ3RveSBzdG9yeScsJ3NwaWRlciBtYW4nLCdtYXJ5IHBvcHBpbnMnLCd0aGUgbGlvbiBraW5ncycsJzEwMSBkYWxtYXRpYW5zJywnbXkgZmFpciBsYWR5JywncHJpZGUgYW5kIHByZWp1ZGljZScsJ3JvbWVvIGFuZCBqdWxpZXQnLCdib2hlbWlhbiByaGFwc29keScsJ21hdGlsZGEnLCdob21lIGFsb25lJywnZG9jdG9yIHpoaXZhZ28nLCd0aGUgZXhjb3JjaXN0J11cblxuICB9O1xuICBjb25zdCBzZXR0aW5ncyA9IHtcbiAgICBlYXN5OiB7XG4gICAgICBpbnRlcnZhbDogMTAwMDAsXG4gICAgICBzcGVlZDogMTUwMCxcbiAgICAgIHdpbm5pbmdDb25kaXRpb246IDVcbiAgICB9LFxuICAgIG1lZGl1bToge1xuICAgICAgaW50ZXJ2YWw6IDcwMDAsXG4gICAgICBzcGVlZDogMTAwMCxcbiAgICAgIHdpbm5pbmdDb25kaXRpb246IDdcbiAgICB9LFxuICAgIGhhcmQ6IHtcbiAgICAgIGludGVydmFsOiA1MDAwLFxuICAgICAgc3BlZWQ6IDcwMCxcbiAgICAgIHdpbm5pbmdDb25kaXRpb246IDEwXG4gICAgfSxcbiAgICBpbnNhbmU6IHtcbiAgICAgIGludGVydmFsOiAyNTAwLFxuICAgICAgc3BlZWQ6IDIwMCxcbiAgICAgIHdpbm5pbmdDb25kaXRpb246IDEwXG4gICAgfVxuICB9O1xuICAvLy8vLy8vLy8vLy8vLy8vLy8vL1NlbGVjdG9ycy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICBsZXQgc2VsZWN0ZWREaWZmaWN1bHR5ID0gJyc7XG4gIGxldCBzZWxlY3RlZFN1YmplY3QgPSAnJztcbiAgJHN1YmplY3RPcHRpb25zLm9uKCdjaGFuZ2UnLCgpID0+IHtcbiAgICBjb25zdCB2YWx1ZSA9ICRzdWJqZWN0T3B0aW9ucy52YWwoKTtcbiAgICBzZWxlY3RlZFN1YmplY3QgPSBjYXRlZ29yaWVzW3ZhbHVlXTtcbiAgfSk7XG4gICRkaWZmaWN1bHR5T3B0aW9ucy5vbignY2hhbmdlJywgKCkgPT4ge1xuICAgIHNlbGVjdGVkRGlmZmljdWx0eSA9ICRkaWZmaWN1bHR5T3B0aW9ucy52YWwoKTtcbiAgICBkaWZmaWN1bHR5ID0gc2V0dGluZ3Nbc2VsZWN0ZWREaWZmaWN1bHR5XTtcbiAgfSk7XG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vU2VsZWN0b3JzIEVuZC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy9GdW5jdGlvbnMgdGhhdCBjaGFuZ2UgdGhlIHdvcmQvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIC8vLyBUaGlzIHNlbGVjdHMgYSByYW5kb20gd29yZCBmcm9tIHRoZSBzZWxlY3RlZCBhcnJheVxuICBmdW5jdGlvbiBnZW5lcmF0ZVdvcmQoKSB7XG4gICAgY29uc3QgaW5kZXggPSBbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICpcbiAgICAgIHNlbGVjdGVkU3ViamVjdC5sZW5ndGgpXTtcbiAgICBjb25zdCBzZWxlY3RlZFdvcmQgPSBzZWxlY3RlZFN1YmplY3RbaW5kZXhdO1xuICAgIHNlbGVjdGVkU3ViamVjdC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIHJldHVybiBzZWxlY3RlZFdvcmQ7XG4gIH1cbiAgICAvLy8gVGhpcyB0YWtlcyB0aGUgcmFuZG9tbHkgc2VsZWN0ZWQgd29yZCBhbmQgc2h1ZmZsZXMgaXQgaW50byBhbiBhbmFncmFtXG4gICAgICBmdW5jdGlvbiBnZW5lcmF0ZUFuYWdyYW0oc2VsZWN0ZWRXb3JkKSB7XG4gICAgICAvLy8gVGhpcyBpcyBzcGxpdHRpbmcgdGhlIHNlbGVjdGVkV29yZCAoYSBzdHJpbmcpIGFwYXJ0IHRoZW4gc29ydGluZyBpdCBhXG4gICAgICAgIHJldHVybiBzZWxlY3RlZFdvcmQuc3BsaXQoJycpLnNvcnQoZnVuY3Rpb24oKXtcbiAgICAgICAgICByZXR1cm4gMC41IC0gTWF0aC5yYW5kb20oKTtcbiAgICAgICAgfSApLmpvaW4oJycpO1xuICAgICAgfVxuICAgIC8vLy8vL1RoaXMgZ2VuZXJhdGVzIGEgZGlmZmVyZW50IGVsZW1lbnQgaW4gYSBkaWZmZXJudCBwb3NpdGlvbiBmcm9tIHRoZSBIVE1MXG4gICAgZnVuY3Rpb24gZ2VuZXJhdGVBbmFncmFtRWxlbWVudCAoKSB7XG4gICAgICBjb25zdCAkYW5hZ3JhbSA9ICQoJzxwIGNsYXNzPVwiYW5hZ3JhbVwiPjwvcD4nKTtcbiAgICAgIGNvbnN0IGxlZnQgPSBNYXRoLmNlaWwoKE1hdGgucmFuZG9tKCkgKiAod2lkdGggLSAyNTApKSk7XG4gICAgICAkYW5hZ3JhbS5jc3Moe2xlZnQ6IGxlZnR9KTtcbiAgICAgIHJldHVybiAkYW5hZ3JhbTtcbiAgICB9XG4gICAgLy8vLy8vIFRoaXMgaXMgZm9yIHdoZW4gdGhlIHdvcmQgaGl0cyB0aGUgYm90dG9tIGFuZCAnZmFsbHMgb2ZmJ1xuICAgIGZ1bmN0aW9uIGFuYWdyYW1IaXRzVGhlQm90dG9tICgpIHtcbiAgICAgICQoJy5hbmFncmFtJykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnN0IHBvc2l0aW9uID0gTWF0aC5yb3VuZCgkKHRoaXMpLnBvc2l0aW9uKCkudG9wKTtcbiAgICAgICAgaWYgKHBvc2l0aW9uID49IGhlaWdodCAtIDg1KSB7XG4gICAgICAgICAgaWYoISQodGhpcykuaGFzQ2xhc3MoJ2hpbmdlJykpIGxpZmVTY29yZSAtPSAxO1xuICAgICAgICAgICRsaXZlcy5odG1sKGBMaXZlcyBMZWZ0OiAke2xpZmVTY29yZX1gKTtcbiAgICAgICAgICAkKHRoaXMpLmNzcygnY29sb3InLCdyZWQnKTtcbiAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdhbmltYXRlZCBoaW5nZScpO1xuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmUoKTtcbiAgICAgICAgICB9LDUwMCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vRnVuY3Rpb25zIHRoYXQgY2hhbmdlIHRoZSB3b3JkLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgIC8vLy8vLy8vLy8vLy8vLy8vL01haW4gZnVjbnRpb24gdG8gcGxheSBnYW1lIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICBmdW5jdGlvbiBwbGF5R2FtZSAoKXtcbiAgICAgIGNvbnN0IHNlbGVjdGVkV29yZCA9IGdlbmVyYXRlV29yZCgpO1xuICAgICAgY29uc3Qgc2NyYW1ibGVkV29yZCA9IGdlbmVyYXRlQW5hZ3JhbShzZWxlY3RlZFdvcmQpO1xuICAgICAgY29uc3Qgc2VsZWN0ZWRBbmFncmFtID0gZ2VuZXJhdGVBbmFncmFtRWxlbWVudCgpO1xuICAgICAgc2VsZWN0ZWRBbmFncmFtLnRleHQoc2NyYW1ibGVkV29yZCk7XG4gICAgICBzZWxlY3RlZEFuYWdyYW0uYXR0cignZGF0YS13b3JkJywgc2VsZWN0ZWRXb3JkKTtcbiAgICAgICRjb250YWluZXIuYXBwZW5kKHNlbGVjdGVkQW5hZ3JhbSk7XG4gICAgICBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHtcbiAgICAgICAgc2VsZWN0ZWRBbmFncmFtLmNzcygndG9wJywgJys9MTBweCcpO1xuICAgICAgICBhbmFncmFtSGl0c1RoZUJvdHRvbSgpO1xuICAgICAgfSwgZGlmZmljdWx0eS5zcGVlZCk7XG4gICAgfVxuICAgIC8vLy8vLy9UaGlzIGlzIHRoZSByZXNldCBmdW5jdGlvbiBhZnRlciBhIGdhbWUgaGFzIGZpbmlzaGVkLy8vLy8vLy8vLy8vLy8vL1xuICAgIGZ1bmN0aW9uIHJlc2V0ICgpIHtcbiAgICAgIGxpZmVTY29yZSA9IDU7XG4gICAgICAkbGl2ZXMuaHRtbCgnTGl2ZXM6IDUnKTtcbiAgICAgIHdpbkNvbmRpdGlvbiA9IDA7XG4gICAgICAkd2luQ29uZGl0aW9uLmh0bWwoJ0NvcnJlY3QgQW5zd2VyczogMCcpO1xuICAgICAgJCgnLmFuYWdyYW0nKS5yZW1vdmUoKTtcbiAgICB9XG4gICAgLy8vIFRoaXMgaXMgZm9yIHdoZW4gdGhlIHBsYXllciBpcyByZWFkeSB0byBwbGF5LCBhZnRlciB0aGUgZGlmZmljdWx0eSBpcyBzZWxlY3RlZCBhbmQgdGhlIHBsYXkgYnV0dG9uIGlzIGNsaWNrZWQgLSBzbyB0aGlzIHN0YXJ0cyB0aGUgZ2FtZSFcbiAgICAkcGxheUdhbWUuY2xpY2soIGZ1bmN0aW9uKCl7XG4gICAgICAkKCdmb3JtJykuZm9jdXMoJCgnZm9ybScpKTtcbiAgICAgIGlmIChzZWxlY3RlZERpZmZpY3VsdHkgPT09ICcnIHx8IHNlbGVjdGVkU3ViamVjdCA9PT0gJycpIHtcbiAgICAgICAgYWxlcnQoJ0EgU3ViamVjdCBhbmQgRGlmZmljdWx0eSBuZWVkcyB0byBiZSBzZWxlY3RlZCB0byBwcm9jZWVkLCBwbGVhc2UgY2hvb3NlIGJvdGguLi4nKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBsYXlHYW1lKCk7XG4gICAgICAgIGNvbnN0IGludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtcbiAgICAgICAgICBpZiAod2luQ29uZGl0aW9uID09PSBkaWZmaWN1bHR5Lndpbm5pbmdDb25kaXRpb24pIHtcbiAgICAgICAgICAgIGFsZXJ0KCdZb3UgYmVhdCB0aGUgZ2FtZSB0aGlzIHRpbWUsIGNhbiB5b3UgbWFuYWdlIGhhcmRlciBkaWZmaWN1dGx5Li4uPycpO1xuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gICAgICAgICAgICByZXNldCgpO1xuICAgICAgICAgIH0gZWxzZSBpZiAobGlmZVNjb3JlIDw9IDApe1xuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gICAgICAgICAgICBhbGVydCgnR2FtZSBPdmVyLCBzb3JyeSB5b3UgbG9zdCwgQm9vb29vb28hJyk7XG4gICAgICAgICAgICByZXNldCgpO1xuICAgICAgICAgIH0gZWxzZXtcbiAgICAgICAgICAgIHBsYXlHYW1lKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LGRpZmZpY3VsdHkuaW50ZXJ2YWwpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIC8vLyBUaGlzIGlzIHRoZSB2YWxpZGF0aW9uIHdoZW4gdGhlIGJ1dHRvbiBpcyBjbGlja2VkIHRvIHN1Ym1pdCBhbiBhbnN3ZXIsIHRoaXMgYWxzbyBob2xkcyB0aGUgYW5pbWF0aW9ucyBhcHBsaWVkIHRvIHRoZSBnYW1lLlxuICAgICQoJ2Zvcm0nKS5vbignc3VibWl0JywgZnVuY3Rpb24gKGUpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICQoJy5hbmFncmFtJykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnN0IGNoZWNrZXIgPSAkKHRoaXMpLmRhdGEoJ3dvcmQnKTtcblxuICAgICAgICBpZiAoJCgnI2Fuc3dlcicpLnZhbCgpLnRvTG93ZXJDYXNlKCkgPT09IGNoZWNrZXIpe1xuICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2FuaW1hdGVkIGZsaXBPdXRZJykuY3NzKCdjb2xvcicsJyMzOUZGMTQnKTtcbiAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdhbmltYXRlZCBqZWxsbycpLmNzcygnY29sb3InLCcjMzlGRjE0Jyk7XG4gICAgICAgICAgJHdpbkNvbmRpdGlvbi5odG1sKGBDb3JyZWN0IEFuc3dlcnM6ICR7d2luQ29uZGl0aW9uID13aW5Db25kaXRpb24gKyAxfWApO1xuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmUoKTtcbiAgICAgICAgICB9LDcwMCk7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAkKCcuYW5hZ3JhbScpLmFkZENsYXNzKCdhbmltYXRlZCBqZWxsbycpO1xuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgJCgnLmFuYWdyYW0nKS5yZW1vdmVDbGFzcygnamVsbG8nKTtcbiAgICAgICAgICB9LDUwMCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgJCgnZm9ybScpLnRyaWdnZXIoJ3Jlc2V0Jyk7XG4gICAgfSk7XG4gICAgLy8vLy8gdGhpcyBjaGFuZ2VzIHRoZSBoZWlnaHQgcHJvcGVydHkgYmFzZWQgb24gdGhlIHJlc2l6aW5nIG9mIHRoZSBicm93c2VycyB3aW5kb3dcbiAgICAkKHdpbmRvdykub24oJ3Jlc2l6ZScsICgpID0+IHtcbiAgICAgIGhlaWdodCA9ICQoJy5nYW1lLWJveCcpLm91dGVySGVpZ2h0KHRydWUpO1xuICAgICAgd2lkdGggPSAkKCcuZ2FtZS1ib3gnKS53aWR0aCgpO1xuICAgIH0pO1xuICB9KTtcbiJdfQ==
