"use strict";$(function(){function e(){var e=[Math.floor(Math.random()*y.length)],n=y[e];return y.splice(e,1),n}function n(e){return e.split("").sort(function(){return.5-Math.random()}).join("")}function a(){var e=$('<p class="anagram"></p>'),n=Math.ceil(Math.random()*(s-250));return e.css({left:n}),e}function t(){$(".anagram").each(function(){var e=this;Math.round($(this).position().top)>=r-75&&($(this).hasClass("hinge")||(l-=1),d.html("Lives Left: "+l),$(this).css("color","red"),$(this).addClass("animated hinge"),setTimeout(function(){$(e).remove()},500))})}function o(){var o=e(),i=n(o),r=a();r.text(i),r.attr("data-word",o),v.append(r),setInterval(function(){r.css("top","+=10px"),t()},u.speed)}function i(){l=5,d.html("Lives: 5"),c=0,g.html("Correct Answers: 0"),$(".anagram").remove()}var r=$(".game-box").outerHeight(!0),s=$(".game-box").width(),l=5,c=0,u=null,d=$("#lives"),h=$("#play"),g=$("#winCondition"),m=$("#subject-options"),f=$("#difficulty-options"),v=$(".game-box"),p={BBT:["sheldon","leanord","spock","cheesecake factory","howard","star trek","penny","koothrapoli","bernadette","physics","laundry","halo night","dumplings","brisket","nasa","string theory","dark matter","comiccon","comic book"],LOTR:["arragorn","gimli","gandalf","legolas","mordor","uruk hai","frodo","golumn","orcs","the shire","baggins","sauron","gondor","elves","hobbit","dwarves","two towers","black gate","faramir","saruman","shadowfax","witch king"],FT:["arsenal","bournemouth","burnley","brighton","chelsea","crystal palace","everton","liverpool","newcastle","southampton","barcelona","juventus","ajax","bayern"],CC:["vienna","bridgetown","brasilia","brussels","sofia","hanoi","ottowa","bangui","washington","havana","prague","cairo","helsinki","budapest","jakarta","jerusalem","kingston","tokyo","nairobi","beijing","rabat","oslo","pyongyang","madrid"],WDI:["function","javascript","switch","refactor","namespacing","jquery","const","primitive","object","array","responsive","constructor","recursive","indentation","iterate","method","algorithim","terminal","github","debugging","loop","variable"],SW:["css"]},b={easy:{interval:1e4,speed:1500,winningCondition:5},medium:{interval:7e3,speed:1e3,winningCondition:7},hard:{interval:5e3,speed:700,winningCondition:10},insane:{interval:2500,speed:200,winningCondition:10}},w="",y="";m.on("change",function(){var e=m.val();y=p[e]}),f.on("change",function(){w=f.val(),u=b[w]}),h.click(function(){if(""===w||""===y)alert("A Subject and Difficulty needs to be selected to proceed, please choose both...");else{o();var e=setInterval(function(){c===u.winningCondition?(alert("You beat the game this time, can you manage harder difficutly...?"),clearInterval(e),i()):l<=0?(clearInterval(e),alert("Game Over, sorry you lost, Booooooo!"),i()):o()},u.interval)}}),$("form").on("submit",function(e){e.preventDefault(),$(".anagram").each(function(){var e=this,n=$(this).data("word");$("#answer").val().toLowerCase()===n?($(this).addClass("animatedfadeOutUp").css("color","#39FF14"),g.html("Correct Answers: "+(c+=1)),setTimeout(function(){$(e).remove()},500)):($(".anagram").addClass("animated jello"),setTimeout(function(){$(".anagram").removeClass("jello")},500))}),$("form").trigger("reset")}),$(window).on("resize",function(){r=$(".game-box").outerHeight(!0)}),$(window).on("resize",function(){s=$(".game-box").width()})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyIkIiwiZ2VuZXJhdGVXb3JkIiwiaW5kZXgiLCJmbG9vciIsIk1hdGgiLCJyYW5kb20iLCJzZWxlY3RlZFN1YmplY3QiLCJsZW5ndGgiLCJzZWxlY3RlZFdvcmQiLCJzcGxpY2UiLCJnZW5lcmF0ZUFuYWdyYW0iLCJzcGxpdCIsInNvcnQiLCJqb2luIiwiZ2VuZXJhdGVBbmFncmFtRWxlbWVudCIsIiRhbmFncmFtIiwibGVmdCIsImNlaWwiLCJ3aWR0aCIsImNzcyIsImFuYWdyYW1IaXRzVGhlQm90dG9tIiwiX3RoaXMiLCJ0aGlzIiwicm91bmQiLCJwb3NpdGlvbiIsInRvcCIsImhlaWdodCIsImhhc0NsYXNzIiwibGlmZVNjb3JlIiwiJGxpdmVzIiwiYWRkQ2xhc3MiLCJwbGF5R2FtZSIsInNjcmFtYmxlZFdvcmQiLCJzZWxlY3RlZEFuYWdyYW0iLCIkY29udGFpbmVyIiwic2V0SW50ZXJ2YWwiLCJzcGVlZCIsImRpZmZpY3VsdHkiLCJodG1sIiwid2luQ29uZGl0aW9uIiwicmVtb3ZlIiwib3V0ZXJIZWlnaHQiLCIkcGxheUdhbWUiLCIkd2luQ29uZGl0aW9uIiwiJHN1YmplY3RPcHRpb25zIiwiJGRpZmZpY3VsdHlPcHRpb25zIiwiQkJUIiwiTE9UUiIsImNhdGVnb3JpZXMiLCJGVCIsIkNDIiwic2V0dGluZ3MiLCJlYXN5IiwiaW50ZXJ2YWwiLCJ3aW5uaW5nQ29uZGl0aW9uIiwibWVkaXVtIiwiaGFyZCIsImluc2FuZSIsInNlbGVjdGVkRGlmZmljdWx0eSIsInZhbCIsInZhbHVlIiwiY2xpY2siLCJhbGVydCIsInJlc2V0IiwiY2xlYXJJbnRlcnZhbCIsIm9uIiwiZSIsInByZXZlbnREZWZhdWx0IiwiZWFjaCIsIl90aGlzMiIsImRhdGEiLCJ0b0xvd2VyQ2FzZSIsImNoZWNrZXIiLCJzZXRUaW1lb3V0Iiwid2luZG93IiwidHJpZ2dlciJdLCJtYXBwaW5ncyI6IllBQUFBLEdBQUUsV0FzREEsUUFBQUMsS0FFQSxH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e1xuICBsZXQgaGVpZ2h0ID0gJCgnLmdhbWUtYm94Jykub3V0ZXJIZWlnaHQodHJ1ZSk7XG4gIGxldCB3aWR0aCA9ICQoJy5nYW1lLWJveCcpLndpZHRoKCk7XG4gIGxldCBsaWZlU2NvcmUgPSA1O1xuICBsZXQgd2luQ29uZGl0aW9uID0gMDtcbiAgbGV0IGRpZmZpY3VsdHkgPSBudWxsO1xuICBjb25zdCAkbGl2ZXMgPSAkKCcjbGl2ZXMnKTtcbiAgY29uc3QgJHBsYXlHYW1lID0gJCgnI3BsYXknKTtcbiAgY29uc3QgJHdpbkNvbmRpdGlvbiA9ICQoJyN3aW5Db25kaXRpb24nKTtcbiAgY29uc3QgJHN1YmplY3RPcHRpb25zID0gJCgnI3N1YmplY3Qtb3B0aW9ucycpO1xuICBjb25zdCAkZGlmZmljdWx0eU9wdGlvbnMgPSAkKCcjZGlmZmljdWx0eS1vcHRpb25zJyk7XG4gIGNvbnN0ICRjb250YWluZXIgPSAkKCcuZ2FtZS1ib3gnKTtcbiAgY29uc3QgY2F0ZWdvcmllcyA9IHtcbiAgICBCQlQ6IFsnc2hlbGRvbicsJ2xlYW5vcmQnLCdzcG9jaycsJ2NoZWVzZWNha2UgZmFjdG9yeScsJ2hvd2FyZCcsJ3N0YXIgdHJlaycsJ3Blbm55Jywna29vdGhyYXBvbGknLCdiZXJuYWRldHRlJywncGh5c2ljcycsJ2xhdW5kcnknLCdoYWxvIG5pZ2h0JywnZHVtcGxpbmdzJywgJ2JyaXNrZXQnLCduYXNhJywnc3RyaW5nIHRoZW9yeScsJ2RhcmsgbWF0dGVyJywgJ2NvbWljY29uJywnY29taWMgYm9vayddLFxuICAgIExPVFI6IFsnYXJyYWdvcm4nLCAnZ2ltbGknLCdnYW5kYWxmJywnbGVnb2xhcycsJ21vcmRvcicsJ3VydWsgaGFpJywnZnJvZG8nLCdnb2x1bW4nLCdvcmNzJywndGhlIHNoaXJlJywnYmFnZ2lucycsJ3NhdXJvbicsICdnb25kb3InLCdlbHZlcycsJ2hvYmJpdCcsJ2R3YXJ2ZXMnLCd0d28gdG93ZXJzJywnYmxhY2sgZ2F0ZScsJ2ZhcmFtaXInLCdzYXJ1bWFuJywnc2hhZG93ZmF4Jywnd2l0Y2gga2luZyddLFxuICAgIEZUOiBbJ2Fyc2VuYWwnLCdib3VybmVtb3V0aCcsJ2J1cm5sZXknLCdicmlnaHRvbicsJ2NoZWxzZWEnLCdjcnlzdGFsIHBhbGFjZScsJ2V2ZXJ0b24nLCdsaXZlcnBvb2wnLCduZXdjYXN0bGUnLCdzb3V0aGFtcHRvbicsJ2JhcmNlbG9uYScsJ2p1dmVudHVzJywnYWpheCcsJ2JheWVybiddLFxuICAgIENDOiBbJ3ZpZW5uYScsJ2JyaWRnZXRvd24nLCdicmFzaWxpYScsJ2JydXNzZWxzJywnc29maWEnLCdoYW5vaScsJ290dG93YScsJ2Jhbmd1aScsJ3dhc2hpbmd0b24nLCdoYXZhbmEnLCdwcmFndWUnLCdjYWlybycsJ2hlbHNpbmtpJywnYnVkYXBlc3QnLCdqYWthcnRhJywnamVydXNhbGVtJywna2luZ3N0b24nLCd0b2t5bycsJ25haXJvYmknLCdiZWlqaW5nJywncmFiYXQnLCdvc2xvJywncHlvbmd5YW5nJywnbWFkcmlkJ10sXG4gICAgV0RJOiBbJ2Z1bmN0aW9uJywnamF2YXNjcmlwdCcsJ3N3aXRjaCcsJ3JlZmFjdG9yJywnbmFtZXNwYWNpbmcnLCdqcXVlcnknLCdjb25zdCcsJ3ByaW1pdGl2ZScsJ29iamVjdCcsJ2FycmF5JywncmVzcG9uc2l2ZScsJ2NvbnN0cnVjdG9yJywncmVjdXJzaXZlJywnaW5kZW50YXRpb24nLCdpdGVyYXRlJywnbWV0aG9kJywnYWxnb3JpdGhpbScsJ3Rlcm1pbmFsJywnZ2l0aHViJywnZGVidWdnaW5nJywnbG9vcCcsJ3ZhcmlhYmxlJ10sXG4gICAgU1c6IFsnY3NzJ11cbiAgfTtcbiAgY29uc3Qgc2V0dGluZ3MgPSB7XG4gICAgZWFzeToge1xuICAgICAgaW50ZXJ2YWw6IDEwMDAwLFxuICAgICAgc3BlZWQ6IDE1MDAsXG4gICAgICB3aW5uaW5nQ29uZGl0aW9uOiA1XG4gICAgfSxcbiAgICBtZWRpdW06IHtcbiAgICAgIGludGVydmFsOiA3MDAwLFxuICAgICAgc3BlZWQ6IDEwMDAsXG4gICAgICB3aW5uaW5nQ29uZGl0aW9uOiA3XG4gICAgfSxcbiAgICBoYXJkOiB7XG4gICAgICBpbnRlcnZhbDogNTAwMCxcbiAgICAgIHNwZWVkOiA3MDAsXG4gICAgICB3aW5uaW5nQ29uZGl0aW9uOiAxMFxuICAgIH0sXG4gICAgaW5zYW5lOiB7XG4gICAgICBpbnRlcnZhbDogMjUwMCxcbiAgICAgIHNwZWVkOiAyMDAsXG4gICAgICB3aW5uaW5nQ29uZGl0aW9uOiAxMFxuICAgIH1cbiAgfTtcbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy9TZWxlY3RvcnMvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgbGV0IHNlbGVjdGVkRGlmZmljdWx0eSA9ICcnO1xuICBsZXQgc2VsZWN0ZWRTdWJqZWN0ID0gJyc7XG4gICRzdWJqZWN0T3B0aW9ucy5vbignY2hhbmdlJywgKCkgPT4ge1xuICAgIGNvbnN0IHZhbHVlID0gJHN1YmplY3RPcHRpb25zLnZhbCgpO1xuICAgIHNlbGVjdGVkU3ViamVjdCA9IGNhdGVnb3JpZXNbdmFsdWVdO1xuICB9KTtcbiAgJGRpZmZpY3VsdHlPcHRpb25zLm9uKCdjaGFuZ2UnLCAoKSA9PiB7XG4gICAgc2VsZWN0ZWREaWZmaWN1bHR5ID0gJGRpZmZpY3VsdHlPcHRpb25zLnZhbCgpO1xuICAgIGRpZmZpY3VsdHkgPSBzZXR0aW5nc1tzZWxlY3RlZERpZmZpY3VsdHldO1xuICB9KTtcbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy9TZWxlY3RvcnMgRW5kLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy9GdW5jdGlvbnMgdGhhdCBjaGFuZ2UgdGhlIHdvcmQvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIC8vLyBUaGlzIHNlbGVjdHMgYSByYW5kb20gd29yZCBmcm9tIHRoZSBzZWxlY3RlZCBhcnJheVxuICBmdW5jdGlvbiBnZW5lcmF0ZVdvcmQoKSB7XG4gICAgLy8vVGhpcyBnZW5lcmF0ZXMgYSByYW5kb20gbnVtYmVyIHdpdGhpbiB0aGUgbGVuZ3RoIG9mIHRoZSBhcnJheSwgb2YgdGhlIHN1YmplY3Qgc2VsZWN0ZWQgYnkgdGhlIHVzZXIgKHNlbGVjdGVkU3ViamVjdClhbmQgc3RvcmVzIGl0cyBpbmRleCBpbiBhIHZhcmlhYmxlXG4gICAgY29uc3QgaW5kZXggPSBbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICpcbiAgICAgIHNlbGVjdGVkU3ViamVjdC5sZW5ndGgpXTtcblxuICAgICAgLy8vIFRoaXMgdGFrZXMgdGhlIHNlbGVjdGVkU3ViamVjdCBhbmQgaW4gdGhlIHNxdWFyZSBicmFja2V0cyBwYXNzZXMgaW4gdGhlIGluZGV4IHZhcmlhYmxlIHNvIHRoYXQgdGhlIG51bWJlciBnZW5lcmVhdGVkIHJhbmRvbWx5IGZyb20gdGhlIGxlbmd0aCBvZiB0aGUgYXJyYXkgbm93IHNlbGVjdHMgdGhhdCB3b3JkIGFuZCBzdG9yZXMgaXQgaW4gc2VsZWN0ZWRXb3JkXG4gICAgY29uc3Qgc2VsZWN0ZWRXb3JkID0gc2VsZWN0ZWRTdWJqZWN0W2luZGV4XTtcblxuICAgICAgLy8vIFRoaXMgdGFrZXMgdGhlIHNlbGVjdGVkU3ViamVjdCBhbmQgdXNpbmcgc3BsaWNlIGdldHMgcmlkIG9mIHRoZSB3b3JkIHRoYXQgd2FzIGp1c3QgcHJldmlvdXNseSBzdG9yZWQgaW4gdGhlIHNlbGVjdGVkV29yZCBvZmYgdGhlIGFycmF5IGJ5IHVzaW5nIGl0cyBpbmRleFxuICAgIHNlbGVjdGVkU3ViamVjdC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIHJldHVybiBzZWxlY3RlZFdvcmQ7XG4gIH1cblxuICAgIC8vLyBUaGlzIHRha2VzIHRoZSByYW5kb21seSBzZWxlY3RlZCB3b3JkIGFuZCBzaHVmZmxlcyBpdCBpbnRvIGFuIGFuYWdyYW1cbiAgZnVuY3Rpb24gZ2VuZXJhdGVBbmFncmFtKHNlbGVjdGVkV29yZCkge1xuICAgICAgLy8vIFRoaXMgaXMgc3BsaXR0aW5nIHRoZSBzZWxlY3RlZFdvcmQgKGEgc3RyaW5nKSBhcGFydCB0aGVuIHNvcnRpbmcgaXQgYVxuICAgIHJldHVybiBzZWxlY3RlZFdvcmQuc3BsaXQoJycpLnNvcnQoZnVuY3Rpb24oKXtcbiAgICAgIHJldHVybiAwLjUgLSBNYXRoLnJhbmRvbSgpO1xuICAgIH0gKS5qb2luKCcnKTtcbiAgfVxuICAgIC8vLy8vL1RoaXMgZ2VuZXJhdGVzIGEgZGlmZmVyZW50IGVsZW1lbnQgaW4gYSBkaWZmZXJudCBwb3NpdGlvbiBmcm9tIHRoZSBIVE1MXG4gIGZ1bmN0aW9uIGdlbmVyYXRlQW5hZ3JhbUVsZW1lbnQgKCkge1xuICAgIC8vL2NyZWF0ZXMgYSBwIHRhZyB3aXRoIHRoZSBjbGFzcyBvZiBhbmFncmFtIC0gc3RvcmVzIGl0IGluIGEgdmFyaWFibGVcbiAgICBjb25zdCAkYW5hZ3JhbSA9ICQoJzxwIGNsYXNzPVwiYW5hZ3JhbVwiPjwvcD4nKTtcbiAgICAvLyB0aGlzIGdlbmVyYXRlcyBhIHJhbmRvbSBudW1iZXIgYmV0d2VlbiB0aGUgd2lkdGggb2YgdGhlIG9mIHRoZSBnYW1lIGJveCwgMjUwIGlzIHRha2VuIGF3YXkgc28gbG9uZ2VyIHdvcmRzIGRvIG5vdCBvdmVyZmxvdyBpbiB0aGUgYm94IGFuZCBzdG9yZXMgaXQgaW4gYSB2YXJpYmFsZVxuICAgIGNvbnN0IGxlZnQgPSBNYXRoLmNlaWwoKE1hdGgucmFuZG9tKCkgKiAod2lkdGggLSAyNTApKSk7XG4gICAgLy8vIHRoaXMgc2V0cyB0aGUgcG9zaXRpb24gb2YgcC10YWcgdXNpbmcgdGhlIHJhbmRvbWx5IGdlbnJlYXRlZCBudW1iZXIgYXMgYSBwc29pdGlvblxuICAgICRhbmFncmFtLmNzcyh7bGVmdDogbGVmdH0pO1xuICAgIHJldHVybiAkYW5hZ3JhbTtcbiAgfVxuICAgIC8vLy8vLyBUaGlzIGlzIGZvciB3aGVuIHRoZSB3b3JkIGhpdHMgdGhlIGJvdHRvbSBhbmQgJ2ZhbGxzIG9mZidcbiAgZnVuY3Rpb24gYW5hZ3JhbUhpdHNUaGVCb3R0b20gKCkge1xuICAgICQoJy5hbmFncmFtJykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICBjb25zdCBwb3NpdGlvbiA9IE1hdGgucm91bmQoJCh0aGlzKS5wb3NpdGlvbigpLnRvcCk7XG4gICAgICBpZiAocG9zaXRpb24gPj0gaGVpZ2h0IC0gNzUpIHtcbiAgICAgICAgaWYoISQodGhpcykuaGFzQ2xhc3MoJ2hpbmdlJykpIGxpZmVTY29yZSAtPSAxO1xuICAgICAgICAkbGl2ZXMuaHRtbChgTGl2ZXMgTGVmdDogJHtsaWZlU2NvcmV9YCk7XG4gICAgICAgICQodGhpcykuY3NzKCdjb2xvcicsJ3JlZCcpO1xuICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdhbmltYXRlZCBoaW5nZScpO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAkKHRoaXMpLnJlbW92ZSgpO1xuICAgICAgICB9LDUwMCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vRnVuY3Rpb25zIHRoYXQgY2hhbmdlIHRoZSB3b3JkLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgLy8vLy8vLy8vLy8vLy8vLy8vTWFpbiBmdWNudGlvbiB0byBwbGF5IGdhbWUgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgIGZ1bmN0aW9uIHBsYXlHYW1lICgpe1xuICAgICAgY29uc3Qgc2VsZWN0ZWRXb3JkID0gZ2VuZXJhdGVXb3JkKCk7XG4gICAgICBjb25zdCBzY3JhbWJsZWRXb3JkID0gZ2VuZXJhdGVBbmFncmFtKHNlbGVjdGVkV29yZCk7XG4gICAgICBjb25zdCBzZWxlY3RlZEFuYWdyYW0gPSBnZW5lcmF0ZUFuYWdyYW1FbGVtZW50KCk7XG4gICAgICBzZWxlY3RlZEFuYWdyYW0udGV4dChzY3JhbWJsZWRXb3JkKTtcbiAgICAgIHNlbGVjdGVkQW5hZ3JhbS5hdHRyKCdkYXRhLXdvcmQnLCBzZWxlY3RlZFdvcmQpO1xuICAgICAgJGNvbnRhaW5lci5hcHBlbmQoc2VsZWN0ZWRBbmFncmFtKTtcbiAgICAgIHNldEludGVydmFsKGZ1bmN0aW9uKCkge1xuICAgICAgICBzZWxlY3RlZEFuYWdyYW0uY3NzKCd0b3AnLCAnKz0xMHB4Jyk7XG4gICAgICAgIGFuYWdyYW1IaXRzVGhlQm90dG9tKCk7XG4gICAgICB9LGRpZmZpY3VsdHkuc3BlZWQpO1xuICAgIH1cbiAgICAvLy8vLy8vVGhpcyBpcyB0aGUgcmVzZXQgZnVuY3Rpb24gYWZ0ZXIgYSBnYW1lIGhhcyBmaW5pc2hlZC8vLy8vLy8vLy8vLy8vLy9cbiAgZnVuY3Rpb24gcmVzZXQgKCkge1xuICAgIGxpZmVTY29yZSA9IDU7XG4gICAgJGxpdmVzLmh0bWwoJ0xpdmVzOiA1Jyk7XG4gICAgd2luQ29uZGl0aW9uID0gMDtcbiAgICAkd2luQ29uZGl0aW9uLmh0bWwoJ0NvcnJlY3QgQW5zd2VyczogMCcpO1xuICAgICQoJy5hbmFncmFtJykucmVtb3ZlKCk7XG4gIH1cbiAgICAvLy8gVGhpcyBpcyBmb3Igd2hlbiB0aGUgcGxheWVyIGlzIHJlYWR5IHRvIHBsYXksIGFmdGVyIHRoZSBkaWZmaWN1bHR5IGlzIHNlbGVjdGVkIGFuZCB0aGUgcGxheSBidXR0b24gaXMgY2xpY2tlZCAtIHNvIHRoaXMgc3RhcnRzIHRoZSBnYW1lIVxuICAkcGxheUdhbWUuY2xpY2soIGZ1bmN0aW9uKCl7XG4gICAgaWYgKHNlbGVjdGVkRGlmZmljdWx0eSA9PT0gJycgfHwgc2VsZWN0ZWRTdWJqZWN0ID09PSAnJykge1xuICAgICAgYWxlcnQoJ0EgU3ViamVjdCBhbmQgRGlmZmljdWx0eSBuZWVkcyB0byBiZSBzZWxlY3RlZCB0byBwcm9jZWVkLCBwbGVhc2UgY2hvb3NlIGJvdGguLi4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcGxheUdhbWUoKTtcbiAgICAgIGNvbnN0IGludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtcbiAgICAgICAgaWYgKHdpbkNvbmRpdGlvbiA9PT0gZGlmZmljdWx0eS53aW5uaW5nQ29uZGl0aW9uKSB7XG4gICAgICAgICAgYWxlcnQoJ1lvdSBiZWF0IHRoZSBnYW1lIHRoaXMgdGltZSwgY2FuIHlvdSBtYW5hZ2UgaGFyZGVyIGRpZmZpY3V0bHkuLi4/Jyk7XG4gICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gICAgICAgICAgcmVzZXQoKTtcbiAgICAgICAgfSBlbHNlIGlmIChsaWZlU2NvcmUgPD0gMCl7XG4gICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gICAgICAgICAgYWxlcnQoJ0dhbWUgT3Zlciwgc29ycnkgeW91IGxvc3QsIEJvb29vb29vIScpO1xuICAgICAgICAgIHJlc2V0KCk7XG4gICAgICAgIH0gZWxzZXtcbiAgICAgICAgICBwbGF5R2FtZSgpO1xuICAgICAgICB9XG4gICAgICB9LGRpZmZpY3VsdHkuaW50ZXJ2YWwpO1xuICAgIH1cbiAgfSk7XG5cbiAgICAgIC8vLyBUaGlzIGlzIHRoZSB2YWxpZGF0aW9uIHdoZW4gdGhlIGJ1dHRvbiBpcyBjbGlja2VkIHRvIHN1Ym1pdCBhbiBhbnN3ZXIsIHRoaXMgYWxzbyBob2xkcyB0aGUgYW5pbWF0aW9ucyBhcHBsaWVkIHRvIHRoZSBnYW1lLlxuICAkKCdmb3JtJykub24oJ3N1Ym1pdCcsIGZ1bmN0aW9uIChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICQoJy5hbmFncmFtJykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICBjb25zdCBjaGVja2VyID0gJCh0aGlzKS5kYXRhKCd3b3JkJyk7XG4gICAgICBpZiAoJCgnI2Fuc3dlcicpLnZhbCgpLnRvTG93ZXJDYXNlKCkgPT09IGNoZWNrZXIpe1xuICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdhbmltYXRlZGZhZGVPdXRVcCcpLmNzcygnY29sb3InLCcjMzlGRjE0Jyk7XG4gICAgICAgICR3aW5Db25kaXRpb24uaHRtbChgQ29ycmVjdCBBbnN3ZXJzOiAke3dpbkNvbmRpdGlvbiA9d2luQ29uZGl0aW9uICsgMX1gKTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgJCh0aGlzKS5yZW1vdmUoKTtcbiAgICAgICAgfSw1MDApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJCgnLmFuYWdyYW0nKS5hZGRDbGFzcygnYW5pbWF0ZWQgamVsbG8nKTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgJCgnLmFuYWdyYW0nKS5yZW1vdmVDbGFzcygnamVsbG8nKTtcbiAgICAgICAgfSw1MDApO1xuICAgICAgfVxuICAgIH0pO1xuICAgICQoJ2Zvcm0nKS50cmlnZ2VyKCdyZXNldCcpO1xuICB9KTtcblxuICAgICAgLy8vLy8gdGhpcyBjaGFuZ2VzIHRoZSBoZWlnaHQgcHJvcGVydHkgYmFzZWQgb24gdGhlIHJlc2l6aW5nIG9mIHRoZSBicm93c2VycyB3aW5kb3dcbiAgJCh3aW5kb3cpLm9uKCdyZXNpemUnLCAoKSA9PiB7XG4gICAgaGVpZ2h0ID0gJCgnLmdhbWUtYm94Jykub3V0ZXJIZWlnaHQodHJ1ZSk7XG4gIH0pO1xuICAkKHdpbmRvdykub24oJ3Jlc2l6ZScsICgpID0+IHtcbiAgICB3aWR0aCA9ICQoJy5nYW1lLWJveCcpLndpZHRoKCk7XG4gIH0pO1xuXG59KTtcbiJdfQ==
