"use strict";$(function(){function e(){var e=[Math.floor(Math.random()*y.length)],a=y[e];return y.splice(e,1),a}function a(e){return e.split("").sort(function(){return.5-Math.random()}).join("")}function n(){var e=$('<p class="anagram"></p>'),a=Math.ceil(Math.random()*(s-250));return e.css({left:a}),e}function t(){$(".anagram").each(function(){var e=this;Math.round($(this).position().top)>=r-85&&($(this).hasClass("hinge")||(l-=1),d.html("Lives Left: "+l),$(this).css("color","red"),$(this).addClass("animated hinge"),setTimeout(function(){$(e).remove()},500))})}function o(){var o=e(),i=a(o),r=n();r.text(i),r.attr("data-word",o),v.append(r),setInterval(function(){r.css("top","+=10px"),t()},u.speed)}function i(){l=5,d.html("Lives: 5"),c=0,m.html("Correct Answers: 0"),$(".anagram").remove()}var r=$(".game-box").outerHeight(!0),s=$(".game-box").width(),l=5,c=0,u=null,d=$("#lives"),h=$("#play"),m=$("#winCondition"),g=$("#subject-options"),f=$("#difficulty-options"),v=$(".game-box"),p={BBT:["sheldon","leanord","spock","cheesecake factory","howard","star trek","penny","koothrapoli","bernadette","physics","laundry","halo night","dumplings","brisket","nasa","string theory","dark matter","comiccon","comic book"],LOTR:["arragorn","gimli","gandalf","legolas","mordor","uruk hai","frodo","golumn","orcs","the shire","baggins","sauron","gondor","elves","hobbit","dwarves","two towers","black gate","faramir","saruman","shadowfax","witch king"],FT:["arsenal","bournemouth","burnley","brighton","chelsea","crystal palace","everton","liverpool","newcastle","southampton","barcelona","juventus","ajax","bayern"],CC:["vienna","bridgetown","brasilia","brussels","sofia","hanoi","ottowa","bangui","washington","havana","prague","cairo","helsinki","budapest","jakarta","jerusalem","kingston","tokyo","nairobi","beijing","rabat","oslo","pyongyang","madrid"],WDI:["function","javascript","switch","refactor","namespacing","jquery","const","primitive","object","array","responsive","constructor","recursive","indentation","iterate","method","algorithim","terminal","github","debugging","loop","variable"],SW:["css"]},b={easy:{interval:1e4,speed:1500,winningCondition:5},medium:{interval:7e3,speed:1e3,winningCondition:7},hard:{interval:5e3,speed:700,winningCondition:10},insane:{interval:2500,speed:200,winningCondition:10}},w="",y="";g.on("change",function(){var e=g.val();y=p[e]}),f.on("change",function(){w=f.val(),u=b[w]}),h.click(function(){if(""===w||""===y)alert("A Subject and Difficulty needs to be selected to proceed, please choose both...");else{o();var e=setInterval(function(){c===u.winningCondition?(alert("You beat the game this time, can you manage harder difficutly...?"),clearInterval(e),i()):l<=0?(clearInterval(e),alert("Game Over, sorry you lost, Booooooo!"),i()):o()},u.interval)}}),$("form").on("submit",function(e){e.preventDefault(),$(".anagram").each(function(){var e=this,a=$(this).data("word");$("#answer").val().toLowerCase()===a?($(this).addClass("animated flipOutY").css("color","#39FF14"),$(this).removeClass("animated jello").css("color","#39FF14"),m.html("Correct Answers: "+(c+=1)),setTimeout(function(){$(e).remove()},700)):($(".anagram").addClass("animated jello"),setTimeout(function(){$(".anagram").removeClass("jello")},500))}),$("form").trigger("reset")}),$(window).on("resize",function(){r=$(".game-box").outerHeight(!0)}),$(window).on("resize",function(){s=$(".game-box").width()})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyIkIiwiZ2VuZXJhdGVXb3JkIiwiaW5kZXgiLCJmbG9vciIsIk1hdGgiLCJyYW5kb20iLCJzZWxlY3RlZFN1YmplY3QiLCJsZW5ndGgiLCJzZWxlY3RlZFdvcmQiLCJzcGxpY2UiLCJnZW5lcmF0ZUFuYWdyYW0iLCJzcGxpdCIsInNvcnQiLCJqb2luIiwiZ2VuZXJhdGVBbmFncmFtRWxlbWVudCIsIiRhbmFncmFtIiwibGVmdCIsImNlaWwiLCJ3aWR0aCIsImNzcyIsImFuYWdyYW1IaXRzVGhlQm90dG9tIiwiX3RoaXMiLCJ0aGlzIiwicm91bmQiLCJwb3NpdGlvbiIsInRvcCIsImhlaWdodCIsImhhc0NsYXNzIiwibGlmZVNjb3JlIiwiJGxpdmVzIiwiYWRkQ2xhc3MiLCJwbGF5R2FtZSIsInNjcmFtYmxlZFdvcmQiLCJzZWxlY3RlZEFuYWdyYW0iLCIkY29udGFpbmVyIiwiYXR0ciIsInNldEludGVydmFsIiwic3BlZWQiLCJkaWZmaWN1bHR5IiwiaHRtbCIsIndpbkNvbmRpdGlvbiIsInJlbW92ZSIsIm91dGVySGVpZ2h0IiwiJHBsYXlHYW1lIiwiJHdpbkNvbmRpdGlvbiIsIiRzdWJqZWN0T3B0aW9ucyIsIiRkaWZmaWN1bHR5T3B0aW9ucyIsIkJCVCIsIkxPVFIiLCJjYXRlZ29yaWVzIiwiRlQiLCJDQyIsInNldHRpbmdzIiwiZWFzeSIsImludGVydmFsIiwid2lubmluZ0NvbmRpdGlvbiIsIm1lZGl1bSIsImhhcmQiLCJpbnNhbmUiLCJzZWxlY3RlZERpZmZpY3VsdHkiLCJ2YWwiLCJ2YWx1ZSIsImNsaWNrIiwiYWxlcnQiLCJyZXNldCIsImNsZWFySW50ZXJ2YWwiLCJvbiIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImVhY2giLCJfdGhpczIiLCJkYXRhIiwidG9Mb3dlckNhc2UiLCJjaGVja2VyIiwicmVtb3ZlQ2xhc3MiLCJzZXRUaW1lb3V0Iiwid2luZG93IiwidHJpZ2dlciJdLCJtYXBwaW5ncyI6IllBQUFBLEdB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Sm5CaEQsRUFBQWxCLEVBQUEsYUFBQWtCIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbIiQoKCkgPT4ge1xuICBsZXQgaGVpZ2h0ID0gJCgnLmdhbWUtYm94Jykub3V0ZXJIZWlnaHQodHJ1ZSk7XG4gIGxldCB3aWR0aCA9ICQoJy5nYW1lLWJveCcpLndpZHRoKCk7XG4gIGxldCBsaWZlU2NvcmUgPSA1O1xuICBsZXQgd2luQ29uZGl0aW9uID0gMDtcbiAgbGV0IGRpZmZpY3VsdHkgPSBudWxsO1xuICBjb25zdCAkbGl2ZXMgPSAkKCcjbGl2ZXMnKTtcbiAgY29uc3QgJHBsYXlHYW1lID0gJCgnI3BsYXknKTtcbiAgY29uc3QgJHdpbkNvbmRpdGlvbiA9ICQoJyN3aW5Db25kaXRpb24nKTtcbiAgY29uc3QgJHN1YmplY3RPcHRpb25zID0gJCgnI3N1YmplY3Qtb3B0aW9ucycpO1xuICBjb25zdCAkZGlmZmljdWx0eU9wdGlvbnMgPSAkKCcjZGlmZmljdWx0eS1vcHRpb25zJyk7XG4gIGNvbnN0ICRjb250YWluZXIgPSAkKCcuZ2FtZS1ib3gnKTtcbiAgY29uc3QgY2F0ZWdvcmllcyA9IHtcbiAgICBCQlQ6IFsnc2hlbGRvbicsJ2xlYW5vcmQnLCdzcG9jaycsJ2NoZWVzZWNha2UgZmFjdG9yeScsJ2hvd2FyZCcsJ3N0YXIgdHJlaycsJ3Blbm55Jywna29vdGhyYXBvbGknLCdiZXJuYWRldHRlJywncGh5c2ljcycsJ2xhdW5kcnknLCdoYWxvIG5pZ2h0JywnZHVtcGxpbmdzJywgJ2JyaXNrZXQnLCduYXNhJywnc3RyaW5nIHRoZW9yeScsJ2RhcmsgbWF0dGVyJywgJ2NvbWljY29uJywnY29taWMgYm9vayddLFxuICAgIExPVFI6IFsnYXJyYWdvcm4nLCAnZ2ltbGknLCdnYW5kYWxmJywnbGVnb2xhcycsJ21vcmRvcicsJ3VydWsgaGFpJywnZnJvZG8nLCdnb2x1bW4nLCdvcmNzJywndGhlIHNoaXJlJywnYmFnZ2lucycsJ3NhdXJvbicsICdnb25kb3InLCdlbHZlcycsJ2hvYmJpdCcsJ2R3YXJ2ZXMnLCd0d28gdG93ZXJzJywnYmxhY2sgZ2F0ZScsJ2ZhcmFtaXInLCdzYXJ1bWFuJywnc2hhZG93ZmF4Jywnd2l0Y2gga2luZyddLFxuICAgIEZUOiBbJ2Fyc2VuYWwnLCdib3VybmVtb3V0aCcsJ2J1cm5sZXknLCdicmlnaHRvbicsJ2NoZWxzZWEnLCdjcnlzdGFsIHBhbGFjZScsJ2V2ZXJ0b24nLCdsaXZlcnBvb2wnLCduZXdjYXN0bGUnLCdzb3V0aGFtcHRvbicsJ2JhcmNlbG9uYScsJ2p1dmVudHVzJywnYWpheCcsJ2JheWVybiddLFxuICAgIENDOiBbJ3ZpZW5uYScsJ2JyaWRnZXRvd24nLCdicmFzaWxpYScsJ2JydXNzZWxzJywnc29maWEnLCdoYW5vaScsJ290dG93YScsJ2Jhbmd1aScsJ3dhc2hpbmd0b24nLCdoYXZhbmEnLCdwcmFndWUnLCdjYWlybycsJ2hlbHNpbmtpJywnYnVkYXBlc3QnLCdqYWthcnRhJywnamVydXNhbGVtJywna2luZ3N0b24nLCd0b2t5bycsJ25haXJvYmknLCdiZWlqaW5nJywncmFiYXQnLCdvc2xvJywncHlvbmd5YW5nJywnbWFkcmlkJ10sXG4gICAgV0RJOiBbJ2Z1bmN0aW9uJywnamF2YXNjcmlwdCcsJ3N3aXRjaCcsJ3JlZmFjdG9yJywnbmFtZXNwYWNpbmcnLCdqcXVlcnknLCdjb25zdCcsJ3ByaW1pdGl2ZScsJ29iamVjdCcsJ2FycmF5JywncmVzcG9uc2l2ZScsJ2NvbnN0cnVjdG9yJywncmVjdXJzaXZlJywnaW5kZW50YXRpb24nLCdpdGVyYXRlJywnbWV0aG9kJywnYWxnb3JpdGhpbScsJ3Rlcm1pbmFsJywnZ2l0aHViJywnZGVidWdnaW5nJywnbG9vcCcsJ3ZhcmlhYmxlJ10sXG4gICAgU1c6IFsnY3NzJ11cbiAgfTtcbiAgY29uc3Qgc2V0dGluZ3MgPSB7XG4gICAgZWFzeToge1xuICAgICAgaW50ZXJ2YWw6IDEwMDAwLFxuICAgICAgc3BlZWQ6IDE1MDAsXG4gICAgICB3aW5uaW5nQ29uZGl0aW9uOiA1XG4gICAgfSxcbiAgICBtZWRpdW06IHtcbiAgICAgIGludGVydmFsOiA3MDAwLFxuICAgICAgc3BlZWQ6IDEwMDAsXG4gICAgICB3aW5uaW5nQ29uZGl0aW9uOiA3XG4gICAgfSxcbiAgICBoYXJkOiB7XG4gICAgICBpbnRlcnZhbDogNTAwMCxcbiAgICAgIHNwZWVkOiA3MDAsXG4gICAgICB3aW5uaW5nQ29uZGl0aW9uOiAxMFxuICAgIH0sXG4gICAgaW5zYW5lOiB7XG4gICAgICBpbnRlcnZhbDogMjUwMCxcbiAgICAgIHNwZWVkOiAyMDAsXG4gICAgICB3aW5uaW5nQ29uZGl0aW9uOiAxMFxuICAgIH1cbiAgfTtcbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy9TZWxlY3RvcnMvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgbGV0IHNlbGVjdGVkRGlmZmljdWx0eSA9ICcnO1xuICBsZXQgc2VsZWN0ZWRTdWJqZWN0ID0gJyc7XG4gICRzdWJqZWN0T3B0aW9ucy5vbignY2hhbmdlJywgKCkgPT4ge1xuICAgIGNvbnN0IHZhbHVlID0gJHN1YmplY3RPcHRpb25zLnZhbCgpO1xuICAgIHNlbGVjdGVkU3ViamVjdCA9IGNhdGVnb3JpZXNbdmFsdWVdO1xuICB9KTtcbiAgJGRpZmZpY3VsdHlPcHRpb25zLm9uKCdjaGFuZ2UnLCAoKSA9PiB7XG4gICAgc2VsZWN0ZWREaWZmaWN1bHR5ID0gJGRpZmZpY3VsdHlPcHRpb25zLnZhbCgpO1xuICAgIGRpZmZpY3VsdHkgPSBzZXR0aW5nc1tzZWxlY3RlZERpZmZpY3VsdHldO1xuICB9KTtcbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy9TZWxlY3RvcnMgRW5kLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy9GdW5jdGlvbnMgdGhhdCBjaGFuZ2UgdGhlIHdvcmQvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIC8vLyBUaGlzIHNlbGVjdHMgYSByYW5kb20gd29yZCBmcm9tIHRoZSBzZWxlY3RlZCBhcnJheVxuICBmdW5jdGlvbiBnZW5lcmF0ZVdvcmQoKSB7XG4gICAgLy8vVGhpcyBnZW5lcmF0ZXMgYSByYW5kb20gbnVtYmVyIHdpdGhpbiB0aGUgbGVuZ3RoIG9mIHRoZSBhcnJheSwgb2YgdGhlIHN1YmplY3Qgc2VsZWN0ZWQgYnkgdGhlIHVzZXIgKHNlbGVjdGVkU3ViamVjdClhbmQgc3RvcmVzIGl0cyBpbmRleCBpbiBhIHZhcmlhYmxlXG4gICAgY29uc3QgaW5kZXggPSBbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICpcbiAgICAgIHNlbGVjdGVkU3ViamVjdC5sZW5ndGgpXTtcblxuICAgICAgLy8vIFRoaXMgdGFrZXMgdGhlIHNlbGVjdGVkU3ViamVjdCBhbmQgaW4gdGhlIHNxdWFyZSBicmFja2V0cyBwYXNzZXMgaW4gdGhlIGluZGV4IHZhcmlhYmxlIHNvIHRoYXQgdGhlIG51bWJlciBnZW5lcmVhdGVkIHJhbmRvbWx5IGZyb20gdGhlIGxlbmd0aCBvZiB0aGUgYXJyYXkgbm93IHNlbGVjdHMgdGhhdCB3b3JkIGFuZCBzdG9yZXMgaXQgaW4gc2VsZWN0ZWRXb3JkXG4gICAgY29uc3Qgc2VsZWN0ZWRXb3JkID0gc2VsZWN0ZWRTdWJqZWN0W2luZGV4XTtcblxuICAgICAgLy8vIFRoaXMgdGFrZXMgdGhlIHNlbGVjdGVkU3ViamVjdCBhbmQgdXNpbmcgc3BsaWNlIGdldHMgcmlkIG9mIHRoZSB3b3JkIHRoYXQgd2FzIGp1c3QgcHJldmlvdXNseSBzdG9yZWQgaW4gdGhlIHNlbGVjdGVkV29yZCBvZmYgdGhlIGFycmF5IGJ5IHVzaW5nIGl0cyBpbmRleFxuICAgIHNlbGVjdGVkU3ViamVjdC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIHJldHVybiBzZWxlY3RlZFdvcmQ7XG4gIH1cblxuICAgIC8vLyBUaGlzIHRha2VzIHRoZSByYW5kb21seSBzZWxlY3RlZCB3b3JkIGFuZCBzaHVmZmxlcyBpdCBpbnRvIGFuIGFuYWdyYW1cbiAgZnVuY3Rpb24gZ2VuZXJhdGVBbmFncmFtKHNlbGVjdGVkV29yZCkge1xuICAgICAgLy8vIFRoaXMgaXMgc3BsaXR0aW5nIHRoZSBzZWxlY3RlZFdvcmQgKGEgc3RyaW5nKSBhcGFydCB0aGVuIHNvcnRpbmcgaXQgYVxuICAgIHJldHVybiBzZWxlY3RlZFdvcmQuc3BsaXQoJycpLnNvcnQoZnVuY3Rpb24oKXtcbiAgICAgIHJldHVybiAwLjUgLSBNYXRoLnJhbmRvbSgpO1xuICAgIH0gKS5qb2luKCcnKTtcbiAgfVxuICAgIC8vLy8vL1RoaXMgZ2VuZXJhdGVzIGEgZGlmZmVyZW50IGVsZW1lbnQgaW4gYSBkaWZmZXJudCBwb3NpdGlvbiBmcm9tIHRoZSBIVE1MXG4gIGZ1bmN0aW9uIGdlbmVyYXRlQW5hZ3JhbUVsZW1lbnQgKCkge1xuICAgIC8vL2NyZWF0ZXMgYSBwIHRhZyB3aXRoIHRoZSBjbGFzcyBvZiBhbmFncmFtIC0gc3RvcmVzIGl0IGluIGEgdmFyaWFibGVcbiAgICBjb25zdCAkYW5hZ3JhbSA9ICQoJzxwIGNsYXNzPVwiYW5hZ3JhbVwiPjwvcD4nKTtcbiAgICAvLyB0aGlzIGdlbmVyYXRlcyBhIHJhbmRvbSBudW1iZXIgYmV0d2VlbiB0aGUgd2lkdGggb2YgdGhlIG9mIHRoZSBnYW1lIGJveCwgMjUwIGlzIHRha2VuIGF3YXkgc28gbG9uZ2VyIHdvcmRzIGRvIG5vdCBvdmVyZmxvdyBpbiB0aGUgYm94IGFuZCBzdG9yZXMgaXQgaW4gYSB2YXJpYmFsZVxuICAgIGNvbnN0IGxlZnQgPSBNYXRoLmNlaWwoKE1hdGgucmFuZG9tKCkgKiAod2lkdGggLSAyNTApKSk7XG4gICAgLy8vIHRoaXMgc2V0cyB0aGUgcG9zaXRpb24gb2YgcC10YWcgdXNpbmcgdGhlIHJhbmRvbWx5IGdlbnJlYXRlZCBudW1iZXIgYXMgYSBwc29pdGlvblxuICAgICRhbmFncmFtLmNzcyh7bGVmdDogbGVmdH0pO1xuICAgIHJldHVybiAkYW5hZ3JhbTtcbiAgfVxuICAgIC8vLy8vLyBUaGlzIGlzIGZvciB3aGVuIHRoZSB3b3JkIGhpdHMgdGhlIGJvdHRvbSBhbmQgJ2ZhbGxzIG9mZidcbiAgZnVuY3Rpb24gYW5hZ3JhbUhpdHNUaGVCb3R0b20gKCkge1xuICAgICQoJy5hbmFncmFtJykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICBjb25zdCBwb3NpdGlvbiA9IE1hdGgucm91bmQoJCh0aGlzKS5wb3NpdGlvbigpLnRvcCk7XG4gICAgICBpZiAocG9zaXRpb24gPj0gaGVpZ2h0IC0gODUpIHtcbiAgICAgICAgaWYoISQodGhpcykuaGFzQ2xhc3MoJ2hpbmdlJykpIGxpZmVTY29yZSAtPSAxO1xuICAgICAgICAkbGl2ZXMuaHRtbChgTGl2ZXMgTGVmdDogJHtsaWZlU2NvcmV9YCk7XG4gICAgICAgICQodGhpcykuY3NzKCdjb2xvcicsJ3JlZCcpO1xuICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdhbmltYXRlZCBoaW5nZScpO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAkKHRoaXMpLnJlbW92ZSgpO1xuICAgICAgICB9LDUwMCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vRnVuY3Rpb25zIHRoYXQgY2hhbmdlIHRoZSB3b3JkLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgLy8vLy8vLy8vLy8vLy8vLy8vTWFpbiBmdWNudGlvbiB0byBwbGF5IGdhbWUgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICBmdW5jdGlvbiBwbGF5R2FtZSAoKXtcbiAgICBjb25zdCBzZWxlY3RlZFdvcmQgPSBnZW5lcmF0ZVdvcmQoKTtcbiAgICBjb25zdCBzY3JhbWJsZWRXb3JkID0gZ2VuZXJhdGVBbmFncmFtKHNlbGVjdGVkV29yZCk7XG4gICAgY29uc3Qgc2VsZWN0ZWRBbmFncmFtID0gZ2VuZXJhdGVBbmFncmFtRWxlbWVudCgpO1xuICAgIHNlbGVjdGVkQW5hZ3JhbS50ZXh0KHNjcmFtYmxlZFdvcmQpO1xuICAgIHNlbGVjdGVkQW5hZ3JhbS5hdHRyKCdkYXRhLXdvcmQnLCBzZWxlY3RlZFdvcmQpO1xuICAgICRjb250YWluZXIuYXBwZW5kKHNlbGVjdGVkQW5hZ3JhbSk7XG4gICAgc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XG4gICAgICBzZWxlY3RlZEFuYWdyYW0uY3NzKCd0b3AnLCAnKz0xMHB4Jyk7XG4gICAgICBhbmFncmFtSGl0c1RoZUJvdHRvbSgpO1xuICAgIH0sZGlmZmljdWx0eS5zcGVlZCk7XG4gIH1cbiAgICAvLy8vLy8vVGhpcyBpcyB0aGUgcmVzZXQgZnVuY3Rpb24gYWZ0ZXIgYSBnYW1lIGhhcyBmaW5pc2hlZC8vLy8vLy8vLy8vLy8vLy9cbiAgZnVuY3Rpb24gcmVzZXQgKCkge1xuICAgIGxpZmVTY29yZSA9IDU7XG4gICAgJGxpdmVzLmh0bWwoJ0xpdmVzOiA1Jyk7XG4gICAgd2luQ29uZGl0aW9uID0gMDtcbiAgICAkd2luQ29uZGl0aW9uLmh0bWwoJ0NvcnJlY3QgQW5zd2VyczogMCcpO1xuICAgICQoJy5hbmFncmFtJykucmVtb3ZlKCk7XG4gIH1cbiAgICAvLy8gVGhpcyBpcyBmb3Igd2hlbiB0aGUgcGxheWVyIGlzIHJlYWR5IHRvIHBsYXksIGFmdGVyIHRoZSBkaWZmaWN1bHR5IGlzIHNlbGVjdGVkIGFuZCB0aGUgcGxheSBidXR0b24gaXMgY2xpY2tlZCAtIHNvIHRoaXMgc3RhcnRzIHRoZSBnYW1lIVxuICAkcGxheUdhbWUuY2xpY2soIGZ1bmN0aW9uKCl7XG4gICAgaWYgKHNlbGVjdGVkRGlmZmljdWx0eSA9PT0gJycgfHwgc2VsZWN0ZWRTdWJqZWN0ID09PSAnJykge1xuICAgICAgYWxlcnQoJ0EgU3ViamVjdCBhbmQgRGlmZmljdWx0eSBuZWVkcyB0byBiZSBzZWxlY3RlZCB0byBwcm9jZWVkLCBwbGVhc2UgY2hvb3NlIGJvdGguLi4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcGxheUdhbWUoKTtcbiAgICAgIGNvbnN0IGludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtcbiAgICAgICAgaWYgKHdpbkNvbmRpdGlvbiA9PT0gZGlmZmljdWx0eS53aW5uaW5nQ29uZGl0aW9uKSB7XG4gICAgICAgICAgYWxlcnQoJ1lvdSBiZWF0IHRoZSBnYW1lIHRoaXMgdGltZSwgY2FuIHlvdSBtYW5hZ2UgaGFyZGVyIGRpZmZpY3V0bHkuLi4/Jyk7XG4gICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gICAgICAgICAgcmVzZXQoKTtcbiAgICAgICAgfSBlbHNlIGlmIChsaWZlU2NvcmUgPD0gMCl7XG4gICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gICAgICAgICAgYWxlcnQoJ0dhbWUgT3Zlciwgc29ycnkgeW91IGxvc3QsIEJvb29vb29vIScpO1xuICAgICAgICAgIHJlc2V0KCk7XG4gICAgICAgIH0gZWxzZXtcbiAgICAgICAgICBwbGF5R2FtZSgpO1xuICAgICAgICB9XG4gICAgICB9LGRpZmZpY3VsdHkuaW50ZXJ2YWwpO1xuICAgIH1cbiAgfSk7XG5cbiAgICAgIC8vLyBUaGlzIGlzIHRoZSB2YWxpZGF0aW9uIHdoZW4gdGhlIGJ1dHRvbiBpcyBjbGlja2VkIHRvIHN1Ym1pdCBhbiBhbnN3ZXIsIHRoaXMgYWxzbyBob2xkcyB0aGUgYW5pbWF0aW9ucyBhcHBsaWVkIHRvIHRoZSBnYW1lLlxuICAkKCdmb3JtJykub24oJ3N1Ym1pdCcsIGZ1bmN0aW9uIChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICQoJy5hbmFncmFtJykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICBjb25zdCBjaGVja2VyID0gJCh0aGlzKS5kYXRhKCd3b3JkJyk7XG4gICAgICBpZiAoJCgnI2Fuc3dlcicpLnZhbCgpLnRvTG93ZXJDYXNlKCkgPT09IGNoZWNrZXIpe1xuICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdhbmltYXRlZCBmbGlwT3V0WScpLmNzcygnY29sb3InLCcjMzlGRjE0Jyk7XG4gICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnYW5pbWF0ZWQgamVsbG8nKS5jc3MoJ2NvbG9yJywnIzM5RkYxNCcpO1xuICAgICAgICAkd2luQ29uZGl0aW9uLmh0bWwoYENvcnJlY3QgQW5zd2VyczogJHt3aW5Db25kaXRpb24gPXdpbkNvbmRpdGlvbiArIDF9YCk7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICQodGhpcykucmVtb3ZlKCk7XG4gICAgICAgIH0sNzAwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICQoJy5hbmFncmFtJykuYWRkQ2xhc3MoJ2FuaW1hdGVkIGplbGxvJyk7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICQoJy5hbmFncmFtJykucmVtb3ZlQ2xhc3MoJ2plbGxvJyk7XG4gICAgICAgIH0sNTAwKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICAkKCdmb3JtJykudHJpZ2dlcigncmVzZXQnKTtcbiAgfSk7XG5cbiAgICAgIC8vLy8vIHRoaXMgY2hhbmdlcyB0aGUgaGVpZ2h0IHByb3BlcnR5IGJhc2VkIG9uIHRoZSByZXNpemluZyBvZiB0aGUgYnJvd3NlcnMgd2luZG93XG4gICQod2luZG93KS5vbigncmVzaXplJywgKCkgPT4ge1xuICAgIGhlaWdodCA9ICQoJy5nYW1lLWJveCcpLm91dGVySGVpZ2h0KHRydWUpO1xuICB9KTtcbiAgJCh3aW5kb3cpLm9uKCdyZXNpemUnLCAoKSA9PiB7XG4gICAgd2lkdGggPSAkKCcuZ2FtZS1ib3gnKS53aWR0aCgpO1xuICB9KTtcblxufSk7XG4iXX0=
