"use strict";$(function(){function e(){var e=[Math.floor(Math.random()*y.length)],a=y[e];return y.splice(e,1),a}function a(e){return e.split("").sort(function(){return.5-Math.random()}).join("")}function n(){var e=$('<p class="anagram"></p>'),a=Math.ceil(Math.random()*(s-250));return e.css({left:a}),e}function t(){$(".anagram").each(function(){var e=this;Math.round($(this).position().top)>=r-85&&($(this).hasClass("hinge")||(l-=1),d.html("Lives Left: "+l),$(this).css("color","red"),$(this).addClass("animated hinge"),setTimeout(function(){$(e).remove()},500))})}function o(){var o=e(),i=a(o),r=n();r.text(i),r.attr("data-word",o),v.append(r),setInterval(function(){r.css("top","+=10px"),t()},u.speed)}function i(){l=5,d.html("Lives: 5"),c=0,m.html("Correct Answers: 0"),$(".anagram").remove()}var r=$(".game-box").outerHeight(!0),s=$(".game-box").width(),l=5,c=0,u=null,d=$("#lives"),h=$("#play"),m=$("#winCondition"),g=$("#subject-options"),f=$("#difficulty-options"),v=$(".game-box"),p={BBT:["sheldon","leanord","spock","cheesecake factory","howard","star trek","penny","koothrapoli","bernadette","physics","laundry","halo night","dumplings","brisket","nasa","string theory","dark matter","comiccon","comic book"],LOTR:["arragorn","gimli","gandalf","legolas","mordor","uruk hai","frodo","golumn","orcs","the shire","baggins","sauron","gondor","elves","hobbit","dwarves","two towers","black gate","faramir","saruman","shadowfax","witch king"],FT:["arsenal","bournemouth","burnley","brighton","chelsea","crystal palace","everton","liverpool","newcastle","southampton","barcelona","juventus","ajax","bayern"],CC:["vienna","bridgetown","brasilia","brussels","sofia","hanoi","ottowa","bangui","washington","havana","prague","cairo","helsinki","budapest","jakarta","jerusalem","kingston","tokyo","nairobi","beijing","rabat","oslo","pyongyang","madrid"],WDI:["function","javascript","switch","refactor","namespacing","jquery","const","primitive","object","array","responsive","constructor","recursive","indentation","iterate","method","algorithim","terminal","github","debugging","loop","variable"],SW:["css"]},b={easy:{interval:1e4,speed:1500,winningCondition:5},medium:{interval:7e3,speed:1e3,winningCondition:7},hard:{interval:5e3,speed:700,winningCondition:10},insane:{interval:2500,speed:200,winningCondition:10}},w="",y="";g.on("change",function(){var e=g.val();y=p[e]}),f.on("change",function(){w=f.val(),u=b[w]}),h.click(function(){if(""===w||""===y)alert("A Subject and Difficulty needs to be selected to proceed, please choose both...");else{o();var e=setInterval(function(){c===u.winningCondition?(alert("You beat the game this time, can you manage harder difficutly...?"),clearInterval(e),i()):l<=0?(clearInterval(e),alert("Game Over, sorry you lost, Booooooo!"),i()):o()},u.interval)}}),$("form").on("submit",function(e){e.preventDefault(),$(".anagram").each(function(){var e=this,a=$(this).data("word");$("#answer").val().toLowerCase()===a?($(this).addClass("animated flipOutY").css("color","#39FF14"),$(this).removeClass("animated jello").css("color","#39FF14"),m.html("Correct Answers: "+(c+=1)),setTimeout(function(){$(e).remove()},700)):($(".anagram").addClass("animated jello"),setTimeout(function(){$(".anagram").removeClass("jello")},500))}),$("form").trigger("reset")}),$(window).on("resize",function(){r=$(".game-box").outerHeight(!0)}),$(window).on("resize",function(){s=$(".game-box").width()})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyIkIiwiZ2VuZXJhdGVXb3JkIiwiaW5kZXgiLCJmbG9vciIsIk1hdGgiLCJyYW5kb20iLCJzZWxlY3RlZFN1YmplY3QiLCJsZW5ndGgiLCJzZWxlY3RlZFdvcmQiLCJzcGxpY2UiLCJnZW5lcmF0ZUFuYWdyYW0iLCJzcGxpdCIsInNvcnQiLCJqb2luIiwiZ2VuZXJhdGVBbmFncmFtRWxlbWVudCIsIiRhbmFncmFtIiwibGVmdCIsImNlaWwiLCJ3aWR0aCIsImNzcyIsImFuYWdyYW1IaXRzVGhlQm90dG9tIiwiX3RoaXMiLCJ0aGlzIiwicm91bmQiLCJwb3NpdGlvbiIsInRvcCIsImhlaWdodCIsImhhc0NsYXNzIiwibGlmZVNjb3JlIiwiJGxpdmVzIiwiYWRkQ2xhc3MiLCJwbGF5R2FtZSIsInNjcmFtYmxlZFdvcmQiLCJzZWxlY3RlZEFuYWdyYW0iLCIkY29udGFpbmVyIiwiYXR0ciIsInNldEludGVydmFsIiwic3BlZWQiLCJkaWZmaWN1bHR5IiwiaHRtbCIsIndpbkNvbmRpdGlvbiIsInJlbW92ZSIsIm91dGVySGVpZ2h0IiwiJHBsYXlHYW1lIiwiJHdpbkNvbmRpdGlvbiIsIiRzdWJqZWN0T3B0aW9ucyIsIiRkaWZmaWN1bHR5T3B0aW9ucyIsIkJCVCIsIkxPVFIiLCJjYXRlZ29yaWVzIiwiRlQiLCJDQyIsInNldHRpbmdzIiwiZWFzeSIsImludGVydmFsIiwid2lubmluZ0NvbmRpdGlvbiIsIm1lZGl1bSIsImhhcmQiLCJpbnNhbmUiLCJzZWxlY3RlZERpZmZpY3VsdHkiLCJ2YWwiLCJ2YWx1ZSIsImNsaWNrIiwiYWxlcnQiLCJyZXNldCIsImNsZWFySW50ZXJ2YWwiLCJvbiIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImVhY2giLCJfdGhpczIiLCJkYXRhIiwidG9Mb3dlckNhc2UiLCJjaGVja2VyIiwicmVtb3ZlQ2xhc3MiLCJzZXRUaW1lb3V0Iiwid2luZG93Il0sIm1hcHBpbmdzIjoiWUFBQUEsR0FBRSxXQXNEQSxRQUFBQyxLQUVBLEdBQUFDLElBQVNELEtBQVRFLE1BQXdCQyxLQUFBQyxTQUN0QkMsRUFBQUMsU0FHRUMsRUFBQUYsRUFBQUosRUFHRkksT0FERUEsR0FBQUcsT0FBQVAsRUFBQSxHQUNGSSxFQUdBLFFBQUFJLEdBQUFGLEdBRUUsTUFBQUEsR0FBQUcsTUFBQSxJQUFBQyxLQUFBLFdBQ0YsTUFBT0osR0FBQUEsS0FBYUcsV0FDbEJFLEtBQU8sSUFHVCxRQUFBQyxLQUVBLEdBQUFDLEdBQUFmLEVBQUEsMkJBRUFnQixFQUFBWixLQUFBYSxLQUFBYixLQUFBQyxVQUFBYSxFQUFBLEtBR0FILE9BREFBLEdBQUFJLEtBQUFILEtBQUFBLElBQ0FELEVBR0EsUUFBQUssS0FDRnBCLEVBQUEsWUFBU29CLEtBQUFBLFdBQXdCLEdBQUFDLEdBQUFDLElBQ1psQixNQUFBbUIsTUFBQXZCLEVBQVlzQixNQUFBRSxXQUFBQyxNQUFBQyxFQUFBLEtBR3ZCMUIsRUFBRXNCLE1BQU1LLFNBQVMsV0FBVUMsR0FBYSxHQUY5Q0MsRUFBTUwsS0FBTixlQUE4QkksR0FDOUI1QixFQUFJd0IsTUFBQUEsSUFBQUEsUUFBWUUsT0FDZDFCLEVBQUFzQixNQUFNUSxTQUFNSCxrQkFDWkUsV0FBQSxXQUNFN0IsRUFBQUEsR0FBTW1CLFVBQ04sUUFPTixRQUFBWSxLQUlBLEdBQU12QixHQUFlUCxJQUZyQitCLEVBQUF0QixFQUFBRixHQUNGeUIsRUFBb0JuQixHQUNsQm1CLEdBQU16QixLQUFlUCxHQUNyQmdDLEVBQU1ELEtBQWdCdEIsWUFBQUEsR0FDdEJ3QixFQUFNRCxPQUFBQSxHQUNOQSxZQUFBQSxXQUNBQSxFQUFnQkUsSUFBSyxNQUFBLFVBQ3JCRCxLQUNBRSxFQUFZQyxPQUdYLFFBQUNDLEtBQ0hWLEVBQUEsRUFDQ0MsRUFBQVUsS0FBQSxZQUNGQyxFQUFrQixFQUNoQlosRUFBQVcsS0FBQSxzQkFDQVYsRUFBQUEsWUFBWVksU0FuSGQsR0FBSWYsR0FBUzFCLEVBQUUsYUFBYTBDLGFBQVksR0FEeEN4QixFQUFNbEIsRUFBQSxhQUFBa0IsUUFDRlEsRUFBVyxFQUNYUixFQUFVLEVBQ1ZVLEVBQUosS0FDSVksRUFBQUEsRUFBQUEsVUFDQUYsRUFBYXRDLEVBQUEsU0FDWDZCLEVBQVc3QixFQUFqQixpQkFDTTJDLEVBQWMzQyxFQUFwQixvQkFDTTRDLEVBQWtCNUMsRUFBQSx1QkFDbEI2QyxFQUFBQSxFQUFBQSxhQUNBQyxHQUNOQyxLQUFNYixVQUFhbEMsVUFBRSxRQUFyQixxQkFBQSxTQUFBLFlBQUEsUUFBQSxjQUFBLGFBQUEsVUFBQSxVQUFBLGFBQUEsWUFBQSxVQUFBLE9BQUEsZ0JBQUEsY0FBQSxXQUFBLGNBQ0FnRCxNQUFNQyxXQUFhLFFBQUEsVUFBQSxVQUFBLFNBQUEsV0FBQSxRQUFBLFNBQUEsT0FBQSxZQUFBLFVBQUEsU0FBQSxTQUFBLFFBQUEsU0FBQSxVQUFBLGFBQUEsYUFBQSxVQUFBLFVBQUEsWUFBQSxjQUNqQkYsSUFBSyxVQUFBLGNBQXFCLFVBQVEsV0FBQSxVQUFxQixpQkFBUyxVQUFZLFlBQVEsWUFBYyxjQUFhLFlBQVUsV0FBVSxPQUE5SCxVQUNMQyxJQUFBQSxTQUFPLGFBQUQsV0FBQSxXQUFBLFFBQXlDLFFBQVMsU0FBVyxTQUFRLGFBQVMsU0FBTyxTQUFZLFFBQWpHLFdBQXFILFdBQVMsVUFBUSxZQUFTLFdBQVUsUUFBekosVUFBc0ssVUFBYSxRQUFVLE9BQUEsWUFBVSxVQUM3TUUsS0FBSyxXQUFVLGFBQVgsU0FBeUIsV0FBVSxjQUFuQyxTQUF3RCxRQUF4RCxZQUFBLFNBQW1GLFFBQVksYUFBWSxjQUFjLFlBQVksY0FBVyxVQUFPLFNBSDFJLGFBQUEsV0FBQSxTQUFBLFlBQUEsT0FBQSxZQUlqQkMsSUFBSyxRQUVEQyxHQU5OQyxNQVFNRCxTQUFBQSxJQUNKQyxNQUFNLEtBQ0pDLGlCQURJLEdBR0pDLFFBSmFELFNBQUEsSUFNZkUsTUFBUSxJQUNORixpQkFETSxHQUdOQyxNQVRhRCxTQUFBLElBV2ZHLE1BQU0sSUFDSkgsaUJBREksSUFHSkMsUUFkYUQsU0FBQSxLQWdCZkksTUFBUSxJQUNOSixpQkFETSxLQWhCVkssRUFBQSxHQXNCQXJELEVBQUEsRUFDQXVDLEdBQUljLEdBQUFBLFNBQUosV0FDQSxHQUFJckQsR0FBQUEsRUFBSnNELEtBQ0FmLEdBQW1CSSxFQUFVWSxLQUUzQnZELEVBQUFBLEdBQWtCMkMsU0FBV1ksV0FGL0JGLEVBQUFiLEVBQUFjLE1BSUFkLEVBQUFBLEVBQXNCYSxLQXNFcEIzRCxFQUFFOEQsTUFBWXJCLFdBQ2YsR0FBQSxLQUFBa0IsR0FBQSxLQUFBckQsRUFDQ3lELE1BQUEsdUZBQ0ZwQixDQUNFWixHQUNFZ0MsSUFBTVQsR0FBQWxCLFlBQUEsV0FDREksSUFBQUYsRUFBQWlCLGtCQUNMeEIsTUFBQUEscUVBQ011QixjQUFXbEIsR0FDZjRCLEtBQ1FwQyxHQUFBLEdBQ05xQyxjQUFjWCxHQUNkVSxNQUFBQSx3Q0FIRkEsS0FNRUQsS0FFRHpCLEVBQUtnQixhQUlUdEQsRUFBQSxRQUFBa0UsR0FBQSxTQUFBLFNBQUFDLEdBbEJIQSxFQUFBQyxpQkFvQklwRSxFQUFBLFlBQUFxRSxLQUFBLFdBQUEsR0FBQUMsR0FBQWhELEtBQ000QyxFQUFHbEUsRUFBYnNCLE1BQXVCaUQsS0FBVUosT0FDN0JDLEdBQUFBLFdBQUZSLE1BQUFZLGdCQUFBQyxHQUNFekUsRUFBQXNCLE1BQUZRLFNBQW1CLHFCQUFZWCxJQUFBLFFBQUEsV0FBQW5CLEVBQUFzQixNQUFBb0QsWUFBQSxrQkFBQXZELElBQUEsUUFBQSxXQUszQnlCLEVBQWNMLEtBQWQscUJBQXVDQyxHQUE2QixJQUp0RW1DLFdBQU1GLFdBQ0Z6RSxFQUFBQSxHQUFFeUMsVUFDRixPQUVGRyxFQUFBQSxZQUFjTCxTQUFkLGtCQUNBb0MsV0FBVyxXQUNUM0UsRUFBQUEsWUFBUXlDLFlBQVIsVUFERixRQUtBa0MsRUFBQUEsUUFBQUEsUUFBVyxXQUdaM0UsRUFBQTRFLFFBQUFWLEdBQUEsU0FBQSxXQUNGeEMsRUFmRDFCLEVBQUEsYUFBQTBDLGFBQUEsS0FpQkQxQyxFQW5CRDRFLFFBQUFWLEdBQUEsU0FBQSxXQW9CSWhELEVBQUFsQixFQUFBLGFBQUFrQiIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIkKCgpID0+IHtcbiAgbGV0IGhlaWdodCA9ICQoJy5nYW1lLWJveCcpLm91dGVySGVpZ2h0KHRydWUpO1xuICBsZXQgd2lkdGggPSAkKCcuZ2FtZS1ib3gnKS53aWR0aCgpO1xuICBsZXQgbGlmZVNjb3JlID0gNTtcbiAgbGV0IHdpbkNvbmRpdGlvbiA9IDA7XG4gIGxldCBkaWZmaWN1bHR5ID0gbnVsbDtcbiAgY29uc3QgJGxpdmVzID0gJCgnI2xpdmVzJyk7XG4gIGNvbnN0ICRwbGF5R2FtZSA9ICQoJyNwbGF5Jyk7XG4gIGNvbnN0ICR3aW5Db25kaXRpb24gPSAkKCcjd2luQ29uZGl0aW9uJyk7XG4gIGNvbnN0ICRzdWJqZWN0T3B0aW9ucyA9ICQoJyNzdWJqZWN0LW9wdGlvbnMnKTtcbiAgY29uc3QgJGRpZmZpY3VsdHlPcHRpb25zID0gJCgnI2RpZmZpY3VsdHktb3B0aW9ucycpO1xuICBjb25zdCAkY29udGFpbmVyID0gJCgnLmdhbWUtYm94Jyk7XG4gIGNvbnN0IGNhdGVnb3JpZXMgPSB7XG4gICAgQkJUOiBbJ3NoZWxkb24nLCdsZWFub3JkJywnc3BvY2snLCdjaGVlc2VjYWtlIGZhY3RvcnknLCdob3dhcmQnLCdzdGFyIHRyZWsnLCdwZW5ueScsJ2tvb3RocmFwb2xpJywnYmVybmFkZXR0ZScsJ3BoeXNpY3MnLCdsYXVuZHJ5JywnaGFsbyBuaWdodCcsJ2R1bXBsaW5ncycsICdicmlza2V0JywnbmFzYScsJ3N0cmluZyB0aGVvcnknLCdkYXJrIG1hdHRlcicsICdjb21pY2NvbicsJ2NvbWljIGJvb2snXSxcbiAgICBMT1RSOiBbJ2FycmFnb3JuJywgJ2dpbWxpJywnZ2FuZGFsZicsJ2xlZ29sYXMnLCdtb3Jkb3InLCd1cnVrIGhhaScsJ2Zyb2RvJywnZ29sdW1uJywnb3JjcycsJ3RoZSBzaGlyZScsJ2JhZ2dpbnMnLCdzYXVyb24nLCAnZ29uZG9yJywnZWx2ZXMnLCdob2JiaXQnLCdkd2FydmVzJywndHdvIHRvd2VycycsJ2JsYWNrIGdhdGUnLCdmYXJhbWlyJywnc2FydW1hbicsJ3NoYWRvd2ZheCcsJ3dpdGNoIGtpbmcnXSxcbiAgICBGVDogWydhcnNlbmFsJywnYm91cm5lbW91dGgnLCdidXJubGV5JywnYnJpZ2h0b24nLCdjaGVsc2VhJywnY3J5c3RhbCBwYWxhY2UnLCdldmVydG9uJywnbGl2ZXJwb29sJywnbmV3Y2FzdGxlJywnc291dGhhbXB0b24nLCdiYXJjZWxvbmEnLCdqdXZlbnR1cycsJ2FqYXgnLCdiYXllcm4nXSxcbiAgICBDQzogWyd2aWVubmEnLCdicmlkZ2V0b3duJywnYnJhc2lsaWEnLCdicnVzc2VscycsJ3NvZmlhJywnaGFub2knLCdvdHRvd2EnLCdiYW5ndWknLCd3YXNoaW5ndG9uJywnaGF2YW5hJywncHJhZ3VlJywnY2Fpcm8nLCdoZWxzaW5raScsJ2J1ZGFwZXN0JywnamFrYXJ0YScsJ2plcnVzYWxlbScsJ2tpbmdzdG9uJywndG9reW8nLCduYWlyb2JpJywnYmVpamluZycsJ3JhYmF0Jywnb3NsbycsJ3B5b25neWFuZycsJ21hZHJpZCddLFxuICAgIFdESTogWydmdW5jdGlvbicsJ2phdmFzY3JpcHQnLCdzd2l0Y2gnLCdyZWZhY3RvcicsJ25hbWVzcGFjaW5nJywnanF1ZXJ5JywnY29uc3QnLCdwcmltaXRpdmUnLCdvYmplY3QnLCdhcnJheScsJ3Jlc3BvbnNpdmUnLCdjb25zdHJ1Y3RvcicsJ3JlY3Vyc2l2ZScsJ2luZGVudGF0aW9uJywnaXRlcmF0ZScsJ21ldGhvZCcsJ2FsZ29yaXRoaW0nLCd0ZXJtaW5hbCcsJ2dpdGh1YicsJ2RlYnVnZ2luZycsJ2xvb3AnLCd2YXJpYWJsZSddLFxuICAgIFNXOiBbJ2NzcyddXG4gIH07XG4gIGNvbnN0IHNldHRpbmdzID0ge1xuICAgIGVhc3k6IHtcbiAgICAgIGludGVydmFsOiAxMDAwMCxcbiAgICAgIHNwZWVkOiAxNTAwLFxuICAgICAgd2lubmluZ0NvbmRpdGlvbjogNVxuICAgIH0sXG4gICAgbWVkaXVtOiB7XG4gICAgICBpbnRlcnZhbDogNzAwMCxcbiAgICAgIHNwZWVkOiAxMDAwLFxuICAgICAgd2lubmluZ0NvbmRpdGlvbjogN1xuICAgIH0sXG4gICAgaGFyZDoge1xuICAgICAgaW50ZXJ2YWw6IDUwMDAsXG4gICAgICBzcGVlZDogNzAwLFxuICAgICAgd2lubmluZ0NvbmRpdGlvbjogMTBcbiAgICB9LFxuICAgIGluc2FuZToge1xuICAgICAgaW50ZXJ2YWw6IDI1MDAsXG4gICAgICBzcGVlZDogMjAwLFxuICAgICAgd2lubmluZ0NvbmRpdGlvbjogMTBcbiAgICB9XG4gIH07XG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vU2VsZWN0b3JzLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIGxldCBzZWxlY3RlZERpZmZpY3VsdHkgPSAnJztcbiAgbGV0IHNlbGVjdGVkU3ViamVjdCA9ICcnO1xuICAkc3ViamVjdE9wdGlvbnMub24oJ2NoYW5nZScsICgpID0+IHtcbiAgICBjb25zdCB2YWx1ZSA9ICRzdWJqZWN0T3B0aW9ucy52YWwoKTtcbiAgICBzZWxlY3RlZFN1YmplY3QgPSBjYXRlZ29yaWVzW3ZhbHVlXTtcbiAgfSk7XG4gICRkaWZmaWN1bHR5T3B0aW9ucy5vbignY2hhbmdlJywgKCkgPT4ge1xuICAgIHNlbGVjdGVkRGlmZmljdWx0eSA9ICRkaWZmaWN1bHR5T3B0aW9ucy52YWwoKTtcbiAgICBkaWZmaWN1bHR5ID0gc2V0dGluZ3Nbc2VsZWN0ZWREaWZmaWN1bHR5XTtcbiAgfSk7XG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vU2VsZWN0b3JzIEVuZC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAvLy8vLy8vLy8vLy8vLy8vLy8vRnVuY3Rpb25zIHRoYXQgY2hhbmdlIHRoZSB3b3JkLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAvLy8gVGhpcyBzZWxlY3RzIGEgcmFuZG9tIHdvcmQgZnJvbSB0aGUgc2VsZWN0ZWQgYXJyYXlcbiAgZnVuY3Rpb24gZ2VuZXJhdGVXb3JkKCkge1xuICAgIC8vL1RoaXMgZ2VuZXJhdGVzIGEgcmFuZG9tIG51bWJlciB3aXRoaW4gdGhlIGxlbmd0aCBvZiB0aGUgYXJyYXksIG9mIHRoZSBzdWJqZWN0IHNlbGVjdGVkIGJ5IHRoZSB1c2VyIChzZWxlY3RlZFN1YmplY3QpYW5kIHN0b3JlcyBpdHMgaW5kZXggaW4gYSB2YXJpYWJsZVxuICAgIGNvbnN0IGluZGV4ID0gW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqXG4gICAgICBzZWxlY3RlZFN1YmplY3QubGVuZ3RoKV07XG4gICAgICAvLy8gVGhpcyB0YWtlcyB0aGUgc2VsZWN0ZWRTdWJqZWN0IGFuZCBpbiB0aGUgc3F1YXJlIGJyYWNrZXRzIHBhc3NlcyBpbiB0aGUgaW5kZXggdmFyaWFibGUgc28gdGhhdCB0aGUgbnVtYmVyIGdlbmVyZWF0ZWQgcmFuZG9tbHkgZnJvbSB0aGUgbGVuZ3RoIG9mIHRoZSBhcnJheSBub3cgc2VsZWN0cyB0aGF0IHdvcmQgYW5kIHN0b3JlcyBpdCBpbiBzZWxlY3RlZFdvcmRcbiAgICBjb25zdCBzZWxlY3RlZFdvcmQgPSBzZWxlY3RlZFN1YmplY3RbaW5kZXhdO1xuICAgICAgLy8vIFRoaXMgdGFrZXMgdGhlIHNlbGVjdGVkU3ViamVjdCBhbmQgdXNpbmcgc3BsaWNlIGdldHMgcmlkIG9mIHRoZSB3b3JkIHRoYXQgd2FzIGp1c3QgcHJldmlvdXNseSBzdG9yZWQgaW4gdGhlIHNlbGVjdGVkV29yZCBvZmYgdGhlIGFycmF5IGJ5IHVzaW5nIGl0cyBpbmRleFxuICAgIHNlbGVjdGVkU3ViamVjdC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIHJldHVybiBzZWxlY3RlZFdvcmQ7XG4gIH1cbiAgICAvLy8gVGhpcyB0YWtlcyB0aGUgcmFuZG9tbHkgc2VsZWN0ZWQgd29yZCBhbmQgc2h1ZmZsZXMgaXQgaW50byBhbiBhbmFncmFtXG4gIGZ1bmN0aW9uIGdlbmVyYXRlQW5hZ3JhbShzZWxlY3RlZFdvcmQpIHtcbiAgICAgIC8vLyBUaGlzIGlzIHNwbGl0dGluZyB0aGUgc2VsZWN0ZWRXb3JkIChhIHN0cmluZykgYXBhcnQgdGhlbiBzb3J0aW5nIGl0IGFcbiAgICByZXR1cm4gc2VsZWN0ZWRXb3JkLnNwbGl0KCcnKS5zb3J0KGZ1bmN0aW9uKCl7XG4gICAgICByZXR1cm4gMC41IC0gTWF0aC5yYW5kb20oKTtcbiAgICB9ICkuam9pbignJyk7XG4gIH1cbiAgICAvLy8vLy9UaGlzIGdlbmVyYXRlcyBhIGRpZmZlcmVudCBlbGVtZW50IGluIGEgZGlmZmVybnQgcG9zaXRpb24gZnJvbSB0aGUgSFRNTFxuICBmdW5jdGlvbiBnZW5lcmF0ZUFuYWdyYW1FbGVtZW50ICgpIHtcbiAgICAvLy9jcmVhdGVzIGEgcCB0YWcgd2l0aCB0aGUgY2xhc3Mgb2YgYW5hZ3JhbSAtIHN0b3JlcyBpdCBpbiBhIHZhcmlhYmxlXG4gICAgY29uc3QgJGFuYWdyYW0gPSAkKCc8cCBjbGFzcz1cImFuYWdyYW1cIj48L3A+Jyk7XG4gICAgLy8gdGhpcyBnZW5lcmF0ZXMgYSByYW5kb20gbnVtYmVyIGJldHdlZW4gdGhlIHdpZHRoIG9mIHRoZSBvZiB0aGUgZ2FtZSBib3gsIDI1MCBpcyB0YWtlbiBhd2F5IHNvIGxvbmdlciB3b3JkcyBkbyBub3Qgb3ZlcmZsb3cgaW4gdGhlIGJveCBhbmQgc3RvcmVzIGl0IGluIGEgdmFyaWJhbGVcbiAgICBjb25zdCBsZWZ0ID0gTWF0aC5jZWlsKChNYXRoLnJhbmRvbSgpICogKHdpZHRoIC0gMjUwKSkpO1xuICAgIC8vLyB0aGlzIHNldHMgdGhlIHBvc2l0aW9uIG9mIHAtdGFnIHVzaW5nIHRoZSByYW5kb21seSBnZW5yZWF0ZWQgbnVtYmVyIGFzIGEgcHNvaXRpb25cbiAgICAkYW5hZ3JhbS5jc3Moe2xlZnQ6IGxlZnR9KTtcbiAgICByZXR1cm4gJGFuYWdyYW07XG4gIH1cbiAgICAvLy8vLy8gVGhpcyBpcyBmb3Igd2hlbiB0aGUgd29yZCBoaXRzIHRoZSBib3R0b20gYW5kICdmYWxscyBvZmYnXG4gIGZ1bmN0aW9uIGFuYWdyYW1IaXRzVGhlQm90dG9tICgpIHtcbiAgICAkKCcuYW5hZ3JhbScpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgY29uc3QgcG9zaXRpb24gPSBNYXRoLnJvdW5kKCQodGhpcykucG9zaXRpb24oKS50b3ApO1xuICAgICAgaWYgKHBvc2l0aW9uID49IGhlaWdodCAtIDg1KSB7XG4gICAgICAgIGlmKCEkKHRoaXMpLmhhc0NsYXNzKCdoaW5nZScpKSBsaWZlU2NvcmUgLT0gMTtcbiAgICAgICAgJGxpdmVzLmh0bWwoYExpdmVzIExlZnQ6ICR7bGlmZVNjb3JlfWApO1xuICAgICAgICAkKHRoaXMpLmNzcygnY29sb3InLCdyZWQnKTtcbiAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnYW5pbWF0ZWQgaGluZ2UnKTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgJCh0aGlzKS5yZW1vdmUoKTtcbiAgICAgICAgfSw1MDApO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gICAgLy8vLy8vLy8vLy8vLy8vLy8vL0Z1bmN0aW9ucyB0aGF0IGNoYW5nZSB0aGUgd29yZC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgIC8vLy8vLy8vLy8vLy8vLy8vL01haW4gZnVjbnRpb24gdG8gcGxheSBnYW1lIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgZnVuY3Rpb24gcGxheUdhbWUgKCl7XG4gICAgY29uc3Qgc2VsZWN0ZWRXb3JkID0gZ2VuZXJhdGVXb3JkKCk7XG4gICAgY29uc3Qgc2NyYW1ibGVkV29yZCA9IGdlbmVyYXRlQW5hZ3JhbShzZWxlY3RlZFdvcmQpO1xuICAgIGNvbnN0IHNlbGVjdGVkQW5hZ3JhbSA9IGdlbmVyYXRlQW5hZ3JhbUVsZW1lbnQoKTtcbiAgICBzZWxlY3RlZEFuYWdyYW0udGV4dChzY3JhbWJsZWRXb3JkKTtcbiAgICBzZWxlY3RlZEFuYWdyYW0uYXR0cignZGF0YS13b3JkJywgc2VsZWN0ZWRXb3JkKTtcbiAgICAkY29udGFpbmVyLmFwcGVuZChzZWxlY3RlZEFuYWdyYW0pO1xuICAgIHNldEludGVydmFsKGZ1bmN0aW9uKCkge1xuICAgICAgc2VsZWN0ZWRBbmFncmFtLmNzcygndG9wJywgJys9MTBweCcpO1xuICAgICAgYW5hZ3JhbUhpdHNUaGVCb3R0b20oKTtcbiAgICB9LGRpZmZpY3VsdHkuc3BlZWQpO1xuICB9XG4gICAgLy8vLy8vL1RoaXMgaXMgdGhlIHJlc2V0IGZ1bmN0aW9uIGFmdGVyIGEgZ2FtZSBoYXMgZmluaXNoZWQvLy8vLy8vLy8vLy8vLy8vXG4gIGZ1bmN0aW9uIHJlc2V0ICgpIHtcbiAgICBsaWZlU2NvcmUgPSA1O1xuICAgICRsaXZlcy5odG1sKCdMaXZlczogNScpO1xuICAgIHdpbkNvbmRpdGlvbiA9IDA7XG4gICAgJHdpbkNvbmRpdGlvbi5odG1sKCdDb3JyZWN0IEFuc3dlcnM6IDAnKTtcbiAgICAkKCcuYW5hZ3JhbScpLnJlbW92ZSgpO1xuICB9XG4gICAgLy8vIFRoaXMgaXMgZm9yIHdoZW4gdGhlIHBsYXllciBpcyByZWFkeSB0byBwbGF5LCBhZnRlciB0aGUgZGlmZmljdWx0eSBpcyBzZWxlY3RlZCBhbmQgdGhlIHBsYXkgYnV0dG9uIGlzIGNsaWNrZWQgLSBzbyB0aGlzIHN0YXJ0cyB0aGUgZ2FtZSFcbiAgJHBsYXlHYW1lLmNsaWNrKCBmdW5jdGlvbigpe1xuICAgIGlmIChzZWxlY3RlZERpZmZpY3VsdHkgPT09ICcnIHx8IHNlbGVjdGVkU3ViamVjdCA9PT0gJycpIHtcbiAgICAgIGFsZXJ0KCdBIFN1YmplY3QgYW5kIERpZmZpY3VsdHkgbmVlZHMgdG8gYmUgc2VsZWN0ZWQgdG8gcHJvY2VlZCwgcGxlYXNlIGNob29zZSBib3RoLi4uJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBsYXlHYW1lKCk7XG4gICAgICBjb25zdCBpbnRlcnZhbCA9IHNldEludGVydmFsKGZ1bmN0aW9uKCl7XG4gICAgICAgIGlmICh3aW5Db25kaXRpb24gPT09IGRpZmZpY3VsdHkud2lubmluZ0NvbmRpdGlvbikge1xuICAgICAgICAgIGFsZXJ0KCdZb3UgYmVhdCB0aGUgZ2FtZSB0aGlzIHRpbWUsIGNhbiB5b3UgbWFuYWdlIGhhcmRlciBkaWZmaWN1dGx5Li4uPycpO1xuICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xuICAgICAgICAgIHJlc2V0KCk7XG4gICAgICAgIH0gZWxzZSBpZiAobGlmZVNjb3JlIDw9IDApe1xuICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xuICAgICAgICAgIGFsZXJ0KCdHYW1lIE92ZXIsIHNvcnJ5IHlvdSBsb3N0LCBCb29vb29vbyEnKTtcbiAgICAgICAgICByZXNldCgpO1xuICAgICAgICB9IGVsc2V7XG4gICAgICAgICAgcGxheUdhbWUoKTtcbiAgICAgICAgfVxuICAgICAgfSxkaWZmaWN1bHR5LmludGVydmFsKTtcbiAgICB9XG4gIH0pO1xuICAgICAgLy8vIFRoaXMgaXMgdGhlIHZhbGlkYXRpb24gd2hlbiB0aGUgYnV0dG9uIGlzIGNsaWNrZWQgdG8gc3VibWl0IGFuIGFuc3dlciwgdGhpcyBhbHNvIGhvbGRzIHRoZSBhbmltYXRpb25zIGFwcGxpZWQgdG8gdGhlIGdhbWUuXG4gICQoJ2Zvcm0nKS5vbignc3VibWl0JywgZnVuY3Rpb24gKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgJCgnLmFuYWdyYW0nKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIGNvbnN0IGNoZWNrZXIgPSAkKHRoaXMpLmRhdGEoJ3dvcmQnKTtcbiAgICAgIGlmICgkKCcjYW5zd2VyJykudmFsKCkudG9Mb3dlckNhc2UoKSA9PT0gY2hlY2tlcil7XG4gICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2FuaW1hdGVkIGZsaXBPdXRZJykuY3NzKCdjb2xvcicsJyMzOUZGMTQnKTtcbiAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnYW5pbWF0ZWQgamVsbG8nKS5jc3MoJ2NvbG9yJywnIzM5RkYxNCcpO1xuICAgICAgICAkd2luQ29uZGl0aW9uLmh0bWwoYENvcnJlY3QgQW5zd2VyczogJHt3aW5Db25kaXRpb24gPXdpbkNvbmRpdGlvbiArIDF9YCk7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICQodGhpcykucmVtb3ZlKCk7XG4gICAgICAgIH0sNzAwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICQoJy5hbmFncmFtJykuYWRkQ2xhc3MoJ2FuaW1hdGVkIGplbGxvJyk7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICQoJy5hbmFncmFtJykucmVtb3ZlQ2xhc3MoJ2plbGxvJyk7XG4gICAgICAgIH0sNTAwKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICAkKCdmb3JtJykudHJpZ2dlcigncmVzZXQnKTtcbiAgfSk7XG4gICAgICAvLy8vLyB0aGlzIGNoYW5nZXMgdGhlIGhlaWdodCBwcm9wZXJ0eSBiYXNlZCBvbiB0aGUgcmVzaXppbmcgb2YgdGhlIGJyb3dzZXJzIHdpbmRvd1xuICAkKHdpbmRvdykub24oJ3Jlc2l6ZScsICgpID0+IHtcbiAgICBoZWlnaHQgPSAkKCcuZ2FtZS1ib3gnKS5vdXRlckhlaWdodCh0cnVlKTtcbiAgfSk7XG4gICQod2luZG93KS5vbigncmVzaXplJywgKCkgPT4ge1xuICAgIHdpZHRoID0gJCgnLmdhbWUtYm94Jykud2lkdGgoKTtcbiAgfSk7XG59KTtcbiJdfQ==
