"use strict";console.log("JS Loaded"),$(function(){function e(){var e=[Math.floor(Math.random()*I.length)],a=I[e];return I.splice(e,1),a}function a(e){return e.split("").sort(function(){return.5-Math.random()}).join("")}function t(){var e=$('<p class="anagram"></p>'),a=Math.ceil(650*Math.random());return e.css({left:a}),e}function o(){$(".anagram").each(function(){var e=this;Math.round($(this).position().top)>=465&&(console.log(c),$(this).hasClass("hinge")||(c-=1),d.html("Lives Left: "+c),$(this).css("color","red"),$(this).addClass("animated hinge"),setTimeout(function(){$(e).remove()},500))})}function n(){var n=e(),r=a(n),s=t();s.text(r),s.attr("data-word",n),b.append(s),h=setInterval(function(){s.css("top","+=10px"),o()},1500)}function r(){var n=e(),r=a(n),s=t();s.text(r),s.attr("data-word",n),b.append(s),h=setInterval(function(){s.css("top","+=10px"),o()},1e3)}function s(){var n=e(),r=a(n),s=t();s.text(r),s.attr("data-word",n),b.append(s),h=setInterval(function(){s.css("top","+=10px"),o()},700)}function i(){var n=e(),r=a(n),s=t();s.text(r),s.attr("data-word",n),b.append(s),h=setInterval(function(){s.css("top","+=10px"),o()},200)}function l(){c=5,d.html("Lives: 5"),u=0,f.html("Correct Answers: 0"),$(".anagram").remove()}var c=5,u=0,h=void 0,m=null,d=$("#lives"),v=$("#play"),f=$("#winCondition"),g=$("#subject-options"),p=$("#difficulty-options"),b=$(".ag-tetris"),y=($("#instructions"),{BBT:["sheldon","leanord","spock","cheesecake factory","howard","startrek","penny","koothrapoli","bernadette","physics","laundry","halonight","dumplings","brisket","nasa","stringtheory","darkmatter","comiccon","comicbook"],LOTR:["arragon","gimli","gandalf","legolas","mordor","uruk hai","frodo","golumn","orcs","theshire","baggins","sauron","gondor","elves","hobbit","dwarves","twotowers","blackgate","fariamir","saruman","shadowfax","witchking"],EPL:["arsenal","bournemouth","burnley","brighton","chelsea","crystal palace","everton","leicstercity","liverpool","manchestercity","manchesterunited","newcastle","southampton","stoke city","tottenhamhotspur","watford","westbrom","westham"],CC:["buenosaires","vienna","bridgetown","brasilia","brussels","sofia","phnom peh","ottowa","bangui","san jose","havana","prauge","cairo","helsinki","budapest","jakarta","jerusalem","kingston","tokyo","nairobi","kuala lumpur","rabat","oslo","pyongynag"],WDI:["function","javascript","switch","refactor","namespacing","jquery","const","primitive","object","array","responsive","constructor","reccursive","indentation","iterate","method","algorithim","terminal","github","debugging","whileloop","variable"]}),w={easy:{interval:1e4,speed:1e3,winCondition:5}},k="",I="";g.on("change",function(){var e=g.val();I=y[e]}),p.on("change",function(){k=p.val(),m=w[k],console.log(m)}),v.on("click",function(){switch(k){case"easy":n();var e=setInterval(function(){u>=5?(alert("You beat the game this time, can you manage a medium difficutly...?"),clearInterval(e),l()):c<=0?(clearInterval(e),alert("Game Over, sorry you lost, Booooooo!"),l()):n()},1e4);break;case"medium":r();var a=setInterval(function(){u>=7?(alert("You beat the game this time, can you manage a hard difficutly...?"),clearInterval(a),l()):c<=0?(clearInterval(a),alert("Game Over, sorry you lost, Booooooo!"),l()):r()},7e3);break;case"hard":s();var t=setInterval(function(){u>=10?(alert("You beat the game this time, well thats it, unless you really are insane..."),clearInterval(t),l()):c<=0?(clearInterval(t),alert("Game Over, sorry you lost, Booooooo!"),l()):s()},5e3);break;case"insane":i();var o=setInterval(function(){u>=10?(alert("You beat the game, like you beat it, beat it erm yeah, grats I guess"),clearInterval(o),l()):c<=0?(clearInterval(o),alert("Game Over, sorry you lost, Booooooo!"),l()):(console.log("Function called!"),i())},2500);break;default:alert("Please select a difficulty...")}}),$("form").on("submit",function(e){e.preventDefault(),console.log("in here"),$(".anagram").each(function(e){var a=this;console.log(e,this);var t=$(this).data("word");$("#answer").val()===t?($(this).addClass("animated fadeOutLeft").css("color","#39FF14"),f.html("Correct Answers: "+(u+=1)),setTimeout(function(){$(a).remove()},500)):($(".anagram").addClass("animated wobble"),setTimeout(function(){$(".anagram").removeClass("wobble")},500))}),$("form").trigger("reset")})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJjb25zb2xlIiwibG9nIiwiJCIsImdlbmVyYXRlV29yZCIsImluZGV4IiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwic2VsZWN0ZWRTdWJqZWN0IiwibGVuZ3RoIiwic2VsZWN0ZWRXb3JkIiwiZ2VuZXJhdGVBbmFncmFtIiwic3BsaXQiLCJzb3J0Iiwiam9pbiIsImdlbmVyYXRlQW5hZ3JhbUVsZW1lbnQiLCIkYW5hZ3JhbSIsImxlZnQiLCJlYWNoIiwiX3RoaXMiLCJ0aGlzIiwiYW5hZ3JhbUhpdHNUaGVCb3R0b20iLCJwb3NpdGlvbiIsInRvcCIsImxpZmVTY29yZSIsImhhc0NsYXNzIiwiJGxpdmVzIiwic2V0VGltZW91dCIsImh0bWwiLCJkaWZmaWN1bHR5RWFzeSIsInNjcmFtYmxlZFdvcmQiLCJzZWxlY3RlZEFuYWdyYW0iLCIkY29udGFpbmVyIiwiaW50ZXJ2YWwiLCJhcHBlbmQiLCJhdHRyIiwicmVzZXQiLCJ3aW5Db25kaXRpb24iLCJyZW1vdmUiLCJkaWZmaWN1bHR5IiwiJHBsYXlHYW1lIiwiJHdpbkNvbmRpdGlvbiIsIiRzdWJqZWN0T3B0aW9ucyIsIiRkaWZmaWN1bHR5T3B0aW9ucyIsIkJCVCIsIiRpbnN0cnVjdGlvbnMiLCJMT1RSIiwiRVBMIiwiQ0MiLCJXREkiLCJlYXN5Iiwib3B0aW9ucyIsInNlbGVjdGVkRGlmZmljdWx0eSIsInZhbCIsImNhdGVnb3JpZXMiLCJ2YWx1ZSIsIm9uIiwiY2xlYXJJbnRlcnZhbCIsInNldEludGVydmFsIiwiYWxlcnQiLCJkaWZmaWN1bHR5TWVkaXVtIiwiaW50ZXJ2YWxNIiwiZGlmZmljdWx0eUhhcmQiLCJpbnRlcnZhbEgiLCJkaWZmaWN1bHR5SW5zYW5lIiwiaW50ZXJ2YWxJIiwiZSIsInByZXZlbnREZWZhdWx0IiwiYW5hZ3JhbSIsIl90aGlzMiIsImNoZWNrZXIiLCJkYXRhIiwiYWRkQ2xhc3MiLCJjc3MiLCJyZW1vdmVDbGFzcyIsInRyaWdnZXIiXSwibWFw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b2xlLmxvZygnSlMgTG9hZGVkJyk7XG4kKCgpID0+IHtcbiAgbGV0IGxpZmVTY29yZSA9IDU7XG4gIGxldCB3aW5Db25kaXRpb24gPSAwO1xuICBsZXQgaW50ZXJ2YWw7XG4gIGxldCBkaWZmaWN1bHR5ID0gbnVsbDtcbiAgY29uc3QgJGxpdmVzID0gJCgnI2xpdmVzJyk7XG4gIGNvbnN0ICRwbGF5R2FtZSA9ICQoJyNwbGF5Jyk7XG4gIGNvbnN0ICR3aW5Db25kaXRpb24gPSAkKCcjd2luQ29uZGl0aW9uJyk7XG4gIGNvbnN0ICRzdWJqZWN0T3B0aW9ucyA9ICQoJyNzdWJqZWN0LW9wdGlvbnMnKTtcbiAgY29uc3QgJGRpZmZpY3VsdHlPcHRpb25zID0gJCgnI2RpZmZpY3VsdHktb3B0aW9ucycpO1xuICBjb25zdCAkY29udGFpbmVyID0gJCgnLmFnLXRldHJpcycpO1xuICBjb25zdCAkaW5zdHJ1Y3Rpb25zID0gJCgnI2luc3RydWN0aW9ucycpO1xuICBjb25zdCBjYXRlZ29yaWVzID0ge1xuICAgIEJCVDogWydzaGVsZG9uJywnbGVhbm9yZCcsJ3Nwb2NrJywnY2hlZXNlY2FrZSBmYWN0b3J5JywnaG93YXJkJywnc3RhcnRyZWsnLCdwZW5ueScsJ2tvb3RocmFwb2xpJywnYmVybmFkZXR0ZScsJ3BoeXNpY3MnLCdsYXVuZHJ5JywnaGFsb25pZ2h0JywnZHVtcGxpbmdzJywgJ2JyaXNrZXQnLCduYXNhJywnc3RyaW5ndGhlb3J5JywnZGFya21hdHRlcicsICdjb21pY2NvbicsJ2NvbWljYm9vayddLFxuXG4gICAgTE9UUjogWydhcnJhZ29uJywgJ2dpbWxpJywnZ2FuZGFsZicsJ2xlZ29sYXMnLCdtb3Jkb3InLCd1cnVrIGhhaScsJ2Zyb2RvJywnZ29sdW1uJywnb3JjcycsJ3RoZXNoaXJlJywnYmFnZ2lucycsJ3NhdXJvbicsICdnb25kb3InLCdlbHZlcycsJ2hvYmJpdCcsJ2R3YXJ2ZXMnLCd0d290b3dlcnMnLCdibGFja2dhdGUnLCdmYXJpYW1pcicsJ3NhcnVtYW4nLCdzaGFkb3dmYXgnLCd3aXRjaGtpbmcnXSxcblxuICAgIEVQTDogWydhcnNlbmFsJywnYm91cm5lbW91dGgnLCdidXJubGV5JywnYnJpZ2h0b24nLCdjaGVsc2VhJywnY3J5c3RhbCBwYWxhY2UnLCdldmVydG9uJywnbGVpY3N0ZXJjaXR5JywnbGl2ZXJwb29sJywnbWFuY2hlc3RlcmNpdHknLCdtYW5jaGVzdGVydW5pdGVkJywnbmV3Y2FzdGxlJywnc291dGhhbXB0b24nLCdzdG9rZSBjaXR5JywndG90dGVuaGFtaG90c3B1cicsJ3dhdGZvcmQnLCd3ZXN0YnJvbScsJ3dlc3RoYW0nXSxcblxuICAgIENDOiBbJ2J1ZW5vc2FpcmVzJywndmllbm5hJywnYnJpZGdldG93bicsJ2JyYXNpbGlhJywnYnJ1c3NlbHMnLCdzb2ZpYScsJ3Bobm9tIHBlaCcsJ290dG93YScsJ2Jhbmd1aScsJ3NhbiBqb3NlJywnaGF2YW5hJywncHJhdWdlJywnY2Fpcm8nLCdoZWxzaW5raScsJ2J1ZGFwZXN0JywnamFrYXJ0YScsJ2plcnVzYWxlbScsJ2tpbmdzdG9uJywndG9reW8nLCduYWlyb2JpJywna3VhbGEgbHVtcHVyJywncmFiYXQnLCdvc2xvJywncHlvbmd5bmFnJ10sXG5cbiAgICBXREk6IFsnZnVuY3Rpb24nLCdqYXZhc2NyaXB0Jywnc3dpdGNoJywncmVmYWN0b3InLCduYW1lc3BhY2luZycsJ2pxdWVyeScsJ2NvbnN0JywncHJpbWl0aXZlJywnb2JqZWN0JywnYXJyYXknLCdyZXNwb25zaXZlJywnY29uc3RydWN0b3InLCdyZWNjdXJzaXZlJywnaW5kZW50YXRpb24nLCdpdGVyYXRlJywnbWV0aG9kJywnYWxnb3JpdGhpbScsJ3Rlcm1pbmFsJywnZ2l0aHViJywnZGVidWdnaW5nJywnd2hpbGVsb29wJywndmFyaWFibGUnXVxuICB9O1xuICBjb25zdCBvcHRpb25zID0ge1xuICAgIGVhc3k6IHtcbiAgICAgIGludGVydmFsOiAxMDAwMCxcbiAgICAgIHNwZWVkOiAxMDAwLFxuICAgICAgd2luQ29uZGl0aW9uOiA1XG4gICAgfVxuICB9O1xuXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vU2VsZWN0b3JzLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIGxldCBzZWxlY3RlZERpZmZpY3VsdHkgPSAnJztcbiAgbGV0IHNlbGVjdGVkU3ViamVjdCA9ICcnO1xuICAkc3ViamVjdE9wdGlvbnMub24oJ2NoYW5nZScsICgpID0+IHtcbiAgICBjb25zdCB2YWx1ZSA9ICRzdWJqZWN0T3B0aW9ucy52YWwoKTtcbiAgICBzZWxlY3RlZFN1YmplY3QgPSBjYXRlZ29yaWVzW3ZhbHVlXTtcbiAgfSk7XG4gICRkaWZmaWN1bHR5T3B0aW9ucy5vbignY2hhbmdlJywgKCkgPT4ge1xuICAgIHNlbGVjdGVkRGlmZmljdWx0eSA9ICRkaWZmaWN1bHR5T3B0aW9ucy52YWwoKTtcbiAgICBkaWZmaWN1bHR5ID0gb3B0aW9uc1tzZWxlY3RlZERpZmZpY3VsdHldO1xuICAgIGNvbnNvbGUubG9nKGRpZmZpY3VsdHkpO1xuICB9KTtcbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy9TZWxlY3RvcnMgRW5kLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vL0Z1bmN0aW9ucyB0aGF0IGNoYW5nZSB0aGUgd29yZC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAvLy8gVGhpcyBzZWxlY3RzIGEgcmFuZG9tIHdvcmQgZnJvbSB0aGUgc2VsZWN0ZWQgYXJyYXlcbiAgZnVuY3Rpb24gZ2VuZXJhdGVXb3JkKCkge1xuICAgIGNvbnN0IGluZGV4ID0gW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHNlbGVjdGVkU3ViamVjdC5sZW5ndGgpXTtcbiAgICBjb25zdCBzZWxlY3RlZFdvcmQgPSBzZWxlY3RlZFN1YmplY3RbaW5kZXhdO1xuICAgIHNlbGVjdGVkU3ViamVjdC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIHJldHVybiBzZWxlY3RlZFdvcmQ7XG4gIH1cbiAgLy8vIFRoaXMgdGFrZXMgdGhlIHJhbmRvbWx5IHNlbGVjdGVkIHdvcmQgYW5kIHNodWZmbGVzIGl0IGludG8gYW4gYW5hZ3JhbVxuICBmdW5jdGlvbiBnZW5lcmF0ZUFuYWdyYW0oc2VsZWN0ZWRXb3JkKSB7XG4gICAgcmV0dXJuIHNlbGVjdGVkV29yZC5zcGxpdCgnJykuc29ydChmdW5jdGlvbigpe1xuICAgICAgcmV0dXJuIDAuNSAtIE1hdGgucmFuZG9tKCk7XG4gICAgfSApLmpvaW4oJycpO1xuICB9XG4gIC8vLyBUaGlzIGdlbmVyYXRlcyBhIGRpZmZlcmVudCBlbGVtZW50IGluIGEgZGlmZmVybnQgcG9zaXRpb24gZnJvbSB0aGUgSFRNTFxuICBmdW5jdGlvbiBnZW5lcmF0ZUFuYWdyYW1FbGVtZW50ICgpIHtcbiAgICBjb25zdCAkYW5hZ3JhbSA9ICQoJzxwIGNsYXNzPVwiYW5hZ3JhbVwiPjwvcD4nKTtcbiAgICBjb25zdCBsZWZ0ID0gTWF0aC5jZWlsKChNYXRoLnJhbmRvbSgpICogNjUwKSk7XG4gICAgJGFuYWdyYW0uY3NzKHtsZWZ0OiBsZWZ0fSk7XG4gICAgcmV0dXJuICRhbmFncmFtO1xuICB9XG4gIGZ1bmN0aW9uIGFuYWdyYW1IaXRzVGhlQm90dG9tICgpIHtcbiAgICAkKCcuYW5hZ3JhbScpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgY29uc3QgcG9zaXRpb24gPSBNYXRoLnJvdW5kKCQodGhpcykucG9zaXRpb24oKS50b3ApO1xuICAgICAgaWYgKHBvc2l0aW9uID49IDQ2NSkge1xuICAgICAgICBjb25zb2xlLmxvZyhsaWZlU2NvcmUpO1xuICAgICAgICBpZighJCh0aGlzKS5oYXNDbGFzcygnaGluZ2UnKSkgbGlmZVNjb3JlIC09IDE7XG4gICAgICAgICRsaXZlcy5odG1sKGBMaXZlcyBMZWZ0OiAke2xpZmVTY29yZX1gKTsvL05vdCBXb3JraW5nXG4gICAgICAgICQodGhpcykuY3NzKCdjb2xvcicsJ3JlZCcpO1xuICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdhbmltYXRlZCBoaW5nZScpO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAkKHRoaXMpLnJlbW92ZSgpO1xuICAgICAgICB9LDUwMCk7XG5cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vRnVuY3Rpb25zIHRoYXQgY2hhbmdlIHRoZSB3b3JkLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gIC8vLy8vLy8vLy8vLy8vLyBUaGVzZSBhcmUgdGhlIGRpZmZpY3VsdHkgb3B0aW9uIGZ1bmN0aW9ucyAvLy8vLy8vLy8vLy8vLy9cbiAgZnVuY3Rpb24gZGlmZmljdWx0eUVhc3kgKCl7XG4gICAgY29uc3Qgc2VsZWN0ZWRXb3JkID0gZ2VuZXJhdGVXb3JkKCk7XG4gICAgY29uc3Qgc2NyYW1ibGVkV29yZCA9IGdlbmVyYXRlQW5hZ3JhbShzZWxlY3RlZFdvcmQpO1xuICAgIGNvbnN0IHNlbGVjdGVkQW5hZ3JhbSA9IGdlbmVyYXRlQW5hZ3JhbUVsZW1lbnQoKTtcbiAgICBzZWxlY3RlZEFuYWdyYW0udGV4dChzY3JhbWJsZWRXb3JkKTtcbiAgICBzZWxlY3RlZEFuYWdyYW0uYXR0cignZGF0YS13b3JkJywgc2VsZWN0ZWRXb3JkKTtcbiAgICAkY29udGFpbmVyLmFwcGVuZChzZWxlY3RlZEFuYWdyYW0pO1xuXG4gICAgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHtcbiAgICAgIHNlbGVjdGVkQW5hZ3JhbS5jc3MoJ3RvcCcsICcrPTEwcHgnKTtcbiAgICAgIGFuYWdyYW1IaXRzVGhlQm90dG9tKCk7XG4gICAgfSwxNTAwKTtcbiAgfVxuICBmdW5jdGlvbiBkaWZmaWN1bHR5TWVkaXVtICgpe1xuICAgIGNvbnN0IHNlbGVjdGVkV29yZCA9IGdlbmVyYXRlV29yZCgpO1xuICAgIGNvbnN0IHNjcmFtYmxlZFdvcmQgPSBnZW5lcmF0ZUFuYWdyYW0oc2VsZWN0ZWRXb3JkKTtcbiAgICBjb25zdCBzZWxlY3RlZEFuYWdyYW0gPSBnZW5lcmF0ZUFuYWdyYW1FbGVtZW50KCk7XG5cbiAgICBzZWxlY3RlZEFuYWdyYW0udGV4dChzY3JhbWJsZWRXb3JkKTtcbiAgICBzZWxlY3RlZEFuYWdyYW0uYXR0cignZGF0YS13b3JkJywgc2VsZWN0ZWRXb3JkKTtcbiAgICAkY29udGFpbmVyLmFwcGVuZChzZWxlY3RlZEFuYWdyYW0pO1xuICAgIGludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XG4gICAgICBzZWxlY3RlZEFuYWdyYW0uY3NzKCd0b3AnLCAnKz0xMHB4Jyk7XG4gICAgICBhbmFncmFtSGl0c1RoZUJvdHRvbSgpO1xuICAgIH0sMTAwMCk7XG4gIH1cbiAgZnVuY3Rpb24gZGlmZmljdWx0eUhhcmQgKCl7XG4gICAgY29uc3Qgc2VsZWN0ZWRXb3JkID0gZ2VuZXJhdGVXb3JkKCk7XG4gICAgY29uc3Qgc2NyYW1ibGVkV29yZCA9IGdlbmVyYXRlQW5hZ3JhbShzZWxlY3RlZFdvcmQpO1xuICAgIGNvbnN0IHNlbGVjdGVkQW5hZ3JhbSA9IGdlbmVyYXRlQW5hZ3JhbUVsZW1lbnQoKTtcblxuICAgIHNlbGVjdGVkQW5hZ3JhbS50ZXh0KHNjcmFtYmxlZFdvcmQpO1xuICAgIHNlbGVjdGVkQW5hZ3JhbS5hdHRyKCdkYXRhLXdvcmQnLCBzZWxlY3RlZFdvcmQpO1xuICAgICRjb250YWluZXIuYXBwZW5kKHNlbGVjdGVkQW5hZ3JhbSk7XG4gICAgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHtcbiAgICAgIHNlbGVjdGVkQW5hZ3JhbS5jc3MoJ3RvcCcsICcrPTEwcHgnKTtcbiAgICAgIGFuYWdyYW1IaXRzVGhlQm90dG9tKCk7XG4gICAgfSw3MDApO1xuICB9XG4gIGZ1bmN0aW9uIGRpZmZpY3VsdHlJbnNhbmUgKCl7XG4gICAgY29uc3Qgc2VsZWN0ZWRXb3JkID0gZ2VuZXJhdGVXb3JkKCk7XG4gICAgY29uc3Qgc2NyYW1ibGVkV29yZCA9IGdlbmVyYXRlQW5hZ3JhbShzZWxlY3RlZFdvcmQpO1xuICAgIGNvbnN0IHNlbGVjdGVkQW5hZ3JhbSA9IGdlbmVyYXRlQW5hZ3JhbUVsZW1lbnQoKTtcblxuICAgIHNlbGVjdGVkQW5hZ3JhbS50ZXh0KHNjcmFtYmxlZFdvcmQpO1xuICAgIHNlbGVjdGVkQW5hZ3JhbS5hdHRyKCdkYXRhLXdvcmQnLCBzZWxlY3RlZFdvcmQpO1xuICAgICRjb250YWluZXIuYXBwZW5kKHNlbGVjdGVkQW5hZ3JhbSk7XG4gICAgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHtcbiAgICAgIHNlbGVjdGVkQW5hZ3JhbS5jc3MoJ3RvcCcsICcrPTEwcHgnKTtcbiAgICAgIGFuYWdyYW1IaXRzVGhlQm90dG9tKCk7XG4gICAgfSwyMDApO1xuICB9XG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vIERpZmZpY3VsdHkgT3B0aW9ucyBFbmQgaGVyZSAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuLy8vLy8vLy8vLy9UaGlzIGlzIHRoZSByZXNldCBmdW5jdGlvbiBhZnRlciBhIGdhbWUgaGFzIGZpbmlzaGVkLy8vLy8vLy8vLy8vLy8vL1xuICBmdW5jdGlvbiByZXNldCAoKSB7XG4gICAgbGlmZVNjb3JlID0gNTtcbiAgICAkbGl2ZXMuaHRtbCgnTGl2ZXM6IDUnKTtcbiAgICB3aW5Db25kaXRpb24gPSAwO1xuICAgICR3aW5Db25kaXRpb24uaHRtbCgnQ29ycmVjdCBBbnN3ZXJzOiAwJyk7XG4gICAgJCgnLmFuYWdyYW0nKS5yZW1vdmUoKTtcbiAgfVxuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9yZXNldCBmdW5jdGlvbiBlbmQvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAvLy8gVGhpcyBpcyBmb3Igd2hlbiB0aGUgcGxheWVyIGlzIHJlYWR5IHRvIHBsYXksIGFmdGVyIHRoZSBkaWZmaWN1bHR5IGlzIHNlbGVjdGVkIGFuZCB0aGUgcGxheSBidXR0b24gaXMgY2xpY2tlZCAtIHNvIHRoaXMgc3RhcnRzIHRoZSBnYW1lIVxuICAkcGxheUdhbWUub24oJ2NsaWNrJywgZnVuY3Rpb24oKXtcblxuICAgIHN3aXRjaCAoc2VsZWN0ZWREaWZmaWN1bHR5KSB7XG4gICAgICBjYXNlICdlYXN5JzpcbiAgICAgIGRpZmZpY3VsdHlFYXN5KCk7XG4gICAgICBjb25zdCBpbnRlcnZhbEUgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpe1xuICAgICAgICBpZiAod2luQ29uZGl0aW9uID49IDUpIHtcbiAgICAgICAgICBhbGVydCgnWW91IGJlYXQgdGhlIGdhbWUgdGhpcyB0aW1lLCBjYW4geW91IG1hbmFnZSBhIG1lZGl1bSBkaWZmaWN1dGx5Li4uPycpO1xuICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxFKTtcbiAgICAgICAgICByZXNldCgpO1xuICAgICAgICB9IGVsc2UgaWYgKGxpZmVTY29yZSA8PSAwKSB7XG4gICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbEUpO1xuICAgICAgICAgIGFsZXJ0KCdHYW1lIE92ZXIsIHNvcnJ5IHlvdSBsb3N0LCBCb29vb29vbyEnKTtcbiAgICAgICAgICByZXNldCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRpZmZpY3VsdHlFYXN5KCk7XG4gICAgICAgIH1cbiAgICAgIH0sMTAwMDApO1xuICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ21lZGl1bSc6XG4gICAgICBkaWZmaWN1bHR5TWVkaXVtKCk7XG4gICAgICBjb25zdCBpbnRlcnZhbE0gPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpe1xuICAgICAgICBpZiAod2luQ29uZGl0aW9uID49IDcgKSB7XG4gICAgICAgICAgYWxlcnQoJ1lvdSBiZWF0IHRoZSBnYW1lIHRoaXMgdGltZSwgY2FuIHlvdSBtYW5hZ2UgYSBoYXJkIGRpZmZpY3V0bHkuLi4/Jyk7XG4gICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbE0pO1xuICAgICAgICAgIHJlc2V0KCk7XG4gICAgICAgIH0gZWxzZSBpZiAoIGxpZmVTY29yZSA8PSAwKXtcbiAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsTSk7XG4gICAgICAgICAgYWxlcnQoJ0dhbWUgT3Zlciwgc29ycnkgeW91IGxvc3QsIEJvb29vb29vIScpO1xuICAgICAgICAgIHJlc2V0KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgZGlmZmljdWx0eU1lZGl1bSgpO1xuICAgICAgICB9XG4gICAgICB9LDcwMDApO1xuICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ2hhcmQnOlxuICAgICAgZGlmZmljdWx0eUhhcmQoKTtcbiAgICAgIGNvbnN0IGludGVydmFsSCA9IHNldEludGVydmFsKGZ1bmN0aW9uKCl7XG4gICAgICAgIGlmICh3aW5Db25kaXRpb24gPj0gMTAgKSB7XG4gICAgICAgICAgYWxlcnQoJ1lvdSBiZWF0IHRoZSBnYW1lIHRoaXMgdGltZSwgd2VsbCB0aGF0cyBpdCwgdW5sZXNzIHlvdSByZWFsbHkgYXJlIGluc2FuZS4uLicpO1xuICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxIKTtcbiAgICAgICAgICByZXNldCgpO1xuICAgICAgICB9IGVsc2UgaWYgKCBsaWZlU2NvcmUgPD0gMCl7XG4gICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbEgpO1xuICAgICAgICAgIGFsZXJ0KCdHYW1lIE92ZXIsIHNvcnJ5IHlvdSBsb3N0LCBCb29vb29vbyEnKTtcbiAgICAgICAgICByZXNldCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGRpZmZpY3VsdHlIYXJkKCk7XG4gICAgICAgIH1cbiAgICAgIH0sNTAwMCk7XG4gICAgICBicmVhaztcblxuICAgICAgY2FzZSAnaW5zYW5lJzpcblxuICAgICAgZGlmZmljdWx0eUluc2FuZSgpO1xuICAgICAgY29uc3QgaW50ZXJ2YWxJID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtcbiAgICAgICAgaWYgKHdpbkNvbmRpdGlvbiA+PSAxMCApIHtcbiAgICAgICAgICBhbGVydCgnWW91IGJlYXQgdGhlIGdhbWUsIGxpa2UgeW91IGJlYXQgaXQsIGJlYXQgaXQgZXJtIHllYWgsIGdyYXRzIEkgZ3Vlc3MnKTtcbiAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsSSk7XG4gICAgICAgICAgcmVzZXQoKTtcbiAgICAgICAgfSBlbHNlIGlmICggbGlmZVNjb3JlIDw9IDApe1xuICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxJKTtcbiAgICAgICAgICBhbGVydCgnR2FtZSBPdmVyLCBzb3JyeSB5b3UgbG9zdCwgQm9vb29vb28hJyk7XG4gICAgICAgICAgcmVzZXQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnRnVuY3Rpb24gY2FsbGVkIScpXG4gICAgICAgICAgZGlmZmljdWx0eUluc2FuZSgpO1xuICAgICAgICB9XG4gICAgICB9LDI1MDApO1xuICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgYWxlcnQoJ1BsZWFzZSBzZWxlY3QgYSBkaWZmaWN1bHR5Li4uJyk7XG4gICAgfVxuICB9KTtcbiAgLy8vIFRoaXMgaXMgdGhlIHZhbGlkYXRpb24gd2hlbiB0aGUgYnV0dG9uIGlzIGNsaWNrZWQgdG8gc3VibWl0IGFuIGFuc3dlciwgdGhpcyBhbHNvIGhvbGRzIHRoZSBhbmltYXRpb25zIGFwcGxpZWQgdG8gdGhlIGdhbWUuXG5cbiAgJCgnZm9ybScpLm9uKCdzdWJtaXQnLCBmdW5jdGlvbiAoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zb2xlLmxvZygnaW4gaGVyZScpO1xuICAgICQoJy5hbmFncmFtJykuZWFjaChmdW5jdGlvbiAoYW5hZ3JhbSkge1xuICAgICAgY29uc29sZS5sb2coYW5hZ3JhbSwgdGhpcyk7XG4gICAgICBjb25zdCBjaGVja2VyID0gJCh0aGlzKS5kYXRhKCd3b3JkJyk7XG5cbiAgICAgIGlmICgkKCcjYW5zd2VyJykudmFsKCkgPT09IGNoZWNrZXIpe1xuICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdhbmltYXRlZCBmYWRlT3V0TGVmdCcpLmNzcygnY29sb3InLCcjMzlGRjE0Jyk7XG4gICAgICAgICR3aW5Db25kaXRpb24uaHRtbChgQ29ycmVjdCBBbnN3ZXJzOiAke3dpbkNvbmRpdGlvbiA9IHdpbkNvbmRpdGlvbiArIDF9YCk7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICQodGhpcykucmVtb3ZlKCk7XG4gICAgICAgIH0sNTAwKTtcblxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJCgnLmFuYWdyYW0nKS5hZGRDbGFzcygnYW5pbWF0ZWQgd29iYmxlJyk7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICQoJy5hbmFncmFtJykucmVtb3ZlQ2xhc3MoJ3dvYmJsZScpO1xuICAgICAgICB9LDUwMCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgJCgnZm9ybScpLnRyaWdnZXIoJ3Jlc2V0Jyk7XG4gIH0pO1xufSk7XG5cbi8vLy8vIGxvc2UgYSBsaWZlIGZvciB3b3JkcyBmYWxsaW5nIG9uIGJvdHRvbSBvZiB0aGUgZGl2IHBsYWNlIHRoaXMgaW4gYSBmdW5jdGlvbiBhbmQgdGhlbiBjYWxsIGl0IGluIGVhY2ggZGlmZmljdWx0eVxuIl19
