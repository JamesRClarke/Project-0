"use strict";console.log("JS Loaded"),$(function(){function e(){var e=[Math.floor(Math.random()*w.length)],t=w[e];return w.splice(e,1),t}function t(e){return e.split("").sort(function(){return.5-Math.random()}).join("")}function a(){var e=$('<p class="anagram"></p>'),t=Math.ceil(600*Math.random());return e.css({left:t}),e}function o(){var o=e(),r=t(o),n=a();n.text(r),n.attr("data-word",o),p.append(n),u=setInterval(function(){n.css("top","+=10px"),console.log(Math.round(n.position().top))},2e3)}function r(){var o=e(),r=t(o),n=a();n.text(r),n.attr("data-word",o),p.append(n),u=setInterval(function(){n.css("top","+=20px")},2e3)}function n(){var o=e(),r=t(o),n=a();n.text(r),n.attr("data-word",o),p.append(n),u=setInterval(function(){n.css("top","+=20px")},1500)}function s(){var o=e(),r=t(o),n=a();n.text(r),n.attr("data-word",o),p.append(n),u=setInterval(function(){n.css("top","+=30px")},1e3)}function i(){l=5,h.html("Lives: 5"),c=0,m.html("Correct Answers: 0"),$(".anagram").remove()}var l=5,c=0,u=void 0,h=$("#lives"),d=$("#play"),m=$("#winCondition"),f=$("#subject-options"),b=$("#difficulty-options"),p=$(".ag-tetris"),v=$("#instructions"),y={BBT:["sheldon","leanord","spock","cheesecakefactory","howard","startrek","penny","koothrapoli","bernadette","physics","laundry","halonight","dumplings","brisket","nasa","stringtheory","darkmatter","comiccon","comicbook"],LOTR:["arragon","gimli"]},g="",w="";f.on("change",function(){var e=f.val();switch(w=y[e],e){case"BBT":$("body").addClass("imageBBT")}}),b.on("change",function(){switch(g=b.val()){case"easy":v.prepend("<h2>Instructions</h2><p> When a word falls to the bottom of the box you lose a life.<br><br>You need to guess 5 anagrams correctly to beat this game!<br><br>You have 5 lives...Enjoy!</p>");break;case"medium":v.append("<h2>Instructions</h2><p> When a word falls to the bottom of the box you lose a life.<br><br>You need to guess 7 anagrams correctly to beat this game!<br><br>You have 5 lives...Enjoy!</p>");break;case"hard":v.append("<h2>Instructions</h2><p> When a word falls to the bottom of the box you lose a life.<br><br>You need to guess 10 anagrams correctly to beat this game!<br><br>You have 5 lives...Enjoy!</p>");break;case"insane":v.append("<h2>Instructions</h2><p> When a word falls to the bottom of the box you lose a life.<br><br>You need to guess  anagrams correctly to beat this game!<br><br>You have 10 lives...Enjoy!</p>")}}),$("form").on("submit",function(e){e.preventDefault(),$(".anagram").each(function(){var e=$(this).data("word");$("#answer").val()===e?(m.html("Correct Answers: "+(c+=1)),$(this).addClass("animated fadeOutLeft").css("color","green"),$(this).css("display","hidden")):$(".anagram").addClass("animated wobble")}),$("form").trigger("reset")}),d.on("click",function(){switch(g){case"easy":o();var e=setInterval(function(){c>=5?(alert("You beat the game this time, can you manage a medium difficutly...?"),clearInterval(e),i()):l<=0?(alert("Game Over, sorry you lost, Booooooo!"),i()):o()},1e4);break;case"medium":r();var t=setInterval(function(){c>=7?(alert("You beat the game this time, can you manage a hard difficutly...?"),clearInterval(t),i()):l<=0?(alert("Game Over, sorry you lost, Booooooo!"),i()):r()},7e3);break;case"hard":n();var a=setInterval(function(){c>=10?(alert("You beat the game this time, well thats it, unless you really are insane..."),clearInterval(a),i()):l<=0?(alert("Game Over, sorry you lost, Booooooo!"),i()):n()},5e3);break;case"insane":s();var u=setInterval(function(){c>=10?(alert("You beat the game, like you beat it, beat it erm yeah, grats I guess"),clearInterval(u),i()):l<=0?(alert("Game Over, sorry you lost, Booooooo!"),i()):s()},2500);break;default:alert("Please select a difficulty...")}})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJjb25zb2xlIiwibG9nIiwiJCIsImdlbmVyYXRlV29yZCIsImluZGV4IiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwic2VsZWN0ZWRTdWJqZWN0IiwibGVuZ3RoIiwic2VsZWN0ZWRXb3JkIiwiZ2VuZXJhdGVBbmFncmFtIiwic3BsaXQiLCJzb3J0Iiwiam9pbiIsImdlbmVyYXRlQW5hZ3JhbUVsZW1lbnQiLCIkYW5hZ3JhbSIsImxlZnQiLCJkaWZmaWN1bHR5RWFzeSIsInNjcmFtYmxlZFdvcmQiLCJzZWxlY3RlZEFuYWdyYW0iLCJ0ZXh0IiwiJGNvbnRhaW5lciIsImludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJwb3NpdGlvbiIsInRvcCIsImRpZmZpY3VsdHlNZWRpdW0iLCJkaWZmaWN1bHR5SGFyZCIsImRpZmZpY3VsdHlJbnNhbmUiLCJhdHRyIiwiY3NzIiwicmVzZXQiLCJsaWZlU2NvcmUiLCJ3aW5Db25kaXRpb24iLCIkd2luQ29uZGl0aW9uIiwiaHRtbCIsIiRsaXZlcyIsIiRkaWZmaWN1bHR5T3B0aW9ucyIsIiRpbnN0cnVjdGlvbnMiLCJCQlQiLCJMT1RSIiwiY2F0ZWdvcmllcyIsInNlbGVjdGVkRGlmZmljdWx0eSIsIiRzdWJqZWN0T3B0aW9ucyIsInZhbCIsInZhbHVlIiwib24iLCJhcHBlbmQiLCJlIiwicHJldmVudERlZmF1bHQiLCJlYWNoIiwiY2hlY2tlciIsInRoaXMiLCJkYXRhIiwiYWRkQ2xhc3MiLCJ0cmlnZ2VyIiwiJHBsYXlHYW1lIiwiaW50ZXJ2YWxFIiwiYWxlcnQiLCJjbGVhckludGVydmFsIiwiaW50ZXJ2YWxNIiwiaW50ZXJ2YWxIIiwiaW50ZXJ2YWxJIl0sIm1hcHBpbmdzIjoiWUFBQUEsU0FBUUMsSUFBSSxhQUNaQyxFQUFFLFdBeUVBLFFBQVNDLEtBRFQsR0FBQUMsSUFBQUMsS0FBQUMsTUFBQUQsS0FBQUUsU0FBQUMsRUFBQUMsU0FDQUMsRUFBQUYsRUFBd0JKLEVBRXRCLE9BREFJ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Qm1ELE1BQUFDLEtBQVksT0FHekJwRCxHQUFFLFdBQVcyQyxRQUFVTyxHQUEzQmpCLEVBQUlDLEtBQUoscUJBQW1DRixHQUFBLElBQ2pDQyxFQUFBQSxNQUFBQSxTQUFjQyx3QkFBZEwsSUFBdUNHLFFBQUFBLFNBQ3ZDaEMsRUFBRW1ELE1BQU1FLElBQUFBLFVBQVMsV0FGbkJyRCxFQUFBLFlBS09xRCxTQUFBLHFCQUdSckQsRUFYRCxRQUFBc0QsUUFBQSxXQStCRkMsRUFBQVYsR0FBQSxRQUFBLFdBQ0FVLE9BQVVWLEdBQ1IsSUFBQSxPQUNFN0IsR0FDQUEsSUFBQUEsR0FBQUEsWUFBQUEsV0FDTXdDLEdBQVlsQyxHQUNoQm1DLE1BQUl6Qix1RUFDRnlCLGNBQU1ELEdBQ05FLEtBQ0E1QixHQUFBQSxHQUNEMkIsTUFKRCx3Q0FLRUEsS0FJQXpDLEtBRUgsSUFDRCxNQUVBLEtBQUssU0FDTFMsR0FDQSxJQUFNa0MsR0FBWXJDLFlBQVksV0FDNUJVLEdBQUlBLEdBQ0Z5QixNQUFBQSxxRUFDQUMsY0FBQUEsR0FDQTVCLEtBQ0tDLEdBQUtBLEdBQ1YwQixNQUFBQSx3Q0FDQTNCLEtBSURMLEtBRUgsSUFBQSxNQUdBQyxLQUFBQSxPQUNBQSxHQUNFLElBQUFrQyxHQUFJNUIsWUFBcUIsV0FDdkJ5QixHQUFNLElBQ05DLE1BQUFBLCtFQUNBNUIsY0FBQUEsR0FDREEsS0FDT0MsR0FBQSxHQUNORCxNQUFBQSx3Q0FDREEsS0FSZUosS0FZaEIsSUFHRixNQUVBLEtBQUEsU0FDRUMsR0FDRThCLElBQUFBLEdBQU1uQyxZQUFBLFdBQ05vQyxHQUFjRyxJQUNkL0IsTUFBQUEsd0VBQ0Q0QixjQUFXM0IsR0FDVjBCLEtBQ0EzQixHQUFBQSxHQUNEMkIsTUFITSx3Q0FLTDlCLEtBR0pBLEtBRUE4QixLQXJFRixNQURGLFNBN0xGQSxNQUFBIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnNvbGUubG9nKCdKUyBMb2FkZWQnKTtcbiQoKCkgPT4ge1xuICBsZXQgbGlmZVNjb3JlID0gNTtcbiAgLy8gbGV0IGN1cnJlbnRTY29yZURpc2xwYXllZCA9IDA7XG4gIGxldCB3aW5Db25kaXRpb24gPSAwO1xuICBsZXQgaW50ZXJ2YWw7XG4gIC8vIGNvbnN0ICRjdXJyZW50U2NvcmUgPSAkKCcjY3VycmVudFNjb3JlJyk7XG4gIGNvbnN0ICRsaXZlcyA9ICQoJyNsaXZlcycpO1xuICAvLyBjb25zdCAkaGlnaFNjb3JlID0gJCgnI2hpaGdoU2NvcmUnKTtcbiAgY29uc3QgJHBsYXlHYW1lID0gJCgnI3BsYXknKTtcbiAgY29uc3QgJHdpbkNvbmRpdGlvbiA9ICQoJyN3aW5Db25kaXRpb24nKTtcblxuICBjb25zdCAkc3ViamVjdE9wdGlvbnMgPSAkKCcjc3ViamVjdC1vcHRpb25zJyk7XG4gIGNvbnN0ICRkaWZmaWN1bHR5T3B0aW9ucyA9ICQoJyNkaWZmaWN1bHR5LW9wdGlvbnMnKTtcblxuICBjb25zdCAkY29udGFpbmVyID0gJCgnLmFnLXRldHJpcycpO1xuXG4gIGNvbnN0ICRpbnN0cnVjdGlvbnMgPSAkKCcjaW5zdHJ1Y3Rpb25zJyk7XG5cbiAgY29uc3QgY2F0ZWdvcmllcyA9IHtcbiAgICBCQlQ6IFsnc2hlbGRvbicsJ2xlYW5vcmQnLCdzcG9jaycsJ2NoZWVzZWNha2VmYWN0b3J5JywnaG93YXJkJywnc3RhcnRyZWsnLCdwZW5ueScsJ2tvb3RocmFwb2xpJywnYmVybmFkZXR0ZScsJ3BoeXNpY3MnLCdsYXVuZHJ5JywnaGFsb25pZ2h0JywnZHVtcGxpbmdzJywgJ2JyaXNrZXQnLCduYXNhJywnc3RyaW5ndGhlb3J5JywnZGFya21hdHRlcicsICdjb21pY2NvbicsJ2NvbWljYm9vayddLFxuICAgIExPVFI6IFsnYXJyYWdvbicsICdnaW1saSddXG4gIH07XG5cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy9TZWxlY3RvcnMvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgbGV0IHNlbGVjdGVkRGlmZmljdWx0eSA9ICcnO1xuICBsZXQgc2VsZWN0ZWRTdWJqZWN0ID0gJyc7XG4gICRzdWJqZWN0T3B0aW9ucy5vbignY2hhbmdlJywgKCkgPT4ge1xuICAgIGNvbnN0IHZhbHVlID0gJHN1YmplY3RPcHRpb25zLnZhbCgpO1xuICAgIHNlbGVjdGVkU3ViamVjdCA9IGNhdGVnb3JpZXNbdmFsdWVdO1xuICAgIHN3aXRjaCAodmFsdWUpIHtcbiAgICAgIGNhc2UgJ0JCVCc6XG4gICAgICAkKCdib2R5JykuYWRkQ2xhc3MoJ2ltYWdlQkJUJyk7XG4gICAgICBicmVhaztcbiAgICAgIGNhc2UgJ0xPVFInOlxuXG4gICAgICBicmVhaztcbiAgICAgIGNhc2UgJ0NDJzpcblxuICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdFUEwnOlxuXG4gICAgICBicmVhaztcbiAgICAgIGNhc2UgJ0xPVFInOlxuXG4gICAgICBicmVhaztcbiAgICAgIGNhc2UgJ1dESSc6XG5cbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfSk7XG4gICRkaWZmaWN1bHR5T3B0aW9ucy5vbignY2hhbmdlJywgKCkgPT4ge1xuICAgIHNlbGVjdGVkRGlmZmljdWx0eSA9ICRkaWZmaWN1bHR5T3B0aW9ucy52YWwoKTtcbiAgICBzd2l0Y2ggKHNlbGVjdGVkRGlmZmljdWx0eSkge1xuICAgICAgY2FzZSAnZWFzeSc6XG4gICAgICAkaW5zdHJ1Y3Rpb25zLnByZXBlbmQoJzxoMj5JbnN0cnVjdGlvbnM8L2gyPjxwPiBXaGVuIGEgd29yZCBmYWxscyB0byB0aGUgYm90dG9tIG9mIHRoZSBib3ggeW91IGxvc2UgYSBsaWZlLjxicj48YnI+WW91IG5lZWQgdG8gZ3Vlc3MgNSBhbmFncmFtcyBjb3JyZWN0bHkgdG8gYmVhdCB0aGlzIGdhbWUhPGJyPjxicj5Zb3UgaGF2ZSA1IGxpdmVzLi4uRW5qb3khPC9wPicpO1xuICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdtZWRpdW0nOlxuICAgICAgJGluc3RydWN0aW9ucy5hcHBlbmQoJzxoMj5JbnN0cnVjdGlvbnM8L2gyPjxwPiBXaGVuIGEgd29yZCBmYWxscyB0byB0aGUgYm90dG9tIG9mIHRoZSBib3ggeW91IGxvc2UgYSBsaWZlLjxicj48YnI+WW91IG5lZWQgdG8gZ3Vlc3MgNyBhbmFncmFtcyBjb3JyZWN0bHkgdG8gYmVhdCB0aGlzIGdhbWUhPGJyPjxicj5Zb3UgaGF2ZSA1IGxpdmVzLi4uRW5qb3khPC9wPicpO1xuICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdoYXJkJzpcbiAgICAgICRpbnN0cnVjdGlvbnMuYXBwZW5kKCc8aDI+SW5zdHJ1Y3Rpb25zPC9oMj48cD4gV2hlbiBhIHdvcmQgZmFsbHMgdG8gdGhlIGJvdHRvbSBvZiB0aGUgYm94IHlvdSBsb3NlIGEgbGlmZS48YnI+PGJyPllvdSBuZWVkIHRvIGd1ZXNzIDEwIGFuYWdyYW1zIGNvcnJlY3RseSB0byBiZWF0IHRoaXMgZ2FtZSE8YnI+PGJyPllvdSBoYXZlIDUgbGl2ZXMuLi5FbmpveSE8L3A+Jyk7XG4gICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2luc2FuZSc6XG4gICAgICAkaW5zdHJ1Y3Rpb25zLmFwcGVuZCgnPGgyPkluc3RydWN0aW9uczwvaDI+PHA+IFdoZW4gYSB3b3JkIGZhbGxzIHRvIHRoZSBib3R0b20gb2YgdGhlIGJveCB5b3UgbG9zZSBhIGxpZmUuPGJyPjxicj5Zb3UgbmVlZCB0byBndWVzcyAgYW5hZ3JhbXMgY29ycmVjdGx5IHRvIGJlYXQgdGhpcyBnYW1lITxicj48YnI+WW91IGhhdmUgMTAgbGl2ZXMuLi5FbmpveSE8L3A+Jyk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH0pO1xuXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vU2VsZWN0b3JzIEVuZC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy9GdW5jdGlvbnMgdGhhdCBjaGFuZ2UgdGhlIHdvcmQvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgLy8vIFRoaXMgc2VsZWN0cyBhIHJhbmRvbSB3b3JkIGZyb20gdGhlIHNlbGVjdGVkIGFycmF5XG4gIGZ1bmN0aW9uIGdlbmVyYXRlV29yZCgpIHtcbiAgICBjb25zdCBpbmRleCA9IFtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBzZWxlY3RlZFN1YmplY3QubGVuZ3RoKV07XG4gICAgY29uc3Qgc2VsZWN0ZWRXb3JkID0gc2VsZWN0ZWRTdWJqZWN0W2luZGV4XTtcbiAgICBzZWxlY3RlZFN1YmplY3Quc3BsaWNlKGluZGV4LCAxKTtcbiAgICByZXR1cm4gc2VsZWN0ZWRXb3JkO1xuICB9XG4gIC8vLyBUaGlzIHRha2VzIHRoZSByYW5kb21seSBzZWxlY3RlZCB3b3JkIGFuZCBzaHVmZmxlcyBpdCBpbnRvIGFuIGFuYWdyYW1cbiAgZnVuY3Rpb24gZ2VuZXJhdGVBbmFncmFtKHNlbGVjdGVkV29yZCkge1xuICAgIHJldHVybiBzZWxlY3RlZFdvcmQuc3BsaXQoJycpLnNvcnQoZnVuY3Rpb24oKXtcbiAgICAgIHJldHVybiAwLjUgLSBNYXRoLnJhbmRvbSgpO1xuICAgIH0gKS5qb2luKCcnKTtcbiAgfVxuICAvLy8gVGhpcyBnZW5lcmF0ZXMgYSBkaWZmZXJlbnQgZWxlbWVudCBpbiBhIGRpZmZlcm50IHBvc2l0aW9uIGZyb20gdGhlIEhUTUxcbiAgZnVuY3Rpb24gZ2VuZXJhdGVBbmFncmFtRWxlbWVudCAoKSB7XG4gICAgY29uc3QgJGFuYWdyYW0gPSAkKCc8cCBjbGFzcz1cImFuYWdyYW1cIj48L3A+Jyk7XG4gICAgY29uc3QgbGVmdCA9IE1hdGguY2VpbCgoTWF0aC5yYW5kb20oKSAqIDYwMCkpO1xuICAgICRhbmFncmFtLmNzcyh7bGVmdDogbGVmdH0pO1xuICAgIHJldHVybiAkYW5hZ3JhbTtcbiAgfVxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vRnVuY3Rpb25zIHRoYXQgY2hhbmdlIHRoZSB3b3JkLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gIC8vLy8vLy8vLy8vLy8vLyBUaGVzZSBhcmUgdGhlIGRpZmZpY3VsdHkgb3B0aW9uIGZ1bmN0aW9ucyAvLy8vLy8vLy8vLy8vLy9cbiAgZnVuY3Rpb24gZGlmZmljdWx0eUVhc3kgKCl7XG4gICAgY29uc3Qgc2VsZWN0ZWRXb3JkID0gZ2VuZXJhdGVXb3JkKCk7XG4gICAgY29uc3Qgc2NyYW1ibGVkV29yZCA9IGdlbmVyYXRlQW5hZ3JhbShzZWxlY3RlZFdvcmQpO1xuICAgIGNvbnN0IHNlbGVjdGVkQW5hZ3JhbSA9IGdlbmVyYXRlQW5hZ3JhbUVsZW1lbnQoKTtcbiAgICBzZWxlY3RlZEFuYWdyYW0udGV4dChzY3JhbWJsZWRXb3JkKTtcbiAgICBzZWxlY3RlZEFuYWdyYW0uYXR0cignZGF0YS13b3JkJywgc2VsZWN0ZWRXb3JkKTtcbiAgICAkY29udGFpbmVyLmFwcGVuZChzZWxlY3RlZEFuYWdyYW0pO1xuICAgIGludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XG4gICAgICBzZWxlY3RlZEFuYWdyYW0uY3NzKCd0b3AnLCAnKz0xMHB4Jyk7XG4gICAgICBjb25zb2xlLmxvZyhNYXRoLnJvdW5kKHNlbGVjdGVkQW5hZ3JhbS5wb3NpdGlvbigpLnRvcCkpO1xuICAgIH0sMjAwMCk7XG4gIH1cbiAgZnVuY3Rpb24gZGlmZmljdWx0eU1lZGl1bSAoKXtcbiAgICBjb25zdCBzZWxlY3RlZFdvcmQgPSBnZW5lcmF0ZVdvcmQoKTtcbiAgICBjb25zdCBzY3JhbWJsZWRXb3JkID0gZ2VuZXJhdGVBbmFncmFtKHNlbGVjdGVkV29yZCk7XG4gICAgY29uc3Qgc2VsZWN0ZWRBbmFncmFtID0gZ2VuZXJhdGVBbmFncmFtRWxlbWVudCgpO1xuICAgIHNlbGVjdGVkQW5hZ3JhbS50ZXh0KHNjcmFtYmxlZFdvcmQpO1xuICAgIHNlbGVjdGVkQW5hZ3JhbS5hdHRyKCdkYXRhLXdvcmQnLCBzZWxlY3RlZFdvcmQpO1xuICAgICRjb250YWluZXIuYXBwZW5kKHNlbGVjdGVkQW5hZ3JhbSk7XG4gICAgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHtcbiAgICAgIHNlbGVjdGVkQW5hZ3JhbS5jc3MoJ3RvcCcsICcrPTIwcHgnKTtcbiAgICB9LDIwMDApO1xuICB9XG4gIGZ1bmN0aW9uIGRpZmZpY3VsdHlIYXJkICgpe1xuICAgIGNvbnN0IHNlbGVjdGVkV29yZCA9IGdlbmVyYXRlV29yZCgpO1xuICAgIGNvbnN0IHNjcmFtYmxlZFdvcmQgPSBnZW5lcmF0ZUFuYWdyYW0oc2VsZWN0ZWRXb3JkKTtcbiAgICBjb25zdCBzZWxlY3RlZEFuYWdyYW0gPSBnZW5lcmF0ZUFuYWdyYW1FbGVtZW50KCk7XG4gICAgc2VsZWN0ZWRBbmFncmFtLnRleHQoc2NyYW1ibGVkV29yZCk7XG4gICAgc2VsZWN0ZWRBbmFncmFtLmF0dHIoJ2RhdGEtd29yZCcsIHNlbGVjdGVkV29yZCk7XG4gICAgJGNvbnRhaW5lci5hcHBlbmQoc2VsZWN0ZWRBbmFncmFtKTtcbiAgICBpbnRlcnZhbCA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkge1xuICAgICAgc2VsZWN0ZWRBbmFncmFtLmNzcygndG9wJywgJys9MjBweCcpO1xuICAgIH0sMTUwMCk7XG4gIH1cbiAgZnVuY3Rpb24gZGlmZmljdWx0eUluc2FuZSAoKXtcbiAgICBjb25zdCBzZWxlY3RlZFdvcmQgPSBnZW5lcmF0ZVdvcmQoKTtcbiAgICBjb25zdCBzY3JhbWJsZWRXb3JkID0gZ2VuZXJhdGVBbmFncmFtKHNlbGVjdGVkV29yZCk7XG4gICAgY29uc3Qgc2VsZWN0ZWRBbmFncmFtID0gZ2VuZXJhdGVBbmFncmFtRWxlbWVudCgpO1xuXG4gICAgc2VsZWN0ZWRBbmFncmFtLnRleHQoc2NyYW1ibGVkV29yZCk7XG4gICAgc2VsZWN0ZWRBbmFncmFtLmF0dHIoJ2RhdGEtd29yZCcsIHNlbGVjdGVkV29yZCk7XG4gICAgJGNvbnRhaW5lci5hcHBlbmQoc2VsZWN0ZWRBbmFncmFtKTtcblxuXG4gICAgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHtcbiAgICAgIC8vIGNvbnN0IHBvc2l0aW9uID0gTWF0aC5yb3VuZChzZWxlY3RlZEFuYWdyYW0ucG9zaXRpb24oKS50b3ApO1xuICAgICAgLy8gY29uc29sZS5sb2cocG9zaXRpb24pO1xuICAgICAgLy9cbiAgICAgIC8vIGlmIChwb3NpdGlvbiA8PSA1NTApIHtcbiAgICAgIC8vICAgY29uc29sZS5sb2coJ25vb29vb29vb29vb28nKTtcbiAgICAgIC8vICAgbGlmZVNjb3JlID0gbGlmZVNjb3JlIC0gMTtcbiAgICAgIC8vIH1cbiAgICAgIHNlbGVjdGVkQW5hZ3JhbS5jc3MoJ3RvcCcsICcrPTMwcHgnKTtcbiAgICB9LDEwMDApO1xuICB9XG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vIERpZmZpY3VsdHkgT3B0aW9ucyBFbmQgaGVyZSAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuXG4gIC8vLyBUaGlzIGlzIHRoZSB2YWxpZGF0aW9uIHdoZW4gdGhlIGJ1dHRvbiBpcyBjbGlja2VkIHRvIHN1Ym1pdCBhbiBhbnN3ZXIsIHRoaXMgYWxzbyBob2xkcyB0aGUgYW5pbWF0aW9ucyBhcHBsaWVkIHRvIHRoZSBnYW1lLlxuICAkKCdmb3JtJykub24oJ3N1Ym1pdCcsIGZ1bmN0aW9uIChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgJCgnLmFuYWdyYW0nKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIGNvbnN0IGNoZWNrZXIgPSAkKHRoaXMpLmRhdGEoJ3dvcmQnKTtcblxuICAgICAgaWYgKCQoJyNhbnN3ZXInKS52YWwoKSA9PT0gY2hlY2tlcil7XG4gICAgICAgICR3aW5Db25kaXRpb24uaHRtbChgQ29ycmVjdCBBbnN3ZXJzOiAke3dpbkNvbmRpdGlvbiA9IHdpbkNvbmRpdGlvbiArIDF9YCk7XG4gICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2FuaW1hdGVkIGZhZGVPdXRMZWZ0JykuY3NzKCdjb2xvcicsJ2dyZWVuJyk7XG4gICAgICAgICQodGhpcykuY3NzKCdkaXNwbGF5JywnaGlkZGVuJyk7XG4gICAgICAgIC8vICRjdXJyZW50U2NvcmUuaHRtbChgU2NvcmU6ICR7Y3VycmVudFNjb3JlRGlzbHBheWVkICs9IDV9YCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkKCcuYW5hZ3JhbScpLmFkZENsYXNzKCdhbmltYXRlZCB3b2JibGUnKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICAkKCdmb3JtJykudHJpZ2dlcigncmVzZXQnKTtcbiAgfSk7XG5cbiAgLy8gbGV0IGhpZ2hTY29yZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdoaWdoU2NvcmUnKSB8fCAwO1xuICAvLyBmdW5jdGlvbiBzZXRIaWdoU2NvcmUgKCRoaWdoU2NvcmUpIHtcbiAgLy8gICBoaWdoU2NvcmUgPSBjdXJyZW50U2NvcmVEaXNscGF5ZWQgPiBoaWdoU2NvcmUgPyBjdXJyZW50U2NvcmVEaXNscGF5ZWQgOiBoaWdoU2NvcmU7XG4gIC8vICAgJGhpZ2hTY29yZS50ZXh0KCRoaWdoU2NvcmUpO1xuICAvLyB9XG4gIGZ1bmN0aW9uIHJlc2V0ICgpIHtcbiAgICBsaWZlU2NvcmUgPSA1O1xuICAgICRsaXZlcy5odG1sKCdMaXZlczogNScpO1xuICAgIC8vIGN1cnJlbnRTY29yZURpc2xwYXllZCA9IDA7XG4gICAgLy8gJGN1cnJlbnRTY29yZS5odG1sKGBTY29yZTogMGApO1xuICAgIHdpbkNvbmRpdGlvbiA9IDA7XG4gICAgJHdpbkNvbmRpdGlvbi5odG1sKCdDb3JyZWN0IEFuc3dlcnM6IDAnKTtcbiAgICAkKCcuYW5hZ3JhbScpLnJlbW92ZSgpO1xuICAgIC8vIHNldEhpZ2hTY29yZSgpO1xuICB9XG5cbiAgLy8vIFRoaXMgaXMgZm9yIHdoZW4gdGhlIHBsYXllciBpcyByZWFkeSB0byBwbGF5LCBhZnRlciB0aGUgZGlmZmljdWx0eSBpcyBzZWxlY3RlZCBhbmQgdGhlIHBsYXkgYnV0dG9uIGlzIGNsaWNrZWQgLSBzbyB0aGlzIHN0YXJ0cyB0aGUgZ2FtZSFcbiAgJHBsYXlHYW1lLm9uKCdjbGljaycsIGZ1bmN0aW9uKCl7XG4gICAgc3dpdGNoIChzZWxlY3RlZERpZmZpY3VsdHkpIHtcbiAgICAgIGNhc2UgJ2Vhc3knOlxuICAgICAgZGlmZmljdWx0eUVhc3koKTtcbiAgICAgIGNvbnN0IGludGVydmFsRSA9IHNldEludGVydmFsKGZ1bmN0aW9uKCl7XG4gICAgICAgIGlmICh3aW5Db25kaXRpb24gPj0gNSkge1xuICAgICAgICAgIGFsZXJ0KCdZb3UgYmVhdCB0aGUgZ2FtZSB0aGlzIHRpbWUsIGNhbiB5b3UgbWFuYWdlIGEgbWVkaXVtIGRpZmZpY3V0bHkuLi4/Jyk7XG4gICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbEUpO1xuICAgICAgICAgIHJlc2V0KCk7XG4gICAgICAgIH0gZWxzZSBpZiAobGlmZVNjb3JlIDw9IDApIHtcbiAgICAgICAgICBhbGVydCgnR2FtZSBPdmVyLCBzb3JyeSB5b3UgbG9zdCwgQm9vb29vb28hJyk7XG4gICAgICAgICAgcmVzZXQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBkaWZmaWN1bHR5RWFzeSgpO1xuICAgICAgICB9XG4gICAgICB9LDEwMDAwKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdtZWRpdW0nOlxuICAgICAgZGlmZmljdWx0eU1lZGl1bSgpO1xuICAgICAgY29uc3QgaW50ZXJ2YWxNID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtcbiAgICAgICAgaWYgKHdpbkNvbmRpdGlvbiA+PSA3ICkge1xuICAgICAgICAgIGFsZXJ0KCdZb3UgYmVhdCB0aGUgZ2FtZSB0aGlzIHRpbWUsIGNhbiB5b3UgbWFuYWdlIGEgaGFyZCBkaWZmaWN1dGx5Li4uPycpO1xuICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxNKTtcbiAgICAgICAgICByZXNldCgpO1xuICAgICAgICB9IGVsc2UgaWYgKCBsaWZlU2NvcmUgPD0gMCl7XG4gICAgICAgICAgYWxlcnQoJ0dhbWUgT3Zlciwgc29ycnkgeW91IGxvc3QsIEJvb29vb29vIScpO1xuICAgICAgICAgIHJlc2V0KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgZGlmZmljdWx0eU1lZGl1bSgpO1xuICAgICAgICB9XG4gICAgICB9LDcwMDApO1xuICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ2hhcmQnOlxuICAgICAgZGlmZmljdWx0eUhhcmQoKTtcbiAgICAgIGNvbnN0IGludGVydmFsSCA9IHNldEludGVydmFsKGZ1bmN0aW9uKCl7XG4gICAgICAgIGlmICh3aW5Db25kaXRpb24gPj0gMTAgKSB7XG4gICAgICAgICAgYWxlcnQoJ1lvdSBiZWF0IHRoZSBnYW1lIHRoaXMgdGltZSwgd2VsbCB0aGF0cyBpdCwgdW5sZXNzIHlvdSByZWFsbHkgYXJlIGluc2FuZS4uLicpO1xuICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxIKTtcbiAgICAgICAgICByZXNldCgpO1xuICAgICAgICB9IGVsc2UgaWYgKCBsaWZlU2NvcmUgPD0gMCl7XG4gICAgICAgICAgYWxlcnQoJ0dhbWUgT3Zlciwgc29ycnkgeW91IGxvc3QsIEJvb29vb29vIScpO1xuICAgICAgICAgIHJlc2V0KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgZGlmZmljdWx0eUhhcmQoKTtcbiAgICAgICAgfVxuICAgICAgfSw1MDAwKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdpbnNhbmUnOlxuICAgICAgZGlmZmljdWx0eUluc2FuZSgpO1xuICAgICAgY29uc3QgaW50ZXJ2YWxJID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtcbiAgICAgICAgaWYgKHdpbkNvbmRpdGlvbiA+PSAxMCApIHtcbiAgICAgICAgICBhbGVydCgnWW91IGJlYXQgdGhlIGdhbWUsIGxpa2UgeW91IGJlYXQgaXQsIGJlYXQgaXQgZXJtIHllYWgsIGdyYXRzIEkgZ3Vlc3MnKTtcbiAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsSSk7XG4gICAgICAgICAgcmVzZXQoKTtcbiAgICAgICAgfSBlbHNlIGlmICggbGlmZVNjb3JlIDw9IDApe1xuICAgICAgICAgIGFsZXJ0KCdHYW1lIE92ZXIsIHNvcnJ5IHlvdSBsb3N0LCBCb29vb29vbyEnKTtcbiAgICAgICAgICByZXNldCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGRpZmZpY3VsdHlJbnNhbmUoKTtcbiAgICAgICAgfVxuICAgICAgfSwyNTAwKTtcbiAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgIGFsZXJ0KCdQbGVhc2Ugc2VsZWN0IGEgZGlmZmljdWx0eS4uLicpO1xuICAgIH1cbiAgfSk7XG59KTtcblxuLy8vLy8gbG9zZSBhIGxpZmUgZm9yIHdvcmRzIGZhbGxpbmcgb24gYm90dG9tIG9mIHRoZSBkaXYgcGxhY2UgdGhpcyBpbiBhIGZ1bmN0aW9uIGFuZCB0aGVuIGNhbGwgaXQgaW4gZWFjaCBkaWZmaWN1bHR5XG4iXX0=
