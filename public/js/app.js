"use strict";$(function(){function e(){var e=[Math.floor(Math.random()*y.length)],n=y[e];return y.splice(e,1),n}function n(e){return e.split("").sort(function(){return.5-Math.random()}).join("")}function a(){var e=$('<p class="anagram"></p>'),n=Math.ceil(Math.random()*(s-250));return e.css({left:n}),e}function o(){$(".anagram").each(function(){var e=this;Math.round($(this).position().top)>=r-80&&(console.log(l),$(this).hasClass("fadeOutDown")||(l-=1),d.html("Lives Left: "+l),$(this).css("color","red"),$(this).addClass("animated fadeOutDown"),setTimeout(function(){$(e).remove()},500))})}function t(){console.log(s);var t=e(),i=n(t),r=a();r.text(i),r.attr("data-word",t),v.append(r),setInterval(function(){r.css("top","+=10px"),o()},u.speed)}function i(){l=5,d.html("Lives: 5"),c=0,g.html("Correct Answers: 0"),$(".anagram").remove()}var r=$(".game-box").outerHeight(!0),s=$(".game-box").width(),l=5,c=0,u=null,d=$("#lives"),h=$("#play"),g=$("#winCondition"),m=$("#subject-options"),f=$("#difficulty-options"),v=$(".game-box"),p={BBT:["sheldon","leanord","spock","cheesecake factory","howard","star trek","penny","koothrapoli","bernadette","physics","laundry","halo night","dumplings","brisket","nasa","string theory","dark matter","comiccon","comic book"],LOTR:["arragorn","gimli","gandalf","legolas","mordor","uruk hai","frodo","golumn","orcs","the shire","baggins","sauron","gondor","elves","hobbit","dwarves","two towers","black gate","faramir","saruman","shadowfax","witch king"],FT:["arsenal","bournemouth","burnley","brighton","chelsea","crystal palace","everton","liverpool","newcastle","southampton","barcelona","juventus","ajax","bayern"],CC:["vienna","bridgetown","brasilia","brussels","sofia","hanoi","ottowa","bangui","washington","havana","prauge","cairo","helsinki","budapest","jakarta","jerusalem","kingston","tokyo","nairobi","beijing","rabat","oslo","pyongyang","madrid"],WDI:["function","javascript","switch","refactor","namespacing","jquery","const","primitive","object","array","responsive","constructor","recursive","indentation","iterate","method","algorithim","terminal","github","debugging","loop","variable"],SW:["css"]},b={easy:{interval:1e4,speed:1500,winningCondition:5},medium:{interval:7e3,speed:1e3,winningCondition:7},hard:{interval:5e3,speed:700,winningCondition:10},insane:{interval:2500,speed:200,winningCondition:10}},w="",y="";m.on("change",function(){var e=m.val();y=p[e]}),f.on("change",function(){w=f.val(),u=b[w],console.log(u)}),h.click(function(){if(""===w||""===y)alert("A Subject and Difficulty needs to be selected to proceed, please choose both...");else{t();var e=setInterval(function(){c===u.winningCondition?(alert("You beat the game this time, can you manage harder difficutly...?"),clearInterval(e),i()):l<=0?(clearInterval(e),alert("Game Over, sorry you lost, Booooooo!"),i()):t()},u.interval)}}),$("form").on("submit",function(e){e.preventDefault(),$(".anagram").each(function(){var e=this,n=$(this).data("word");$("#answer").val().toLowerCase()===n?($(this).addClass("animated fadeOutUp").css("color","#39FF14"),g.html("Correct Answers: "+(c+=1)),setTimeout(function(){$(e).remove()},500)):($(".anagram").addClass("animated jello"),setTimeout(function(){$(".anagram").removeClass("jello")},500))}),$("form").trigger("reset")}),$(window).on("resize",function(){r=$(".game-box").outerHeight(!0)}),$(window).on("resize",function(){s=$(".game-box").width()})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyIkIiwiZ2VuZXJhdGVXb3JkIiwiZmxvb3IiLCJNYXRoIiwicmFuZG9tIiwic2VsZWN0ZWRTdWJqZWN0IiwibGVuZ3RoIiwic2VsZWN0ZWRXb3JkIiwiaW5kZXgiLCJzcGxpY2UiLCJnZW5lcmF0ZUFuYWdyYW0iLCJzcGxpdCIsInNvcnQiLCJqb2luIiwiZ2VuZXJhdGVBbmFncmFtRWxlbWVudCIsIiRhbmFncmFtIiwiY2VpbCIsIndpZHRoIiwibGVmdCIsImFuYWdyYW1IaXRzVGhlQm90dG9tIiwiX3RoaXMiLCJ0aGlzIiwicm91bmQiLCJwb3NpdGlvbiIsInRvcCIsImhlaWdodCIsImNvbnNvbGUiLCJsb2ciLCJsaWZlU2NvcmUiLCIkbGl2ZXMiLCJhZGRDbGFzcyIsImhhc0NsYXNzIiwiY3NzIiwicGxheUdhbWUiLCJzY3JhbWJsZWRXb3JkIiwic2VsZWN0ZWRBbmFncmFtIiwiJGNvbnRhaW5lciIsImF0dHIiLCJzZXRJbnRlcnZhbCIsInNwZWVkIiwiZGlmZmljdWx0eSIsImh0bWwiLCJ3aW5Db25kaXRpb24iLCJyZW1vdmUiLCJvdXRlckhlaWdodCIsIiRwbGF5R2FtZSIsIiR3aW5Db25kaXRpb24iLCIkc3ViamVjdE9wdGlvbnMiLCIkZGlmZmljdWx0eU9wdGlvbnMiLCJCQlQiLCJMT1RSIiwiY2F0ZWdvcmllcyIsIkZUIiwiQ0MiLCJzZXR0aW5ncyIsImVhc3kiLCJpbnRlcnZhbCIsIndpbm5pbmdDb25kaXRpb24iLCJtZWRpdW0iLCJoYXJkIiwiaW5zYW5lIiwic2VsZWN0ZWREaWZmaWN1bHR5IiwidmFsIiwidmFsdWUiLCJjbGljayIsImFsZXJ0IiwicmVzZXQiLCJjbGVhckludGVydmFsIiwib24iLCJlIiwicHJldmVudERlZmF1bHQiLCJlYWNoIiwiX3RoaXMyIiwiY2hlY2tlciIsImRhdGEiLCJ0b0xvd2VyQ2FzZSIsInNldFRpbWVvdXQiLCJyZW1vdmVDbGFzcyIsInRyaWdnZXIiLCJ3aW5kb3ciXSwibWFwcGluZ3MiOiJZQUFBQSxHQUFFLFdBdURBLFFBQUFDLEtBRUEsR0FBU0EsSUFBQUEsS0FBZUMsTUFBQUMsS0FBQUMsU0FDdEJDLEVBQUFDLFNBSUFDLEVBQUFGLEVBQUFHLEVBSUFILE9BREFBLEdBQUFJLE9BQUFELEVBQUEsR0FDQUgsRUFJRixRQUFBSyxHQUFBSCxHQUVFLE1BQUFBLEdBQUFJLE1BQUEsSUFBQUMsS0FBQSxXQUNBLE1BQU9MLEdBQUFBLEtBQWFJLFdBQ2xCRSxLQUFPLElBR1gsUUFBQUMsS0FDQSxHQUFBQyxHQUFTRCxFQUFBQSwyQkFDREMsRUFBQUEsS0FBYUMsS0FBQWIsS0FBQUMsVUFBQWEsRUFBbkIsS0FFQUYsT0FEQUEsR0FBTUcsS0FBT2YsS0FBQWUsSUFDYkgsRUFHRixRQUFBSSxLQUNBbkIsRUFBQSxZQUFTbUIsS0FBQUEsV0FBd0IsR0FBQUMsR0FBQUMsSUFDWmxCLE1BQUFtQixNQUFBdEIsRUFBWXFCLE1BQUFFLFdBQUFDLE1BQUFDLEVBQUEsS0FHM0JDLFFBQVFDLElBQUlDLEdBRlJMLEVBQUFBLE1BQUFBLFNBQWdCRCxpQkFBY0MsR0FBcEMsR0FDQU0sRUFBSU4sS0FBSixlQUE2QkssR0FDM0JGLEVBQUFBLE1BQVFDLElBQUlDLFFBQUFBLE9BQ1o1QixFQUFBcUIsTUFBTVMsU0FBTUMsd0JBQ1pGLFdBQUEsV0FDRTdCLEVBQUFBLEdBQU1nQyxVQUNOLFFBT1IsUUFBQUMsS0FFQVAsUUFBQUMsSUFBQVYsRUFDQSxJQUFBVixHQUFvQk4sSUFJWmlDLEVBQWdCeEIsRUFBZ0JILEdBRnRDbUIsRUFBQVosR0FDQXFCLEdBQU01QixLQUFlTixHQUNyQmtDLEVBQU1ELEtBQWdCeEIsWUFBQUEsR0FDdEIwQixFQUFNRCxPQUFBQSxHQUNOQSxZQUFBQSxXQUNBQSxFQUFnQkUsSUFBSyxNQUFBLFVBQ3JCRCxLQUNBRSxFQUFZQyxPQUdYLFFBQUNDLEtBQ0haLEVBQUEsRUFDREMsRUFBQVksS0FBQSxZQUNBQyxFQUFrQixFQUNoQmQsRUFBQWEsS0FBQSxzQkFDQVosRUFBQUEsWUFBWWMsU0F2SGQsR0FBSWxCLEdBQVN6QixFQUFFLGFBQWE0QyxhQUFZLEdBRHhDM0IsRUFBTWpCLEVBQUEsYUFBQWlCLFFBQ0ZRLEVBQVcsRUFDWFIsRUFBVSxFQUNWVyxFQUFKLEtBQ0ljLEVBQUFBLEVBQUFBLFVBQ0FGLEVBQWF4QyxFQUFBLFNBQ1g2QixFQUFXN0IsRUFBakIsaUJBQ002QyxFQUFjN0MsRUFBcEIsb0JBQ004QyxFQUFrQjlDLEVBQUEsdUJBQ2xCK0MsRUFBQUEsRUFBQUEsYUFDQUMsR0FDTkMsS0FBTWIsVUFBYXBDLFVBQUUsUUFBckIscUJBQUEsU0FBQSxZQUFBLFFBQUEsY0FBQSxhQUFBLFVBQUEsVUFBQSxhQUFBLFlBQUEsVUFBQSxPQUFBLGdCQUFBLGNBQUEsV0FBQSxjQUNBa0QsTUFBTUMsV0FBYSxRQUFBLFVBQUEsVUFBQSxTQUFBLFdBQUEsUUFBQSxTQUFBLE9BQUEsWUFBQSxVQUFBLFNBQUEsU0FBQSxRQUFBLFNBQUEsVUFBQSxhQUFBLGFBQUEsVUFBQSxVQUFBLFlBQUEsY0FDakJGLElBQUssVUFBQSxjQUFxQixVQUFRLFdBQUEsVUFBcUIsaUJBQVMsVUFBWSxZQUFRLFlBQWMsY0FBYSxZQUFVLFdBQVUsT0FBOUgsVUFDTEMsSUFBQUEsU0FBTyxhQUFELFdBQUEsV0FBQSxRQUF5QyxRQUFTLFNBQVcsU0FBUSxhQUFTLFNBQU8sU0FBWSxRQUFqRyxXQUFxSCxXQUFTLFVBQVEsWUFBUyxXQUFVLFFBQXpKLFVBQXNLLFVBQWEsUUFBVSxPQUFBLFlBQVUsVUFDN01FLEtBQUssV0FBVSxhQUFYLFNBQXlCLFdBQVUsY0FBbkMsU0FBd0QsUUFBeEQsWUFBQSxTQUFtRixRQUFZLGFBQVksY0FBYyxZQUFZLGNBQVcsVUFBTyxTQUgxSSxhQUFBLFdBQUEsU0FBQSxZQUFBLE9BQUEsWUFJakJDLElBQUssUUFFREMsR0FOTkMsTUFRTUQsU0FBQUEsSUFDSkMsTUFBTSxLQUNKQyxpQkFESSxHQUdKQyxRQUphRCxTQUFBLElBTWZFLE1BQVEsSUFDTkYsaUJBRE0sR0FHTkMsTUFUYUQsU0FBQSxJQVdmRyxNQUFNLElBQ0pILGlCQURJLElBR0pDLFFBZGFELFNBQUEsS0FnQmZJLE1BQVEsSUFDTkosaUJBRE0sS0FoQlZLLEVBQUEsR0FzQkF4RCxFQUFBLEVBQ0EwQyxHQUFJYyxHQUFBQSxTQUFKLFdBQ0EsR0FBSXhELEdBQUFBLEVBQUp5RCxLQUNBZixHQUFtQkksRUFBVVksS0FFM0IxRCxFQUFBQSxHQUFrQjhDLFNBQVdZLFdBRi9CRixFQUFBYixFQUFBYyxNQUlBZCxFQUFBQSxFQUFzQmEsR0FDcEJBLFFBQUFBLElBQUFBLEtBeUVBN0QsRUFBRWdFLE1BQVlyQixXQUNmLEdBQUEsS0FBQWtCLEdBQUEsS0FBQXhELEVBQ0Q0RCxNQUFBLHVGQUNBcEIsQ0FDRVosR0FDRWdDLElBQU1ULEdBQUFsQixZQUFBLFdBQ0RJLElBQUFGLEVBQUFpQixrQkFDTHhCLE1BQUFBLHFFQUNNdUIsY0FBV2xCLEdBQ2Y0QixLQUNRdEMsR0FBQSxHQUNOdUMsY0FBY1gsR0FDZFUsTUFBQUEsd0NBSEZBLEtBTUVELEtBRUR6QixFQUFLZ0IsYUFJVHhELEVBQUEsUUFBQW9FLEdBQUEsU0FBQSxTQUFBQyxHQWxCSEEsRUFBQUMsaUJBdUJJdEUsRUFBRSxZQUFZdUUsS0FBSyxXQUFZLEdBQUFDLEdBQUFuRCxLQUhqQ29ELEVBQUF6RSxFQUFBcUIsTUFBQXFELEtBQUEsT0FDVU4sR0FBVixXQUF1Qk4sTUFBQWEsZ0JBQWFGLEdBQ2hDSCxFQUFBQSxNQUFBQSxTQUFGLHNCQUFBdEMsSUFBQSxRQUFBLFdBQ0VjLEVBQWlCTCxLQUFqQixxQkFBNkJDLEdBQUEsSUFBQWtDLFdBQUEsV0FNekI1RSxFQUFBQSxHQUFRMkMsVUFMTjhCLE9BRUZ6RSxFQUFBLFlBQUY4QixTQUFpQixrQkFDakJnQixXQUFBQSxXQUNBOEIsRUFBQUEsWUFBV0MsWUFBTSxVQUNmN0UsUUFHRkEsRUFBQUEsUUFBRThFLFFBQVloRCxXQUlmOUIsRUFBQStFLFFBQUFYLEdBQUEsU0FBQSxXQWJIM0MsRUFBQXpCLEVBQUEsYUFBQTRDLGFBQUEsS0FGRjVDLEVBQUErRSxRQUFBWCxHQUFBLFNBQUEsV0F5QkVuRCxFQUFRakIsRUFBRSxhQUFhaUIiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJCgoKSA9PiB7XG4gIGxldCBoZWlnaHQgPSAkKCcuZ2FtZS1ib3gnKS5vdXRlckhlaWdodCh0cnVlKTtcbiAgbGV0IHdpZHRoID0gJCgnLmdhbWUtYm94Jykud2lkdGgoKTtcbiAgbGV0IGxpZmVTY29yZSA9IDU7XG4gIGxldCB3aW5Db25kaXRpb24gPSAwO1xuICBsZXQgZGlmZmljdWx0eSA9IG51bGw7XG4gIGNvbnN0ICRsaXZlcyA9ICQoJyNsaXZlcycpO1xuICBjb25zdCAkcGxheUdhbWUgPSAkKCcjcGxheScpO1xuICBjb25zdCAkd2luQ29uZGl0aW9uID0gJCgnI3dpbkNvbmRpdGlvbicpO1xuICBjb25zdCAkc3ViamVjdE9wdGlvbnMgPSAkKCcjc3ViamVjdC1vcHRpb25zJyk7XG4gIGNvbnN0ICRkaWZmaWN1bHR5T3B0aW9ucyA9ICQoJyNkaWZmaWN1bHR5LW9wdGlvbnMnKTtcbiAgY29uc3QgJGNvbnRhaW5lciA9ICQoJy5nYW1lLWJveCcpO1xuICBjb25zdCBjYXRlZ29yaWVzID0ge1xuICAgIEJCVDogWydzaGVsZG9uJywnbGVhbm9yZCcsJ3Nwb2NrJywnY2hlZXNlY2FrZSBmYWN0b3J5JywnaG93YXJkJywnc3RhciB0cmVrJywncGVubnknLCdrb290aHJhcG9saScsJ2Jlcm5hZGV0dGUnLCdwaHlzaWNzJywnbGF1bmRyeScsJ2hhbG8gbmlnaHQnLCdkdW1wbGluZ3MnLCAnYnJpc2tldCcsJ25hc2EnLCdzdHJpbmcgdGhlb3J5JywnZGFyayBtYXR0ZXInLCAnY29taWNjb24nLCdjb21pYyBib29rJ10sXG4gICAgTE9UUjogWydhcnJhZ29ybicsICdnaW1saScsJ2dhbmRhbGYnLCdsZWdvbGFzJywnbW9yZG9yJywndXJ1ayBoYWknLCdmcm9kbycsJ2dvbHVtbicsJ29yY3MnLCd0aGUgc2hpcmUnLCdiYWdnaW5zJywnc2F1cm9uJywgJ2dvbmRvcicsJ2VsdmVzJywnaG9iYml0JywnZHdhcnZlcycsJ3R3byB0b3dlcnMnLCdibGFjayBnYXRlJywnZmFyYW1pcicsJ3NhcnVtYW4nLCdzaGFkb3dmYXgnLCd3aXRjaCBraW5nJ10sXG4gICAgRlQ6IFsnYXJzZW5hbCcsJ2JvdXJuZW1vdXRoJywnYnVybmxleScsJ2JyaWdodG9uJywnY2hlbHNlYScsJ2NyeXN0YWwgcGFsYWNlJywnZXZlcnRvbicsJ2xpdmVycG9vbCcsJ25ld2Nhc3RsZScsJ3NvdXRoYW1wdG9uJywnYmFyY2Vsb25hJywnanV2ZW50dXMnLCdhamF4JywnYmF5ZXJuJ10sXG4gICAgQ0M6IFsndmllbm5hJywnYnJpZGdldG93bicsJ2JyYXNpbGlhJywnYnJ1c3NlbHMnLCdzb2ZpYScsJ2hhbm9pJywnb3R0b3dhJywnYmFuZ3VpJywnd2FzaGluZ3RvbicsJ2hhdmFuYScsJ3ByYXVnZScsJ2NhaXJvJywnaGVsc2lua2knLCdidWRhcGVzdCcsJ2pha2FydGEnLCdqZXJ1c2FsZW0nLCdraW5nc3RvbicsJ3Rva3lvJywnbmFpcm9iaScsJ2JlaWppbmcnLCdyYWJhdCcsJ29zbG8nLCdweW9uZ3lhbmcnLCdtYWRyaWQnXSxcbiAgICBXREk6IFsnZnVuY3Rpb24nLCdqYXZhc2NyaXB0Jywnc3dpdGNoJywncmVmYWN0b3InLCduYW1lc3BhY2luZycsJ2pxdWVyeScsJ2NvbnN0JywncHJpbWl0aXZlJywnb2JqZWN0JywnYXJyYXknLCdyZXNwb25zaXZlJywnY29uc3RydWN0b3InLCdyZWN1cnNpdmUnLCdpbmRlbnRhdGlvbicsJ2l0ZXJhdGUnLCdtZXRob2QnLCdhbGdvcml0aGltJywndGVybWluYWwnLCdnaXRodWInLCdkZWJ1Z2dpbmcnLCdsb29wJywndmFyaWFibGUnXSxcbiAgICBTVzogWydjc3MnXVxuICB9O1xuICBjb25zdCBzZXR0aW5ncyA9IHtcbiAgICBlYXN5OiB7XG4gICAgICBpbnRlcnZhbDogMTAwMDAsXG4gICAgICBzcGVlZDogMTUwMCxcbiAgICAgIHdpbm5pbmdDb25kaXRpb246IDVcbiAgICB9LFxuICAgIG1lZGl1bToge1xuICAgICAgaW50ZXJ2YWw6IDcwMDAsXG4gICAgICBzcGVlZDogMTAwMCxcbiAgICAgIHdpbm5pbmdDb25kaXRpb246IDdcbiAgICB9LFxuICAgIGhhcmQ6IHtcbiAgICAgIGludGVydmFsOiA1MDAwLFxuICAgICAgc3BlZWQ6IDcwMCxcbiAgICAgIHdpbm5pbmdDb25kaXRpb246IDEwXG4gICAgfSxcbiAgICBpbnNhbmU6IHtcbiAgICAgIGludGVydmFsOiAyNTAwLFxuICAgICAgc3BlZWQ6IDIwMCxcbiAgICAgIHdpbm5pbmdDb25kaXRpb246IDEwXG4gICAgfVxuICB9O1xuICAvLy8vLy8vLy8vLy8vLy8vLy8vL1NlbGVjdG9ycy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICBsZXQgc2VsZWN0ZWREaWZmaWN1bHR5ID0gJyc7XG4gIGxldCBzZWxlY3RlZFN1YmplY3QgPSAnJztcbiAgJHN1YmplY3RPcHRpb25zLm9uKCdjaGFuZ2UnLCAoKSA9PiB7XG4gICAgY29uc3QgdmFsdWUgPSAkc3ViamVjdE9wdGlvbnMudmFsKCk7XG4gICAgc2VsZWN0ZWRTdWJqZWN0ID0gY2F0ZWdvcmllc1t2YWx1ZV07XG4gIH0pO1xuICAkZGlmZmljdWx0eU9wdGlvbnMub24oJ2NoYW5nZScsICgpID0+IHtcbiAgICBzZWxlY3RlZERpZmZpY3VsdHkgPSAkZGlmZmljdWx0eU9wdGlvbnMudmFsKCk7XG4gICAgZGlmZmljdWx0eSA9IHNldHRpbmdzW3NlbGVjdGVkRGlmZmljdWx0eV07XG4gICAgY29uc29sZS5sb2coZGlmZmljdWx0eSk7XG4gIH0pO1xuICAvLy8vLy8vLy8vLy8vLy8vLy8vL1NlbGVjdG9ycyBFbmQvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgLy8vLy8vLy8vLy8vLy8vLy8vL0Z1bmN0aW9ucyB0aGF0IGNoYW5nZSB0aGUgd29yZC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgLy8vIFRoaXMgc2VsZWN0cyBhIHJhbmRvbSB3b3JkIGZyb20gdGhlIHNlbGVjdGVkIGFycmF5XG4gIGZ1bmN0aW9uIGdlbmVyYXRlV29yZCgpIHtcbiAgICAvLy9UaGlzIGdlbmVyYXRlcyBhIHJhbmRvbSBudW1iZXIgd2l0aGluIHRoZSBsZW5ndGggb2YgdGhlIGFycmF5LCBvZiB0aGUgc3ViamVjdCBzZWxlY3RlZCBieSB0aGUgdXNlciAoc2VsZWN0ZWRTdWJqZWN0KWFuZCBzdG9yZXMgaXRzIGluZGV4IGluIGEgdmFyaWFibGVcbiAgICAgIGNvbnN0IGluZGV4ID0gW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqXG4gICBzZWxlY3RlZFN1YmplY3QubGVuZ3RoKV07XG5cbiAgICAvLy8gVGhpcyB0YWtlcyB0aGUgc2VsZWN0ZWRTdWJqZWN0IGFuZCBpbiB0aGUgc3F1YXJlIGJyYWNrZXRzIHBhc3NlcyBpbiB0aGUgaW5kZXggdmFyaWFibGUgc28gdGhhdCB0aGUgbnVtYmVyIGdlbmVyZWF0ZWQgcmFuZG9tbHkgZnJvbSB0aGUgbGVuZ3RoIG9mIHRoZSBhcnJheSBub3cgc2VsZWN0cyB0aGF0IHdvcmQgYW5kIHN0b3JlcyBpdCBpbiBzZWxlY3RlZFdvcmRcbiAgICBjb25zdCBzZWxlY3RlZFdvcmQgPSBzZWxlY3RlZFN1YmplY3RbaW5kZXhdO1xuXG4gICAgLy8vIFRoaXMgdGFrZXMgdGhlIHNlbGVjdGVkU3ViamVjdCBhbmQgdXNpbmcgc3BsaWNlIGdldHMgcmlkIG9mIHRoZSB3b3JkIHRoYXQgd2FzIGp1c3QgcHJldmlvdXNseSBzdG9yZWQgaW4gdGhlIHNlbGVjdGVkV29yZCBvZmYgdGhlIGFycmF5IGJ5IHVzaW5nIGl0cyBpbmRleFxuICAgIHNlbGVjdGVkU3ViamVjdC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIHJldHVybiBzZWxlY3RlZFdvcmQ7XG4gIH1cblxuICAvLy8gVGhpcyB0YWtlcyB0aGUgcmFuZG9tbHkgc2VsZWN0ZWQgd29yZCBhbmQgc2h1ZmZsZXMgaXQgaW50byBhbiBhbmFncmFtXG4gIGZ1bmN0aW9uIGdlbmVyYXRlQW5hZ3JhbShzZWxlY3RlZFdvcmQpIHtcbiAgICAvLy8gVGhpcyBpcyBzcGxpdHRpbmcgdGhlIHNlbGVjdGVkV29yZCAoYSBzdHJpbmcpIGFwYXJ0IHRoZW4gc29ydGluZyBpdCBhXG4gICAgcmV0dXJuIHNlbGVjdGVkV29yZC5zcGxpdCgnJykuc29ydChmdW5jdGlvbigpe1xuICAgICAgcmV0dXJuIDAuNSAtIE1hdGgucmFuZG9tKCk7XG4gICAgfSApLmpvaW4oJycpO1xuICB9XG4gIC8vLy8vL1RoaXMgZ2VuZXJhdGVzIGEgZGlmZmVyZW50IGVsZW1lbnQgaW4gYSBkaWZmZXJudCBwb3NpdGlvbiBmcm9tIHRoZSBIVE1MXG4gIGZ1bmN0aW9uIGdlbmVyYXRlQW5hZ3JhbUVsZW1lbnQgKCkge1xuICAgIGNvbnN0ICRhbmFncmFtID0gJCgnPHAgY2xhc3M9XCJhbmFncmFtXCI+PC9wPicpO1xuICAgIGNvbnN0IGxlZnQgPSBNYXRoLmNlaWwoKE1hdGgucmFuZG9tKCkgKiAod2lkdGggLSAyNTApKSk7XG4gICAgJGFuYWdyYW0uY3NzKHtsZWZ0OiBsZWZ0fSk7XG4gICAgcmV0dXJuICRhbmFncmFtO1xuICB9XG4gIC8vLy8vLyBUaGlzIGlzIGZvciB3aGVuIHRoZSB3b3JkIGhpdHMgdGhlIGJvdHRvbSBhbmQgJ2ZhbGxzIG9mZidcbiAgZnVuY3Rpb24gYW5hZ3JhbUhpdHNUaGVCb3R0b20gKCkge1xuICAgICQoJy5hbmFncmFtJykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICBjb25zdCBwb3NpdGlvbiA9IE1hdGgucm91bmQoJCh0aGlzKS5wb3NpdGlvbigpLnRvcCk7XG4gICAgICBpZiAocG9zaXRpb24gPj0gaGVpZ2h0IC0gODApIHtcbiAgICAgICAgY29uc29sZS5sb2cobGlmZVNjb3JlKTtcbiAgICAgICAgaWYoISQodGhpcykuaGFzQ2xhc3MoJ2ZhZGVPdXREb3duJykpIGxpZmVTY29yZSAtPSAxO1xuICAgICAgICAkbGl2ZXMuaHRtbChgTGl2ZXMgTGVmdDogJHtsaWZlU2NvcmV9YCk7Ly9Ob3QgV29ya2luZ1xuICAgICAgICAkKHRoaXMpLmNzcygnY29sb3InLCdyZWQnKTtcbiAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnYW5pbWF0ZWQgZmFkZU91dERvd24nKTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgJCh0aGlzKS5yZW1vdmUoKTtcbiAgICAgICAgfSw1MDApO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIC8vLy8vLy8vLy8vLy8vLy8vLy9GdW5jdGlvbnMgdGhhdCBjaGFuZ2UgdGhlIHdvcmQvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgLy8vLy8vLy8vLy8vLy8vLy8vTWFpbiBmdWNudGlvbiB0byBwbGF5IGdhbWUgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICBmdW5jdGlvbiBwbGF5R2FtZSAoKXtcblxuICAgIGNvbnNvbGUubG9nKHdpZHRoKTtcbiAgICBjb25zdCBzZWxlY3RlZFdvcmQgPSBnZW5lcmF0ZVdvcmQoKTtcbiAgICBjb25zdCBzY3JhbWJsZWRXb3JkID0gZ2VuZXJhdGVBbmFncmFtKHNlbGVjdGVkV29yZCk7XG4gICAgY29uc3Qgc2VsZWN0ZWRBbmFncmFtID0gZ2VuZXJhdGVBbmFncmFtRWxlbWVudCgpO1xuICAgIHNlbGVjdGVkQW5hZ3JhbS50ZXh0KHNjcmFtYmxlZFdvcmQpO1xuICAgIHNlbGVjdGVkQW5hZ3JhbS5hdHRyKCdkYXRhLXdvcmQnLCBzZWxlY3RlZFdvcmQpO1xuICAgICRjb250YWluZXIuYXBwZW5kKHNlbGVjdGVkQW5hZ3JhbSk7XG4gICAgc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XG4gICAgICBzZWxlY3RlZEFuYWdyYW0uY3NzKCd0b3AnLCAnKz0xMHB4Jyk7XG4gICAgICBhbmFncmFtSGl0c1RoZUJvdHRvbSgpO1xuICAgIH0sZGlmZmljdWx0eS5zcGVlZCk7XG4gIH1cbiAgLy8vLy8vL1RoaXMgaXMgdGhlIHJlc2V0IGZ1bmN0aW9uIGFmdGVyIGEgZ2FtZSBoYXMgZmluaXNoZWQvLy8vLy8vLy8vLy8vLy8vXG4gIGZ1bmN0aW9uIHJlc2V0ICgpIHtcbiAgICBsaWZlU2NvcmUgPSA1O1xuICAgICRsaXZlcy5odG1sKCdMaXZlczogNScpO1xuICAgIHdpbkNvbmRpdGlvbiA9IDA7XG4gICAgJHdpbkNvbmRpdGlvbi5odG1sKCdDb3JyZWN0IEFuc3dlcnM6IDAnKTtcbiAgICAkKCcuYW5hZ3JhbScpLnJlbW92ZSgpO1xuICB9XG4gIC8vLyBUaGlzIGlzIGZvciB3aGVuIHRoZSBwbGF5ZXIgaXMgcmVhZHkgdG8gcGxheSwgYWZ0ZXIgdGhlIGRpZmZpY3VsdHkgaXMgc2VsZWN0ZWQgYW5kIHRoZSBwbGF5IGJ1dHRvbiBpcyBjbGlja2VkIC0gc28gdGhpcyBzdGFydHMgdGhlIGdhbWUhXG4gICRwbGF5R2FtZS5jbGljayggZnVuY3Rpb24oKXtcbiAgICBpZiAoc2VsZWN0ZWREaWZmaWN1bHR5ID09PSAnJyB8fCBzZWxlY3RlZFN1YmplY3QgPT09ICcnKSB7XG4gICAgICBhbGVydCgnQSBTdWJqZWN0IGFuZCBEaWZmaWN1bHR5IG5lZWRzIHRvIGJlIHNlbGVjdGVkIHRvIHByb2NlZWQsIHBsZWFzZSBjaG9vc2UgYm90aC4uLicpO1xuICAgIH0gZWxzZSB7XG4gICAgICBwbGF5R2FtZSgpO1xuICAgICAgY29uc3QgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpe1xuICAgICAgICBpZiAod2luQ29uZGl0aW9uID09PSBkaWZmaWN1bHR5Lndpbm5pbmdDb25kaXRpb24pIHtcbiAgICAgICAgICBhbGVydCgnWW91IGJlYXQgdGhlIGdhbWUgdGhpcyB0aW1lLCBjYW4geW91IG1hbmFnZSBoYXJkZXIgZGlmZmljdXRseS4uLj8nKTtcbiAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgICAgICAgICByZXNldCgpO1xuICAgICAgICB9IGVsc2UgaWYgKGxpZmVTY29yZSA8PSAwKXtcbiAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgICAgICAgICBhbGVydCgnR2FtZSBPdmVyLCBzb3JyeSB5b3UgbG9zdCwgQm9vb29vb28hJyk7XG4gICAgICAgICAgcmVzZXQoKTtcbiAgICAgICAgfSBlbHNle1xuICAgICAgICAgIHBsYXlHYW1lKCk7XG4gICAgICAgIH1cbiAgICAgIH0sZGlmZmljdWx0eS5pbnRlcnZhbCk7XG4gICAgfX0pO1xuXG4gICAgLy8vIFRoaXMgaXMgdGhlIHZhbGlkYXRpb24gd2hlbiB0aGUgYnV0dG9uIGlzIGNsaWNrZWQgdG8gc3VibWl0IGFuIGFuc3dlciwgdGhpcyBhbHNvIGhvbGRzIHRoZSBhbmltYXRpb25zIGFwcGxpZWQgdG8gdGhlIGdhbWUuXG4gICAgJCgnZm9ybScpLm9uKCdzdWJtaXQnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgJCgnLmFuYWdyYW0nKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc3QgY2hlY2tlciA9ICQodGhpcykuZGF0YSgnd29yZCcpO1xuICAgICAgICBpZiAoJCgnI2Fuc3dlcicpLnZhbCgpLnRvTG93ZXJDYXNlKCkgPT09IGNoZWNrZXIpe1xuICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2FuaW1hdGVkIGZhZGVPdXRVcCcpLmNzcygnY29sb3InLCcjMzlGRjE0Jyk7XG4gICAgICAgICAgJHdpbkNvbmRpdGlvbi5odG1sKGBDb3JyZWN0IEFuc3dlcnM6ICR7d2luQ29uZGl0aW9uID0gd2luQ29uZGl0aW9uICsgMX1gKTtcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICQodGhpcykucmVtb3ZlKCk7XG4gICAgICAgICAgfSw1MDApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICQoJy5hbmFncmFtJykuYWRkQ2xhc3MoJ2FuaW1hdGVkIGplbGxvJyk7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAkKCcuYW5hZ3JhbScpLnJlbW92ZUNsYXNzKCdqZWxsbycpO1xuICAgICAgICAgIH0sNTAwKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICAkKCdmb3JtJykudHJpZ2dlcigncmVzZXQnKTtcbiAgICB9KTtcblxuICAgIC8vLy8vIHRoaXMgY2hhbmdlcyB0aGUgaGVpZ2h0IHByb3BlcnR5IGJhc2VkIG9uIHRoZSByZXNpemluZyBvZiB0aGUgYnJvd3NlcnMgd2luZG93XG4gICAgJCh3aW5kb3cpLm9uKCdyZXNpemUnLCAoKSA9PiB7XG4gICAgICBoZWlnaHQgPSAkKCcuZ2FtZS1ib3gnKS5vdXRlckhlaWdodCh0cnVlKTtcbiAgICB9KTtcbiAgICAkKHdpbmRvdykub24oJ3Jlc2l6ZScsICgpID0+IHtcbiAgICAgIHdpZHRoID0gJCgnLmdhbWUtYm94Jykud2lkdGgoKTtcbiAgICB9KTtcblxuICAgIC8vLy8vLyBlbmQgb2YgdGhlIERPTTtcbiAgfSk7XG4iXX0=
