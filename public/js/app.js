"use strict";$(function(){function e(){var e=[Math.floor(Math.random()*y.length)],o=y[e];return y.splice(e,1),o}function o(e){return e.split("").sort(function(){return.5-Math.random()}).join("")}function a(){var e=$('<p class="anagram"></p>'),o=Math.ceil(Math.random()*(s-250));return e.css({left:o}),e}function n(){$(".anagram").each(function(){var e=this;Math.round($(this).position().top)>=r-85&&($(this).hasClass("hinge")||(l-=1),d.html("Lives Left: "+l),$(this).css("color","red"),$(this).addClass("animated hinge"),setTimeout(function(){$(e).remove()},500))})}function t(){var t=e(),i=o(t),r=a();r.text(i),r.attr("data-word",t),p.append(r),setInterval(function(){r.css("top","+=10px"),n()},u.speed)}function i(){l=5,d.html("Lives: 5"),c=0,h.html("Correct Answers: 0"),$(".anagram").remove()}var r=$(".game-box").outerHeight(!0),s=$(".game-box").width(),l=5,c=0,u=null,d=$("#lives"),m=$("#play"),h=$("#winCondition"),g=$("#subject-options"),f=$("#difficulty-options"),p=$(".game-box"),v={BBT:["sheldon","leanord","spock","cheesecake factory","howard","star trek","penny","koothrapoli","bernadette","physics","laundry","halo night","dumplings","brisket","nasa","string theory","dark matter","comiccon","comic book"],LOTR:["arragorn","gimli","gandalf","legolas","mordor","uruk hai","frodo","golumn","orcs","the shire","baggins","sauron","gondor","elves","hobbit","dwarves","two towers","black gate","faramir","saruman","shadowfax","witch king"],FT:["arsenal","bournemouth","burnley","brighton","chelsea","crystal palace","everton","liverpool","newcastle","southampton","barcelona","juventus","ajax","bayern"],CC:["vienna","bridgetown","brasilia","brussels","sofia","hanoi","ottowa","bangui","washington","havana","prague","cairo","helsinki","budapest","jakarta","jerusalem","kingston","tokyo","nairobi","beijing","rabat","oslo","pyongyang","madrid"],AMG:["kath","jake moore","rolls royce","fucking geoff","pod","robinson","nat yeo","xcina","knowlesey","tinder","petit blue","investment","thomson reuters"," moorhouse","pizza pilgrim","pdog","ewelina","workflow","10am stand up","tea cakes","momentum","james","harrison","kiddie fiddler","we love soup","fuckoffee","jesus ruby","roger the dodger"],WDI:["function","javascript","switch","refactor","namespacing","jquery","const","primitive","object","array","responsive","constructor","recursive","indentation","iterate","method","algorithim","terminal","github","debugging","loop","variable"]},b={easy:{interval:1e4,speed:1500,winningCondition:5},medium:{interval:7e3,speed:1e3,winningCondition:7},hard:{interval:5e3,speed:700,winningCondition:10},insane:{interval:2500,speed:200,winningCondition:10}},w="",y="";g.on("change",function(){var e=g.val();y=v[e]}),f.on("change",function(){w=f.val(),u=b[w]}),m.click(function(){if($("form").focus($("form")),""===w||""===y)alert("A Subject and Difficulty needs to be selected to proceed, please choose both...");else{t();var e=setInterval(function(){c===u.winningCondition?(alert("You beat the game this time, can you manage harder difficutly...?"),clearInterval(e),i()):l<=0?(clearInterval(e),alert("Game Over, sorry you lost, Booooooo!"),i()):t()},u.interval)}}),$("form").on("submit",function(e){e.preventDefault(),$(".anagram").each(function(){var e=this,o=$(this).data("word");$("#answer").val().toLowerCase()===o?($(this).addClass("animated flipOutY").css("color","#39FF14"),$(this).removeClass("animated jello").css("color","#39FF14"),h.html("Correct Answers: "+(c+=1)),setTimeout(function(){$(e).remove()},700)):($(".anagram").addClass("animated jello"),setTimeout(function(){$(".anagram").removeClass("jello")},500))}),$("form").trigger("reset")}),$(window).on("resize",function(){r=$(".game-box").outerHeight(!0),s=$(".game-box").width()})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyIkIiwiZ2VuZXJhdGVXb3JkIiwiaW5kZXgiLCJmbG9vciIsIk1hdGgiLCJyYW5kb20iLCJzZWxlY3RlZFN1YmplY3QiLCJzZWxlY3RlZFdvcmQiLCJzcGxpY2UiLCJnZW5lcmF0ZUFuYWdyYW0iLCJzcGxpdCIsInNvcnQiLCJqb2luIiwiZ2VuZXJhdGVBbmFncmFtRWxlbWVudCIsIiRhbmFncmFtIiwibGVmdCIsImNlaWwiLCJ3aWR0aCIsImNzcyIsImFuYWdyYW1IaXRzVGhlQm90dG9tIiwiZWFjaCIsIl90aGlzIiwidGhpcyIsInJvdW5kIiwicG9zaXRpb24iLCJ0b3AiLCJoZWlnaHQiLCJsaWZlU2NvcmUiLCJoYXNDbGFzcyIsIiRsaXZlcyIsImh0bWwiLCJzZXRUaW1lb3V0IiwiYWRkQ2xhc3MiLCJwbGF5R2FtZSIsInNlbGVjdGVkQW5hZ3JhbSIsInNjcmFtYmxlZFdvcmQiLCIkY29udGFpbmVyIiwic2V0SW50ZXJ2YWwiLCJyZXNldCIsIndpbkNvbmRpdGlvbiIsInJlbW92ZSIsIm91dGVySGVpZ2h0IiwiZGlmZmljdWx0eSIsIiRwbGF5R2FtZSIsIiR3aW5Db25kaXRpb24iLCIkc3ViamVjdE9wdGlvbnMiLCIkZGlmZmljdWx0eU9wdGlvbnMiLCJCQlQiLCJMT1RSIiwiY2F0ZWdvcmllcyIsIkZUIiwiQ0MiLCJBTUciLCJzZXR0aW5ncyIsImVhc3kiLCJpbnRlcnZhbCIsInNwZWVkIiwibWVkaXVtIiwiaGFyZCIsImluc2FuZSIsInNlbGVjdGVkRGlmZmljdWx0eSIsIm9uIiwidmFsIiwiY2xpY2siLCJmb2N1cyIsImFsZXJ0IiwiY2xlYXJJbnRlcnZhbCIsImUiLCJwcmV2ZW50RGVmYXVsdCIsIl90aGlzMiIsImRhdGEiLCJ0b0xvd2VyQ2FzZSIsImNoZWNrZXIiLCJyZW1vdmVDbGFzcyIsInRyaWdnZXIiLCJ3aW5kb3ciXSwibWFwcGluZ3MiOiJZQUFBQSxHQUFFLFdBMERBLFFBQUFDLEtBQ0EsR0FBQUMsSUFB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UixrQkFERlQsV0FBQSxXQUpGL0IsRUFRTyxZQUFBeUUsWUFBQSxVQUNILFFBR0R6RSxFQUFBLFFBRkQwRSxRQUFBLFdBS0oxRSxFQUFFMkUsUUFBUUQsR0FBQUEsU0FBUSxXQXBCcEJoRCxFQUFBMUIsRUFBQSxhQUFBeUMsYUFBQSxHQXNCQXhCLEVBQUFqQixFQUFBLGFBQUFpQiIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIkKCgpID0+IHtcbiAgbGV0IGhlaWdodCA9ICQoJy5nYW1lLWJveCcpLm91dGVySGVpZ2h0KHRydWUpO1xuICBsZXQgd2lkdGggPSAkKCcuZ2FtZS1ib3gnKS53aWR0aCgpO1xuICBsZXQgbGlmZVNjb3JlID0gNTtcbiAgbGV0IHdpbkNvbmRpdGlvbiA9IDA7XG4gIGxldCBkaWZmaWN1bHR5ID0gbnVsbDtcbiAgY29uc3QgJGxpdmVzID0gJCgnI2xpdmVzJyk7XG4gIGNvbnN0ICRwbGF5R2FtZSA9ICQoJyNwbGF5Jyk7XG4gIGNvbnN0ICR3aW5Db25kaXRpb24gPSAkKCcjd2luQ29uZGl0aW9uJyk7XG4gIGNvbnN0ICRzdWJqZWN0T3B0aW9ucyA9ICQoJyNzdWJqZWN0LW9wdGlvbnMnKTtcbiAgY29uc3QgJGRpZmZpY3VsdHlPcHRpb25zID0gJCgnI2RpZmZpY3VsdHktb3B0aW9ucycpO1xuICBjb25zdCAkY29udGFpbmVyID0gJCgnLmdhbWUtYm94Jyk7XG4gIGNvbnN0IGNhdGVnb3JpZXMgPSB7XG4gICAgQkJUOiBbJ3NoZWxkb24nLCdsZWFub3JkJywnc3BvY2snLCdjaGVlc2VjYWtlIGZhY3RvcnknLCdob3dhcmQnLCdzdGFyIHRyZWsnLCdwZW5ueScsJ2tvb3RocmFwb2xpJywnYmVybmFkZXR0ZScsJ3BoeXNpY3MnLCdsYXVuZHJ5JywnaGFsbyBuaWdodCcsJ2R1bXBsaW5ncycsICdicmlza2V0JywnbmFzYScsJ3N0cmluZyB0aGVvcnknLCdkYXJrIG1hdHRlcicsICdjb21pY2NvbicsJ2NvbWljIGJvb2snXSxcbiAgICBMT1RSOiBbJ2FycmFnb3JuJywgJ2dpbWxpJywnZ2FuZGFsZicsJ2xlZ29sYXMnLCdtb3Jkb3InLCd1cnVrIGhhaScsJ2Zyb2RvJywnZ29sdW1uJywnb3JjcycsJ3RoZSBzaGlyZScsJ2JhZ2dpbnMnLCdzYXVyb24nLCAnZ29uZG9yJywnZWx2ZXMnLCdob2JiaXQnLCdkd2FydmVzJywndHdvIHRvd2VycycsJ2JsYWNrIGdhdGUnLCdmYXJhbWlyJywnc2FydW1hbicsJ3NoYWRvd2ZheCcsJ3dpdGNoIGtpbmcnXSxcbiAgICBGVDogWydhcnNlbmFsJywnYm91cm5lbW91dGgnLCdidXJubGV5JywnYnJpZ2h0b24nLCdjaGVsc2VhJywnY3J5c3RhbCBwYWxhY2UnLCdldmVydG9uJywnbGl2ZXJwb29sJywnbmV3Y2FzdGxlJywnc291dGhhbXB0b24nLCdiYXJjZWxvbmEnLCdqdXZlbnR1cycsJ2FqYXgnLCdiYXllcm4nXSxcbiAgICBDQzogWyd2aWVubmEnLCdicmlkZ2V0b3duJywnYnJhc2lsaWEnLCdicnVzc2VscycsJ3NvZmlhJywnaGFub2knLCdvdHRvd2EnLCdiYW5ndWknLCd3YXNoaW5ndG9uJywnaGF2YW5hJywncHJhZ3VlJywnY2Fpcm8nLCdoZWxzaW5raScsJ2J1ZGFwZXN0JywnamFrYXJ0YScsJ2plcnVzYWxlbScsJ2tpbmdzdG9uJywndG9reW8nLCduYWlyb2JpJywnYmVpamluZycsJ3JhYmF0Jywnb3NsbycsJ3B5b25neWFuZycsJ21hZHJpZCddLFxuICAgIEFNRzpcbiAgICBbJ2thdGgnLCdqYWtlIG1vb3JlJywncm9sbHMgcm95Y2UnLCdmdWNraW5nIGdlb2ZmJywncG9kJywncm9iaW5zb24nLCduYXQgeWVvJywneGNpbmEnLCdrbm93bGVzZXknLCd0aW5kZXInLCdwZXRpdCBibHVlJywnaW52ZXN0bWVudCcsJ3Rob21zb24gcmV1dGVycycsJyBtb29yaG91c2UnLCdwaXp6YSBwaWxncmltJywncGRvZycsJ2V3ZWxpbmEnLCd3b3JrZmxvdycsJzEwYW0gc3RhbmQgdXAnLCd0ZWEgY2FrZXMnLCdtb21lbnR1bScsJ2phbWVzJywnaGFycmlzb24nLCdraWRkaWUgZmlkZGxlcicsJ3dlIGxvdmUgc291cCcsJ2Z1Y2tvZmZlZScsJ2plc3VzIHJ1YnknLCdyb2dlciB0aGUgZG9kZ2VyJ10sXG4gICAgV0RJOiBbJ2Z1bmN0aW9uJywnamF2YXNjcmlwdCcsJ3N3aXRjaCcsJ3JlZmFjdG9yJywnbmFtZXNwYWNpbmcnLCdqcXVlcnknLCdjb25zdCcsJ3ByaW1pdGl2ZScsJ29iamVjdCcsJ2FycmF5JywncmVzcG9uc2l2ZScsJ2NvbnN0cnVjdG9yJywncmVjdXJzaXZlJywnaW5kZW50YXRpb24nLCdpdGVyYXRlJywnbWV0aG9kJywnYWxnb3JpdGhpbScsJ3Rlcm1pbmFsJywnZ2l0aHViJywnZGVidWdnaW5nJywnbG9vcCcsJ3ZhcmlhYmxlJ11cblxuICB9O1xuICBjb25zdCBzZXR0aW5ncyA9IHtcbiAgICBlYXN5OiB7XG4gICAgICBpbnRlcnZhbDogMTAwMDAsXG4gICAgICBzcGVlZDogMTUwMCxcbiAgICAgIHdpbm5pbmdDb25kaXRpb246IDVcbiAgICB9LFxuICAgIG1lZGl1bToge1xuICAgICAgaW50ZXJ2YWw6IDcwMDAsXG4gICAgICBzcGVlZDogMTAwMCxcbiAgICAgIHdpbm5pbmdDb25kaXRpb246IDdcbiAgICB9LFxuICAgIGhhcmQ6IHtcbiAgICAgIGludGVydmFsOiA1MDAwLFxuICAgICAgc3BlZWQ6IDcwMCxcbiAgICAgIHdpbm5pbmdDb25kaXRpb246IDEwXG4gICAgfSxcbiAgICBpbnNhbmU6IHtcbiAgICAgIGludGVydmFsOiAyNTAwLFxuICAgICAgc3BlZWQ6IDIwMCxcbiAgICAgIHdpbm5pbmdDb25kaXRpb246IDEwXG4gICAgfVxuICB9O1xuICAvLy8vLy8vLy8vLy8vLy8vLy8vL1NlbGVjdG9ycy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICBsZXQgc2VsZWN0ZWREaWZmaWN1bHR5ID0gJyc7XG4gIGxldCBzZWxlY3RlZFN1YmplY3QgPSAnJztcbiAgJHN1YmplY3RPcHRpb25zLm9uKCdjaGFuZ2UnLCgpID0+IHtcbiAgICBjb25zdCB2YWx1ZSA9ICRzdWJqZWN0T3B0aW9ucy52YWwoKTtcbiAgICBzZWxlY3RlZFN1YmplY3QgPSBjYXRlZ29yaWVzW3ZhbHVlXTtcbiAgfSk7XG4gICRkaWZmaWN1bHR5T3B0aW9ucy5vbignY2hhbmdlJywgKCkgPT4ge1xuICAgIHNlbGVjdGVkRGlmZmljdWx0eSA9ICRkaWZmaWN1bHR5T3B0aW9ucy52YWwoKTtcbiAgICBkaWZmaWN1bHR5ID0gc2V0dGluZ3Nbc2VsZWN0ZWREaWZmaWN1bHR5XTtcbiAgfSk7XG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vU2VsZWN0b3JzIEVuZC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy9GdW5jdGlvbnMgdGhhdCBjaGFuZ2UgdGhlIHdvcmQvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIC8vLyBUaGlzIHNlbGVjdHMgYSByYW5kb20gd29yZCBmcm9tIHRoZSBzZWxlY3RlZCBhcnJheVxuICBmdW5jdGlvbiBnZW5lcmF0ZVdvcmQoKSB7XG4gICAgY29uc3QgaW5kZXggPSBbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICpcbiAgICAgIHNlbGVjdGVkU3ViamVjdC5sZW5ndGgpXTtcbiAgICBjb25zdCBzZWxlY3RlZFdvcmQgPSBzZWxlY3RlZFN1YmplY3RbaW5kZXhdO1xuICAgIHNlbGVjdGVkU3ViamVjdC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIHJldHVybiBzZWxlY3RlZFdvcmQ7XG4gIH1cbiAgICAvLy8gVGhpcyB0YWtlcyB0aGUgcmFuZG9tbHkgc2VsZWN0ZWQgd29yZCBhbmQgc2h1ZmZsZXMgaXQgaW50byBhbiBhbmFncmFtXG4gICAgICBmdW5jdGlvbiBnZW5lcmF0ZUFuYWdyYW0oc2VsZWN0ZWRXb3JkKSB7XG4gICAgICAvLy8gVGhpcyBpcyBzcGxpdHRpbmcgdGhlIHNlbGVjdGVkV29yZCAoYSBzdHJpbmcpIGFwYXJ0IHRoZW4gc29ydGluZyBpdCBhXG4gICAgICAgIHJldHVybiBzZWxlY3RlZFdvcmQuc3BsaXQoJycpLnNvcnQoZnVuY3Rpb24oKXtcbiAgICAgICAgICByZXR1cm4gMC41IC0gTWF0aC5yYW5kb20oKTtcbiAgICAgICAgfSApLmpvaW4oJycpO1xuICAgICAgfVxuICAgIC8vLy8vL1RoaXMgZ2VuZXJhdGVzIGEgZGlmZmVyZW50IGVsZW1lbnQgaW4gYSBkaWZmZXJudCBwb3NpdGlvbiBmcm9tIHRoZSBIVE1MXG4gICAgZnVuY3Rpb24gZ2VuZXJhdGVBbmFncmFtRWxlbWVudCAoKSB7XG4gICAgICBjb25zdCAkYW5hZ3JhbSA9ICQoJzxwIGNsYXNzPVwiYW5hZ3JhbVwiPjwvcD4nKTtcbiAgICAgIGNvbnN0IGxlZnQgPSBNYXRoLmNlaWwoKE1hdGgucmFuZG9tKCkgKiAod2lkdGggLSAyNTApKSk7XG4gICAgICAkYW5hZ3JhbS5jc3Moe2xlZnQ6IGxlZnR9KTtcbiAgICAgIHJldHVybiAkYW5hZ3JhbTtcbiAgICB9XG4gICAgLy8vLy8vIFRoaXMgaXMgZm9yIHdoZW4gdGhlIHdvcmQgaGl0cyB0aGUgYm90dG9tIGFuZCAnZmFsbHMgb2ZmJ1xuICAgIGZ1bmN0aW9uIGFuYWdyYW1IaXRzVGhlQm90dG9tICgpIHtcbiAgICAgICQoJy5hbmFncmFtJykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnN0IHBvc2l0aW9uID0gTWF0aC5yb3VuZCgkKHRoaXMpLnBvc2l0aW9uKCkudG9wKTtcbiAgICAgICAgaWYgKHBvc2l0aW9uID49IGhlaWdodCAtIDg1KSB7XG4gICAgICAgICAgaWYoISQodGhpcykuaGFzQ2xhc3MoJ2hpbmdlJykpIGxpZmVTY29yZSAtPSAxO1xuICAgICAgICAgICRsaXZlcy5odG1sKGBMaXZlcyBMZWZ0OiAke2xpZmVTY29yZX1gKTtcbiAgICAgICAgICAkKHRoaXMpLmNzcygnY29sb3InLCdyZWQnKTtcbiAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdhbmltYXRlZCBoaW5nZScpO1xuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmUoKTtcbiAgICAgICAgICB9LDUwMCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vRnVuY3Rpb25zIHRoYXQgY2hhbmdlIHRoZSB3b3JkLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgIC8vLy8vLy8vLy8vLy8vLy8vL01haW4gZnVjbnRpb24gdG8gcGxheSBnYW1lIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICBmdW5jdGlvbiBwbGF5R2FtZSAoKXtcbiAgICAgIGNvbnN0IHNlbGVjdGVkV29yZCA9IGdlbmVyYXRlV29yZCgpO1xuICAgICAgY29uc3Qgc2NyYW1ibGVkV29yZCA9IGdlbmVyYXRlQW5hZ3JhbShzZWxlY3RlZFdvcmQpO1xuICAgICAgY29uc3Qgc2VsZWN0ZWRBbmFncmFtID0gZ2VuZXJhdGVBbmFncmFtRWxlbWVudCgpO1xuICAgICAgc2VsZWN0ZWRBbmFncmFtLnRleHQoc2NyYW1ibGVkV29yZCk7XG4gICAgICBzZWxlY3RlZEFuYWdyYW0uYXR0cignZGF0YS13b3JkJywgc2VsZWN0ZWRXb3JkKTtcbiAgICAgICRjb250YWluZXIuYXBwZW5kKHNlbGVjdGVkQW5hZ3JhbSk7XG4gICAgICBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHtcbiAgICAgICAgc2VsZWN0ZWRBbmFncmFtLmNzcygndG9wJywgJys9MTBweCcpO1xuICAgICAgICBhbmFncmFtSGl0c1RoZUJvdHRvbSgpO1xuICAgICAgfSwgZGlmZmljdWx0eS5zcGVlZCk7XG4gICAgfVxuICAgIC8vLy8vLy9UaGlzIGlzIHRoZSByZXNldCBmdW5jdGlvbiBhZnRlciBhIGdhbWUgaGFzIGZpbmlzaGVkLy8vLy8vLy8vLy8vLy8vL1xuICAgIGZ1bmN0aW9uIHJlc2V0ICgpIHtcbiAgICAgIGxpZmVTY29yZSA9IDU7XG4gICAgICAkbGl2ZXMuaHRtbCgnTGl2ZXM6IDUnKTtcbiAgICAgIHdpbkNvbmRpdGlvbiA9IDA7XG4gICAgICAkd2luQ29uZGl0aW9uLmh0bWwoJ0NvcnJlY3QgQW5zd2VyczogMCcpO1xuICAgICAgJCgnLmFuYWdyYW0nKS5yZW1vdmUoKTtcbiAgICB9XG4gICAgLy8vIFRoaXMgaXMgZm9yIHdoZW4gdGhlIHBsYXllciBpcyByZWFkeSB0byBwbGF5LCBhZnRlciB0aGUgZGlmZmljdWx0eSBpcyBzZWxlY3RlZCBhbmQgdGhlIHBsYXkgYnV0dG9uIGlzIGNsaWNrZWQgLSBzbyB0aGlzIHN0YXJ0cyB0aGUgZ2FtZSFcbiAgICAkcGxheUdhbWUuY2xpY2soIGZ1bmN0aW9uKCl7XG4gICAgICAkKCdmb3JtJykuZm9jdXMoJCgnZm9ybScpKTtcbiAgICAgIGlmIChzZWxlY3RlZERpZmZpY3VsdHkgPT09ICcnIHx8IHNlbGVjdGVkU3ViamVjdCA9PT0gJycpIHtcbiAgICAgICAgYWxlcnQoJ0EgU3ViamVjdCBhbmQgRGlmZmljdWx0eSBuZWVkcyB0byBiZSBzZWxlY3RlZCB0byBwcm9jZWVkLCBwbGVhc2UgY2hvb3NlIGJvdGguLi4nKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBsYXlHYW1lKCk7XG4gICAgICAgIGNvbnN0IGludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtcbiAgICAgICAgICBpZiAod2luQ29uZGl0aW9uID09PSBkaWZmaWN1bHR5Lndpbm5pbmdDb25kaXRpb24pIHtcbiAgICAgICAgICAgIGFsZXJ0KCdZb3UgYmVhdCB0aGUgZ2FtZSB0aGlzIHRpbWUsIGNhbiB5b3UgbWFuYWdlIGhhcmRlciBkaWZmaWN1dGx5Li4uPycpO1xuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gICAgICAgICAgICByZXNldCgpO1xuICAgICAgICAgIH0gZWxzZSBpZiAobGlmZVNjb3JlIDw9IDApe1xuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gICAgICAgICAgICBhbGVydCgnR2FtZSBPdmVyLCBzb3JyeSB5b3UgbG9zdCwgQm9vb29vb28hJyk7XG4gICAgICAgICAgICByZXNldCgpO1xuICAgICAgICAgIH0gZWxzZXtcbiAgICAgICAgICAgIHBsYXlHYW1lKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LGRpZmZpY3VsdHkuaW50ZXJ2YWwpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIC8vLyBUaGlzIGlzIHRoZSB2YWxpZGF0aW9uIHdoZW4gdGhlIGJ1dHRvbiBpcyBjbGlja2VkIHRvIHN1Ym1pdCBhbiBhbnN3ZXIsIHRoaXMgYWxzbyBob2xkcyB0aGUgYW5pbWF0aW9ucyBhcHBsaWVkIHRvIHRoZSBnYW1lLlxuICAgICQoJ2Zvcm0nKS5vbignc3VibWl0JywgZnVuY3Rpb24gKGUpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICQoJy5hbmFncmFtJykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnN0IGNoZWNrZXIgPSAkKHRoaXMpLmRhdGEoJ3dvcmQnKTtcblxuICAgICAgICBpZiAoJCgnI2Fuc3dlcicpLnZhbCgpLnRvTG93ZXJDYXNlKCkgPT09IGNoZWNrZXIpe1xuICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2FuaW1hdGVkIGZsaXBPdXRZJykuY3NzKCdjb2xvcicsJyMzOUZGMTQnKTtcbiAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdhbmltYXRlZCBqZWxsbycpLmNzcygnY29sb3InLCcjMzlGRjE0Jyk7XG4gICAgICAgICAgJHdpbkNvbmRpdGlvbi5odG1sKGBDb3JyZWN0IEFuc3dlcnM6ICR7d2luQ29uZGl0aW9uID13aW5Db25kaXRpb24gKyAxfWApO1xuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmUoKTtcbiAgICAgICAgICB9LDcwMCk7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAkKCcuYW5hZ3JhbScpLmFkZENsYXNzKCdhbmltYXRlZCBqZWxsbycpO1xuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgJCgnLmFuYWdyYW0nKS5yZW1vdmVDbGFzcygnamVsbG8nKTtcbiAgICAgICAgICB9LDUwMCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgJCgnZm9ybScpLnRyaWdnZXIoJ3Jlc2V0Jyk7XG4gICAgfSk7XG4gICAgLy8vLy8gdGhpcyBjaGFuZ2VzIHRoZSBoZWlnaHQgcHJvcGVydHkgYmFzZWQgb24gdGhlIHJlc2l6aW5nIG9mIHRoZSBicm93c2VycyB3aW5kb3dcbiAgICAkKHdpbmRvdykub24oJ3Jlc2l6ZScsICgpID0+IHtcbiAgICAgIGhlaWdodCA9ICQoJy5nYW1lLWJveCcpLm91dGVySGVpZ2h0KHRydWUpO1xuICAgICAgd2lkdGggPSAkKCcuZ2FtZS1ib3gnKS53aWR0aCgpO1xuICAgIH0pO1xuICB9KTtcbiJdfQ==
