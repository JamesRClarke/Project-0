"use strict";$(function(){function e(){var e=[Math.floor(Math.random()*y.length)],n=y[e];return y.splice(e,1),n}function n(e){return e.split("").sort(function(){return.5-Math.random()}).join("")}function o(){var e=$('<p class="anagram"></p>'),n=Math.ceil(Math.random()*(s-250));return e.css({left:n}),e}function a(){$(".anagram").each(function(){var e=this;Math.round($(this).position().top)>=r-80&&(console.log(l),$(this).hasClass("hinge")||(l-=1),d.html("Lives Left: "+l),$(this).css("color","red"),$(this).addClass("animated hinge"),setTimeout(function(){$(e).remove()},500))})}function t(){console.log(s);var t=e(),i=n(t),r=o();r.text(i),r.attr("data-word",t),v.append(r),setInterval(function(){r.css("top","+=10px"),a()},u.speed)}function i(){l=5,d.html("Lives: 5"),c=0,h.html("Correct Answers: 0"),$(".anagram").remove()}var r=$(".game-box").outerHeight(!0),s=$(".game-box").width();console.log(s),console.log(s);var l=5,c=0,u=null,d=$("#lives"),g=$("#play"),h=$("#winCondition"),m=$("#subject-options"),f=$("#difficulty-options"),v=$(".game-box"),p={BBT:["sheldon","leanord","spock","cheesecake factory","howard","star trek","penny","koothrapoli","bernadette","physics","laundry","halo night","dumplings","brisket","nasa","string theory","dark matter","comiccon","comic book"],LOTR:["arragon","gimli","gandalf","legolas","mordor","uruk hai","frodo","golumn","orcs","the shire","baggins","sauron","gondor","elves","hobbit","dwarves","two towers","black gate","faramir","saruman","shadowfax","witch king"],FT:["arsenal","bournemouth","burnley","brighton","chelsea","crystal palace","everton","liverpool","newcastle","southampton","barcelona","juventus","ajax","bayern"],CC:["vienna","bridgetown","brasilia","brussels","sofia","hanoi","ottowa","bangui","washington","havana","prauge","cairo","helsinki","budapest","jakarta","jerusalem","kingston","tokyo","nairobi","beijing","rabat","oslo","pyongyang","madrid"],WDI:["function","javascript","switch","refactor","namespacing","jquery","const","primitive","object","array","responsive","constructor","recursive","indentation","iterate","method","algorithim","terminal","github","debugging","loop","variable"]},b={easy:{interval:1e4,speed:1500,winningCondition:5},medium:{interval:7e3,speed:1e3,winningCondition:7},hard:{interval:5e3,speed:700,winningCondition:10},insane:{interval:2500,speed:200,winningCondition:10}},w="",y="";m.on("change",function(){var e=m.val();y=p[e]}),f.on("change",function(){w=f.val(),u=b[w],console.log(u)}),g.click(function(){if(""===w||""===y)alert("A Subject and Difficulty needs to be selected to proceed, please choose both...");else{t();var e=setInterval(function(){c===u.winningCondition?(alert("You beat the game this time, can you manage amedium difficutly...?"),clearInterval(e),i()):l<=0?(clearInterval(e),alert("Game Over, sorry you lost, Booooooo!"),i()):t()},u.interval)}}),$("form").on("submit",function(e){e.preventDefault(),$(".anagram").each(function(){var e=this,n=$(this).data("word");$("#answer").val().toLowerCase()===n?($(this).addClass("animated fadeOutUp").css("color","#39FF14"),h.html("Correct Answers: "+(c+=1)),setTimeout(function(){$(e).remove()},500)):($(".anagram").addClass("animated jello"),setTimeout(function(){$(".anagram").removeClass("jello")},500))}),$("form").trigger("reset")}),$("window").on("resize",function(){console.log(s),r=$(".game-box").outerHeight(!0)}),$("window").on("resize",function(){s=$(".game-box").width()})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyIkIiwiZ2VuZXJhdGVXb3JkIiwiaW5kZXgiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJzZWxlY3RlZFN1YmplY3QiLCJsZW5ndGgiLCJzZWxlY3RlZFdvcmQiLCJnZW5lcmF0ZUFuYWdyYW0iLCJzcGxpdCIsInNvcnQiLCJqb2luIiwiZ2VuZXJhdGVBbmFncmFtRWxlbWVudCIsIiRhbmFncmFtIiwibGVmdCIsIndpZHRoIiwiYW5hZ3JhbUhpdHNUaGVCb3R0b20iLCJlYWNoIiwiX3RoaXMiLCJ0aGlzIiwicG9zaXRpb24iLCJ0b3AiLCJoZWlnaHQiLCJjb25zb2xlIiwibG9nIiwibGlmZVNjb3JlIiwiaGFzQ2xhc3MiLCIkbGl2ZXMiLCJzZXRUaW1lb3V0IiwiaHRtbCIsInBsYXlHYW1lIiwic2NyYW1ibGVkV29yZCIsInNlbGVjdGVkQW5hZ3JhbSIsIiRjb250YWluZXIiLCJzZXRJbnRlcnZhbCIsInRleHQiLCJhcHBlbmQiLCJkaWZmaWN1bHR5Iiwid2luQ29uZGl0aW9uIiwiJHdpbkNvbmRpdGlvbiIsInJlbW92ZSIsIm91dGVySGVpZ2h0IiwiJHBsYXlHYW1lIiwiJHN1YmplY3RPcHRpb25zIiwiJGRpZmZpY3VsdHlPcHRpb25zIiwiQkJUIiwiTE9UUiIsImNhdGVnb3JpZXMiLCJGVCIsIldESSIsImVhc3kiLCJzZXR0aW5ncyIsImludGVydmFsIiwid2lubmluZ0NvbmRpdGlvbiIsIm1lZGl1bSIsImhhcmQiLCJpbnNhbmUiLCJzZWxlY3RlZERpZmZpY3VsdHkiLCJ2YWwiLCJ2YWx1ZSIsImFsZXJ0IiwiY2xlYXJJbnRlcnZhbCIsInJlc2V0IiwiZSIsInByZXZlbnREZWZhdWx0IiwiX3RoaXMyIiwiY2hlY2tlciIsImRhdGEiLCJ0b0xvd2VyQ2FzZSIsIm9uIiwiYWRkQ2xhc3MiLCJjc3MiLCJyZW1vdmVDbGFzcyIsInRyaWdnZXIiXSwibWFwcGluZ3MiOiJZQUFBQSxHQUFFLFdBd0RBLFFBQUFDLEtBQ0EsR0FB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MEMsYUFBQSxLQUZGMUMsRUFBQSxVQUFBc0UsR0FBQSxTQUFBLFdBMEJFdEQsRUFBUWhCLEVBQUUsYUFBYWdCIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbIiQoKCkgPT4ge1xuICBsZXQgaGVpZ2h0ID0gJCgnLmdhbWUtYm94Jykub3V0ZXJIZWlnaHQodHJ1ZSk7XG4gIGxldCB3aWR0aCA9ICQoJy5nYW1lLWJveCcpLndpZHRoKCk7XG4gIGNvbnNvbGUubG9nKHdpZHRoKTtcbiAgY29uc29sZS5sb2cod2lkdGgpO1xuICBsZXQgbGlmZVNjb3JlID0gNTtcbiAgbGV0IHdpbkNvbmRpdGlvbiA9IDA7XG4gIGxldCBkaWZmaWN1bHR5ID0gbnVsbDtcbiAgY29uc3QgJGxpdmVzID0gJCgnI2xpdmVzJyk7XG4gIGNvbnN0ICRwbGF5R2FtZSA9ICQoJyNwbGF5Jyk7XG4gIGNvbnN0ICR3aW5Db25kaXRpb24gPSAkKCcjd2luQ29uZGl0aW9uJyk7XG4gIGNvbnN0ICRzdWJqZWN0T3B0aW9ucyA9ICQoJyNzdWJqZWN0LW9wdGlvbnMnKTtcbiAgY29uc3QgJGRpZmZpY3VsdHlPcHRpb25zID0gJCgnI2RpZmZpY3VsdHktb3B0aW9ucycpO1xuICBjb25zdCAkY29udGFpbmVyID0gJCgnLmdhbWUtYm94Jyk7XG4gIGNvbnN0IGNhdGVnb3JpZXMgPSB7XG4gICAgQkJUOiBbJ3NoZWxkb24nLCdsZWFub3JkJywnc3BvY2snLCdjaGVlc2VjYWtlIGZhY3RvcnknLCdob3dhcmQnLCdzdGFyIHRyZWsnLCdwZW5ueScsJ2tvb3RocmFwb2xpJywnYmVybmFkZXR0ZScsJ3BoeXNpY3MnLCdsYXVuZHJ5JywnaGFsbyBuaWdodCcsJ2R1bXBsaW5ncycsICdicmlza2V0JywnbmFzYScsJ3N0cmluZyB0aGVvcnknLCdkYXJrIG1hdHRlcicsICdjb21pY2NvbicsJ2NvbWljIGJvb2snXSxcbiAgICBMT1RSOiBbJ2FycmFnb24nLCAnZ2ltbGknLCdnYW5kYWxmJywnbGVnb2xhcycsJ21vcmRvcicsJ3VydWsgaGFpJywnZnJvZG8nLCdnb2x1bW4nLCdvcmNzJywndGhlIHNoaXJlJywnYmFnZ2lucycsJ3NhdXJvbicsICdnb25kb3InLCdlbHZlcycsJ2hvYmJpdCcsJ2R3YXJ2ZXMnLCd0d28gdG93ZXJzJywnYmxhY2sgZ2F0ZScsJ2ZhcmFtaXInLCdzYXJ1bWFuJywnc2hhZG93ZmF4Jywnd2l0Y2gga2luZyddLFxuICAgIEZUOiBbJ2Fyc2VuYWwnLCdib3VybmVtb3V0aCcsJ2J1cm5sZXknLCdicmlnaHRvbicsJ2NoZWxzZWEnLCdjcnlzdGFsIHBhbGFjZScsJ2V2ZXJ0b24nLCdsaXZlcnBvb2wnLCduZXdjYXN0bGUnLCdzb3V0aGFtcHRvbicsJ2JhcmNlbG9uYScsJ2p1dmVudHVzJywnYWpheCcsJ2JheWVybiddLFxuICAgIENDOiBbJ3ZpZW5uYScsJ2JyaWRnZXRvd24nLCdicmFzaWxpYScsJ2JydXNzZWxzJywnc29maWEnLCdoYW5vaScsJ290dG93YScsJ2Jhbmd1aScsJ3dhc2hpbmd0b24nLCdoYXZhbmEnLCdwcmF1Z2UnLCdjYWlybycsJ2hlbHNpbmtpJywnYnVkYXBlc3QnLCdqYWthcnRhJywnamVydXNhbGVtJywna2luZ3N0b24nLCd0b2t5bycsJ25haXJvYmknLCdiZWlqaW5nJywncmFiYXQnLCdvc2xvJywncHlvbmd5YW5nJywnbWFkcmlkJ10sXG4gICAgV0RJOiBbJ2Z1bmN0aW9uJywnamF2YXNjcmlwdCcsJ3N3aXRjaCcsJ3JlZmFjdG9yJywnbmFtZXNwYWNpbmcnLCdqcXVlcnknLCdjb25zdCcsJ3ByaW1pdGl2ZScsJ29iamVjdCcsJ2FycmF5JywncmVzcG9uc2l2ZScsJ2NvbnN0cnVjdG9yJywncmVjdXJzaXZlJywnaW5kZW50YXRpb24nLCdpdGVyYXRlJywnbWV0aG9kJywnYWxnb3JpdGhpbScsJ3Rlcm1pbmFsJywnZ2l0aHViJywnZGVidWdnaW5nJywnbG9vcCcsJ3ZhcmlhYmxlJ11cbiAgfTtcbiAgY29uc3Qgc2V0dGluZ3MgPSB7XG4gICAgZWFzeToge1xuICAgICAgaW50ZXJ2YWw6IDEwMDAwLFxuICAgICAgc3BlZWQ6IDE1MDAsXG4gICAgICB3aW5uaW5nQ29uZGl0aW9uOiA1XG4gICAgfSxcbiAgICBtZWRpdW06IHtcbiAgICAgIGludGVydmFsOiA3MDAwLFxuICAgICAgc3BlZWQ6IDEwMDAsXG4gICAgICB3aW5uaW5nQ29uZGl0aW9uOiA3XG4gICAgfSxcbiAgICBoYXJkOiB7XG4gICAgICBpbnRlcnZhbDogNTAwMCxcbiAgICAgIHNwZWVkOiA3MDAsXG4gICAgICB3aW5uaW5nQ29uZGl0aW9uOiAxMFxuICAgIH0sXG4gICAgaW5zYW5lOiB7XG4gICAgICBpbnRlcnZhbDogMjUwMCxcbiAgICAgIHNwZWVkOiAyMDAsXG4gICAgICB3aW5uaW5nQ29uZGl0aW9uOiAxMFxuICAgIH1cbiAgfTtcbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy9TZWxlY3RvcnMvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgbGV0IHNlbGVjdGVkRGlmZmljdWx0eSA9ICcnO1xuICBsZXQgc2VsZWN0ZWRTdWJqZWN0ID0gJyc7XG4gICRzdWJqZWN0T3B0aW9ucy5vbignY2hhbmdlJywgKCkgPT4ge1xuICAgIGNvbnN0IHZhbHVlID0gJHN1YmplY3RPcHRpb25zLnZhbCgpO1xuICAgIHNlbGVjdGVkU3ViamVjdCA9IGNhdGVnb3JpZXNbdmFsdWVdO1xuICB9KTtcbiAgJGRpZmZpY3VsdHlPcHRpb25zLm9uKCdjaGFuZ2UnLCAoKSA9PiB7XG4gICAgc2VsZWN0ZWREaWZmaWN1bHR5ID0gJGRpZmZpY3VsdHlPcHRpb25zLnZhbCgpO1xuICAgIGRpZmZpY3VsdHkgPSBzZXR0aW5nc1tzZWxlY3RlZERpZmZpY3VsdHldO1xuICAgIGNvbnNvbGUubG9nKGRpZmZpY3VsdHkpO1xuICB9KTtcbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy9TZWxlY3RvcnMgRW5kLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy9GdW5jdGlvbnMgdGhhdCBjaGFuZ2UgdGhlIHdvcmQvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIC8vLyBUaGlzIHNlbGVjdHMgYSByYW5kb20gd29yZCBmcm9tIHRoZSBzZWxlY3RlZCBhcnJheVxuICBmdW5jdGlvbiBnZW5lcmF0ZVdvcmQoKSB7XG4gICAgY29uc3QgaW5kZXggPSBbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogc2VsZWN0ZWRTdWJqZWN0Lmxlbmd0aCldO1xuICAgIGNvbnN0IHNlbGVjdGVkV29yZCA9IHNlbGVjdGVkU3ViamVjdFtpbmRleF07XG4gICAgc2VsZWN0ZWRTdWJqZWN0LnNwbGljZShpbmRleCwgMSk7XG4gICAgcmV0dXJuIHNlbGVjdGVkV29yZDtcbiAgfVxuICAvLy8gVGhpcyB0YWtlcyB0aGUgcmFuZG9tbHkgc2VsZWN0ZWQgd29yZCBhbmQgc2h1ZmZsZXMgaXQgaW50byBhbiBhbmFncmFtXG4gIGZ1bmN0aW9uIGdlbmVyYXRlQW5hZ3JhbShzZWxlY3RlZFdvcmQpIHtcbiAgICByZXR1cm4gc2VsZWN0ZWRXb3JkLnNwbGl0KCcnKS5zb3J0KGZ1bmN0aW9uKCl7XG4gICAgICByZXR1cm4gMC41IC0gTWF0aC5yYW5kb20oKTtcbiAgICB9ICkuam9pbignJyk7XG4gIH1cbiAgLy8vLy8vVGhpcyBnZW5lcmF0ZXMgYSBkaWZmZXJlbnQgZWxlbWVudCBpbiBhIGRpZmZlcm50IHBvc2l0aW9uIGZyb20gdGhlIEhUTUxcbiAgZnVuY3Rpb24gZ2VuZXJhdGVBbmFncmFtRWxlbWVudCAoKSB7XG4gICAgY29uc3QgJGFuYWdyYW0gPSAkKCc8cCBjbGFzcz1cImFuYWdyYW1cIj48L3A+Jyk7XG4gICAgY29uc3QgbGVmdCA9IE1hdGguY2VpbCgoTWF0aC5yYW5kb20oKSAqICh3aWR0aCAtIDI1MCkpKTtcbiAgICAkYW5hZ3JhbS5jc3Moe2xlZnQ6IGxlZnR9KTtcbiAgICByZXR1cm4gJGFuYWdyYW07XG4gIH1cbiAgLy8vLy8vIFRoaXMgaXMgZm9yIHdoZW4gdGhlIHdvcmQgaGl0cyB0aGUgYm90dG9tIGFuZCAnZmFsbHMgb2ZmJ1xuICBmdW5jdGlvbiBhbmFncmFtSGl0c1RoZUJvdHRvbSAoKSB7XG4gICAgJCgnLmFuYWdyYW0nKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIGNvbnN0IHBvc2l0aW9uID0gTWF0aC5yb3VuZCgkKHRoaXMpLnBvc2l0aW9uKCkudG9wKTtcbiAgICAgIGlmIChwb3NpdGlvbiA+PSBoZWlnaHQgLSA4MCApIHtcbiAgICAgICAgY29uc29sZS5sb2cobGlmZVNjb3JlKTtcbiAgICAgICAgaWYoISQodGhpcykuaGFzQ2xhc3MoJ2hpbmdlJykpIGxpZmVTY29yZSAtPSAxO1xuICAgICAgICAkbGl2ZXMuaHRtbChgTGl2ZXMgTGVmdDogJHtsaWZlU2NvcmV9YCk7Ly9Ob3QgV29ya2luZ1xuICAgICAgICAkKHRoaXMpLmNzcygnY29sb3InLCdyZWQnKTtcbiAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnYW5pbWF0ZWQgaGluZ2UnKTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgJCh0aGlzKS5yZW1vdmUoKTtcbiAgICAgICAgfSw1MDApO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIC8vLy8vLy8vLy8vLy8vLy8vLy9GdW5jdGlvbnMgdGhhdCBjaGFuZ2UgdGhlIHdvcmQvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgLy8vLy8vLy8vLy8vLy8vLy8vTWFpbiBmdWNudGlvbiB0byBwbGF5IGdhbWUgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICBmdW5jdGlvbiBwbGF5R2FtZSAoKXtcbiAgICBjb25zb2xlLmxvZyh3aWR0aCk7XG4gICAgY29uc3Qgc2VsZWN0ZWRXb3JkID0gZ2VuZXJhdGVXb3JkKCk7XG4gICAgY29uc3Qgc2NyYW1ibGVkV29yZCA9IGdlbmVyYXRlQW5hZ3JhbShzZWxlY3RlZFdvcmQpO1xuICAgIGNvbnN0IHNlbGVjdGVkQW5hZ3JhbSA9IGdlbmVyYXRlQW5hZ3JhbUVsZW1lbnQoKTtcbiAgICBzZWxlY3RlZEFuYWdyYW0udGV4dChzY3JhbWJsZWRXb3JkKTtcbiAgICBzZWxlY3RlZEFuYWdyYW0uYXR0cignZGF0YS13b3JkJywgc2VsZWN0ZWRXb3JkKTtcbiAgICAkY29udGFpbmVyLmFwcGVuZChzZWxlY3RlZEFuYWdyYW0pO1xuICAgIHNldEludGVydmFsKGZ1bmN0aW9uKCkge1xuICAgICAgc2VsZWN0ZWRBbmFncmFtLmNzcygndG9wJywgJys9MTBweCcpO1xuICAgICAgYW5hZ3JhbUhpdHNUaGVCb3R0b20oKTtcbiAgICB9LGRpZmZpY3VsdHkuc3BlZWQpO1xuICB9XG4gIC8vLy8vLy9UaGlzIGlzIHRoZSByZXNldCBmdW5jdGlvbiBhZnRlciBhIGdhbWUgaGFzIGZpbmlzaGVkLy8vLy8vLy8vLy8vLy8vL1xuICBmdW5jdGlvbiByZXNldCAoKSB7XG4gICAgbGlmZVNjb3JlID0gNTtcbiAgICAkbGl2ZXMuaHRtbCgnTGl2ZXM6IDUnKTtcbiAgICB3aW5Db25kaXRpb24gPSAwO1xuICAgICR3aW5Db25kaXRpb24uaHRtbCgnQ29ycmVjdCBBbnN3ZXJzOiAwJyk7XG4gICAgJCgnLmFuYWdyYW0nKS5yZW1vdmUoKTtcbiAgfVxuICAvLy8gVGhpcyBpcyBmb3Igd2hlbiB0aGUgcGxheWVyIGlzIHJlYWR5IHRvIHBsYXksIGFmdGVyIHRoZSBkaWZmaWN1bHR5IGlzIHNlbGVjdGVkIGFuZCB0aGUgcGxheSBidXR0b24gaXMgY2xpY2tlZCAtIHNvIHRoaXMgc3RhcnRzIHRoZSBnYW1lIVxuICAkcGxheUdhbWUuY2xpY2soIGZ1bmN0aW9uKCl7XG4gICAgaWYgKHNlbGVjdGVkRGlmZmljdWx0eSA9PT0gJycgfHwgc2VsZWN0ZWRTdWJqZWN0ID09PSAnJykge1xuICAgICAgYWxlcnQoJ0EgU3ViamVjdCBhbmQgRGlmZmljdWx0eSBuZWVkcyB0byBiZSBzZWxlY3RlZCB0byBwcm9jZWVkLCBwbGVhc2UgY2hvb3NlIGJvdGguLi4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcGxheUdhbWUoKTtcbiAgICAgIGNvbnN0IGludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtcbiAgICAgICAgaWYgKHdpbkNvbmRpdGlvbiA9PT0gZGlmZmljdWx0eS53aW5uaW5nQ29uZGl0aW9uKSB7XG4gICAgICAgICAgYWxlcnQoJ1lvdSBiZWF0IHRoZSBnYW1lIHRoaXMgdGltZSwgY2FuIHlvdSBtYW5hZ2UgYW1lZGl1bSBkaWZmaWN1dGx5Li4uPycpO1xuICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xuICAgICAgICAgIHJlc2V0KCk7XG4gICAgICAgIH0gZWxzZSBpZiAobGlmZVNjb3JlIDw9IDApe1xuICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xuICAgICAgICAgIGFsZXJ0KCdHYW1lIE92ZXIsIHNvcnJ5IHlvdSBsb3N0LCBCb29vb29vbyEnKTtcbiAgICAgICAgICByZXNldCgpO1xuICAgICAgICB9IGVsc2V7XG4gICAgICAgICAgcGxheUdhbWUoKTtcbiAgICAgICAgfVxuICAgICAgfSxkaWZmaWN1bHR5LmludGVydmFsKTtcbiAgICB9fSk7XG5cbiAgICAvLy8gVGhpcyBpcyB0aGUgdmFsaWRhdGlvbiB3aGVuIHRoZSBidXR0b24gaXMgY2xpY2tlZCB0byBzdWJtaXQgYW4gYW5zd2VyLCB0aGlzIGFsc28gaG9sZHMgdGhlIGFuaW1hdGlvbnMgYXBwbGllZCB0byB0aGUgZ2FtZS5cbiAgICAkKCdmb3JtJykub24oJ3N1Ym1pdCcsIGZ1bmN0aW9uIChlKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAkKCcuYW5hZ3JhbScpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICBjb25zdCBjaGVja2VyID0gJCh0aGlzKS5kYXRhKCd3b3JkJyk7XG4gICAgICAgIGlmICgkKCcjYW5zd2VyJykudmFsKCkudG9Mb3dlckNhc2UoKSA9PT0gY2hlY2tlcil7XG4gICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnYW5pbWF0ZWQgZmFkZU91dFVwJykuY3NzKCdjb2xvcicsJyMzOUZGMTQnKTtcbiAgICAgICAgICAkd2luQ29uZGl0aW9uLmh0bWwoYENvcnJlY3QgQW5zd2VyczogJHt3aW5Db25kaXRpb24gPSB3aW5Db25kaXRpb24gKyAxfWApO1xuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmUoKTtcbiAgICAgICAgICB9LDUwMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgJCgnLmFuYWdyYW0nKS5hZGRDbGFzcygnYW5pbWF0ZWQgamVsbG8nKTtcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICQoJy5hbmFncmFtJykucmVtb3ZlQ2xhc3MoJ2plbGxvJyk7XG4gICAgICAgICAgfSw1MDApO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgICQoJ2Zvcm0nKS50cmlnZ2VyKCdyZXNldCcpO1xuICAgIH0pO1xuXG4gICAgLy8vLy8gdGhpcyBjaGFuZ2VzIHRoZSBoZWlnaHQgcHJvcGVydHkgYmFzZWQgb24gdGhlIHJlc2l6aW5nIG9mIHRoZSBicm93c2VycyB3aW5kb3dcbiAgICAkKCd3aW5kb3cnKS5vbigncmVzaXplJywgKCkgPT4ge1xuICAgICAgY29uc29sZS5sb2cod2lkdGgpO1xuICAgICAgaGVpZ2h0ID0gJCgnLmdhbWUtYm94Jykub3V0ZXJIZWlnaHQodHJ1ZSk7XG4gICAgfSk7XG4gICAgJCgnd2luZG93Jykub24oJ3Jlc2l6ZScsICgpID0+IHtcbiAgICAgIHdpZHRoID0gJCgnLmdhbWUtYm94Jykud2lkdGgoKTtcbiAgICB9KTtcblxuICAgIC8vLy8vLyBlbmQgb2YgdGhlIERPTTtcbiAgfSk7XG4iXX0=
