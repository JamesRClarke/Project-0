"use strict";console.log("JS Loaded"),$(function(){function n(){var n=[Math.floor(Math.random()*w.length)],e=w[n];return w.splice(n,1),e}function e(n){return n.split("").sort(function(){return.5-Math.random()}).join("")}function a(){var n=$('<p class="anagram"></p>'),e=Math.ceil(650*Math.random());return n.css({left:e}),n}function t(){$(".anagram").each(function(){var n=this;Math.round($(this).position().top)>=465&&(console.log(r),$(this).hasClass("hinge")||(r-=1),u.html("Lives Left: "+r),$(this).css("color","red"),$(this).addClass("animated hinge"),setTimeout(function(){$(n).remove()},500))})}function o(){var o=n(),i=e(o),r=a();r.text(i),r.attr("data-word",o),v.append(r),l=setInterval(function(){r.css("top","+=10px"),t()},c.speed)}function i(){r=5,u.html("Lives: 5"),s=0,d.html("Correct Answers: 0"),$(".anagram").remove()}var r=5,s=0,l=void 0,c=null,u=$("#lives"),h=$("#play"),d=$("#winCondition"),m=$("#subject-options"),g=$("#difficulty-options"),v=$(".ag-tetris"),f=($("#instructions"),{BBT:["sheldon","leanord","spock","cheesecake factory","howard","startrek","penny","koothrapoli","bernadette","physics","laundry","halonight","dumplings","brisket","nasa","stringtheory","darkmatter","comiccon","comicbook"],LOTR:["arragon","gimli","gandalf","legolas","mordor","uruk hai","frodo","golumn","orcs","theshire","baggins","sauron","gondor","elves","hobbit","dwarves","twotowers","blackgate","fariamir","saruman","shadowfax","witchking"],EPL:["arsenal","bournemouth","burnley","brighton","chelsea","crystal palace","everton","leicstercity","liverpool","manchestercity","manchesterunited","newcastle","southampton","stoke city","tottenhamhotspur","watford","westbrom","westham"],CC:["buenosaires","vienna","bridgetown","brasilia","brussels","sofia","phnom peh","ottowa","bangui","san jose","havana","prauge","cairo","helsinki","budapest","jakarta","jerusalem","kingston","tokyo","nairobi","kualalumpur","rabat","oslo","pyongyang"],WDI:["function","javascript","switch","refactor","namespacing","jquery","const","primitive","object","array","responsive","constructor","reccursive","indentation","iterate","method","algorithim","terminal","github","debugging","whileloop","variable"]}),p={easy:{interval:1e4,speed:1500,winningCondition:5},medium:{interval:7e3,speed:1e3,winningCondition:7},hard:{interval:5e3,speed:700,winningCondition:10},insane:{interval:2500,speed:200,winningCondition:10}},b="",w="";m.on("change",function(){var n=m.val();w=f[n]}),g.on("change",function(){b=g.val(),c=p[b],console.log(c)}),h.on("click",function(){console.log(c[s]),o();var n=setInterval(function(){s===c.winningCondition?(alert("You beat the game this time, can you manage a medium difficutly...?"),clearInterval(n),i()):r<=0?(clearInterval(n),alert("Game Over, sorry you lost, Booooooo!"),i()):o()},c.interval)}),$("form").on("submit",function(n){n.preventDefault(),console.log("in here"),$(".anagram").each(function(n){var e=this;console.log(n,this);var a=$(this).data("word");$("#answer").val()===a?($(this).addClass("animated fadeOutLeft").css("color","#39FF14"),d.html("Correct Answers: "+(s+=1)),setTimeout(function(){$(e).remove()},500)):($(".anagram").addClass("animated wobble"),setTimeout(function(){$(".anagram").removeClass("wobble")},500))}),$("form").trigger("reset")})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJjb25zb2xlIiwibG9nIiwiJCIsImdlbmVyYXRlV29yZCIsImluZGV4IiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwic2VsZWN0ZWRTdWJqZWN0IiwibGVuZ3RoIiwic2VsZWN0ZWRXb3JkIiwiZ2VuZXJhdGVBbmFncmFtIiwic3BsaXQiLCJzb3J0Iiwiam9pbiIsImdlbmVyYXRlQW5hZ3JhbUVsZW1lbnQiLCIkYW5hZ3JhbSIsImxlZnQiLCJlYWNoIiwiX3RoaXMiLCJ0aGlzIiwiYW5hZ3JhbUhpdHNUaGVCb3R0b20iLCJwb3NpdGlvbiIsInRvcCIsImxpZmVTY29yZSIsImhhc0NsYXNzIiwiJGxpdmVzIiwic2V0VGltZW91dCIsImh0bWwiLCJwbGF5R2FtZSIsInNjcmFtYmxlZFdvcmQiLCJzZWxlY3RlZEFuYWdyYW0iLCIkY29udGFpbmVyIiwiaW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsInJlc2V0Iiwid2luQ29uZGl0aW9uIiwicmVtb3ZlIiwiZGlmZmljdWx0eSIsIiRwbGF5R2FtZSIsIiR3aW5Db25kaXRpb24iLCIkc3ViamVjdE9wdGlvbnMiLCIkZGlmZmljdWx0eU9wdGlvbnMiLCJCQlQiLCIkaW5zdHJ1Y3Rpb25zIiwiTE9UUiIsIkVQTCIsIkNDIiwiV0RJIiwiZWFzeSIsInNldHRpbmdzIiwid2lubmluZ0NvbmRpdGlvbiIsIm1lZGl1bSIsImhhcmQiLCJpbnNhbmUiLCJzZWxlY3RlZERpZmZpY3VsdHkiLCJ2YWwiLCJjYXRlZ29yaWVzIiwidmFsdWUiLCJvbiIsImNsZWFySW50ZXJ2YWwiLCJhbGVydCIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImFuYWdyYW0iLCJfdGhpczIiLCJkYXRhIiwiY2hlY2tlciIsImFkZENsYXNzIiwiY3NzIiwicmVtb3ZlQ2xhc3MiLCJ0cmlnZ2VyIl0sIm1hcHBpbmdzIjoiWUFBQUEsU0FBUUMsSUFBSSxhQUNaQyxFQUFFLFdBOERBLFFBQVNDLEtBRFQsR0FBQUMsSUFBQUMsS0FB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TSxLQWhCVnNCLEVBQUEsR0FzQkEvQyxFQUFBLEVBQ0FpQyxHQUFJYyxHQUFBQSxTQUFKLFdBQ0EsR0FBSS9DLEdBQUFBLEVBQUpnRCxLQUNBZixHQUFtQmdCLEVBQVVDLEtBRTNCbEQsRUFBQUEsR0FBa0JpRCxTQUFXQyxXQUYvQkgsRUFBQWIsRUFBQWMsTUFJQWQsRUFBQUEsRUFBc0JhLEdBQ3BCQSxRQUFBQSxJQUFBQSxLQStHRmhCLEVBQUFvQixHQUFBLFFBQUEsV0FJRTNELFFBQVFDLElBQUlxQyxFQUFXRixJQUZ6QlAsR0FDQVUsSUFBQUEsR0FBYUwsWUFBUyxXQUNwQmxDLElBQXVCb0MsRUFBQUEsa0JBQ3ZCUCxNQUFBQSx1RUFDTUksY0FBV0MsR0FDZkMsS0FDUVgsR0FBQSxHQUNOb0MsY0FBYzNCLEdBQ2RFLE1BQUFBLHdDQUhGQSxLQU1FMEIsS0FFRHZCLEVBQUtMLFlBcUZWL0IsRUFBRSxRQUFReUQsR0FBRyxTQUFVLFNBQVVHLEdBRmpDQSxFQUFBQyxpQkFJRS9ELFFBQVFDLElBQUksV0FGWkMsRUFBQSxZQUFXZ0IsS0FBYixTQUF1QjhDLEdBQWEsR0FBQUMsR0FBQTdDLElBQ2hDMkMsU0FBQUEsSUFBQUEsRUFBRjNDLEtBQ0FwQixJQUFRQyxHQUFJQyxFQUFBa0IsTUFBWjhDLEtBQUEsT0FDc0NoRSxHQUFBLFdBQUFzRCxRQUFBVyxHQUtsQ2pFLEVBQUVrQixNQUFNZ0QsU0FBUyx3QkFBd0JDLElBQUksUUFBUSxXQUp2RHJFLEVBQVlnRSxLQUFaaEUscUJBQUFvQyxHQUFBLElBQ0FULFdBQU13QyxXQU1GakUsRUFBQUEsR0FBUW1DLFVBSlJuQyxPQUdGeUIsRUFBQUEsWUFBV3lDLFNBQU0sbUJBQ2ZsRSxXQUFBQSxXQURGQSxFQUVFLFlBRkZvRSxZQUFBLFdBSEYsUUFVSXBFLEVBQUFBLFFBQUVxRSxRQUFGIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnNvbGUubG9nKCdKUyBMb2FkZWQnKTtcbiQoKCkgPT4ge1xuICBsZXQgbGlmZVNjb3JlID0gNTtcbiAgbGV0IHdpbkNvbmRpdGlvbiA9IDA7XG4gIGxldCBpbnRlcnZhbDtcbiAgbGV0IGRpZmZpY3VsdHkgPSBudWxsO1xuICBjb25zdCAkbGl2ZXMgPSAkKCcjbGl2ZXMnKTtcbiAgY29uc3QgJHBsYXlHYW1lID0gJCgnI3BsYXknKTtcbiAgY29uc3QgJHdpbkNvbmRpdGlvbiA9ICQoJyN3aW5Db25kaXRpb24nKTtcbiAgY29uc3QgJHN1YmplY3RPcHRpb25zID0gJCgnI3N1YmplY3Qtb3B0aW9ucycpO1xuICBjb25zdCAkZGlmZmljdWx0eU9wdGlvbnMgPSAkKCcjZGlmZmljdWx0eS1vcHRpb25zJyk7XG4gIGNvbnN0ICRjb250YWluZXIgPSAkKCcuYWctdGV0cmlzJyk7XG4gIGNvbnN0ICRpbnN0cnVjdGlvbnMgPSAkKCcjaW5zdHJ1Y3Rpb25zJyk7XG4gIGNvbnN0IGNhdGVnb3JpZXMgPSB7XG4gICAgQkJUOiBbJ3NoZWxkb24nLCdsZWFub3JkJywnc3BvY2snLCdjaGVlc2VjYWtlIGZhY3RvcnknLCdob3dhcmQnLCdzdGFydHJlaycsJ3Blbm55Jywna29vdGhyYXBvbGknLCdiZXJuYWRldHRlJywncGh5c2ljcycsJ2xhdW5kcnknLCdoYWxvbmlnaHQnLCdkdW1wbGluZ3MnLCAnYnJpc2tldCcsJ25hc2EnLCdzdHJpbmd0aGVvcnknLCdkYXJrbWF0dGVyJywgJ2NvbWljY29uJywnY29taWNib29rJ10sXG5cbiAgICBMT1RSOiBbJ2FycmFnb24nLCAnZ2ltbGknLCdnYW5kYWxmJywnbGVnb2xhcycsJ21vcmRvcicsJ3VydWsgaGFpJywnZnJvZG8nLCdnb2x1bW4nLCdvcmNzJywndGhlc2hpcmUnLCdiYWdnaW5zJywnc2F1cm9uJywgJ2dvbmRvcicsJ2VsdmVzJywnaG9iYml0JywnZHdhcnZlcycsJ3R3b3Rvd2VycycsJ2JsYWNrZ2F0ZScsJ2ZhcmlhbWlyJywnc2FydW1hbicsJ3NoYWRvd2ZheCcsJ3dpdGNoa2luZyddLFxuXG4gICAgRVBMOiBbJ2Fyc2VuYWwnLCdib3VybmVtb3V0aCcsJ2J1cm5sZXknLCdicmlnaHRvbicsJ2NoZWxzZWEnLCdjcnlzdGFsIHBhbGFjZScsJ2V2ZXJ0b24nLCdsZWljc3RlcmNpdHknLCdsaXZlcnBvb2wnLCdtYW5jaGVzdGVyY2l0eScsJ21hbmNoZXN0ZXJ1bml0ZWQnLCduZXdjYXN0bGUnLCdzb3V0aGFtcHRvbicsJ3N0b2tlIGNpdHknLCd0b3R0ZW5oYW1ob3RzcHVyJywnd2F0Zm9yZCcsJ3dlc3Ricm9tJywnd2VzdGhhbSddLFxuXG4gICAgQ0M6IFsnYnVlbm9zYWlyZXMnLCd2aWVubmEnLCdicmlkZ2V0b3duJywnYnJhc2lsaWEnLCdicnVzc2VscycsJ3NvZmlhJywncGhub20gcGVoJywnb3R0b3dhJywnYmFuZ3VpJywnc2FuIGpvc2UnLCdoYXZhbmEnLCdwcmF1Z2UnLCdjYWlybycsJ2hlbHNpbmtpJywnYnVkYXBlc3QnLCdqYWthcnRhJywnamVydXNhbGVtJywna2luZ3N0b24nLCd0b2t5bycsJ25haXJvYmknLCdrdWFsYWx1bXB1cicsJ3JhYmF0Jywnb3NsbycsJ3B5b25neWFuZyddLFxuXG4gICAgV0RJOiBbJ2Z1bmN0aW9uJywnamF2YXNjcmlwdCcsJ3N3aXRjaCcsJ3JlZmFjdG9yJywnbmFtZXNwYWNpbmcnLCdqcXVlcnknLCdjb25zdCcsJ3ByaW1pdGl2ZScsJ29iamVjdCcsJ2FycmF5JywncmVzcG9uc2l2ZScsJ2NvbnN0cnVjdG9yJywncmVjY3Vyc2l2ZScsJ2luZGVudGF0aW9uJywnaXRlcmF0ZScsJ21ldGhvZCcsJ2FsZ29yaXRoaW0nLCd0ZXJtaW5hbCcsJ2dpdGh1YicsJ2RlYnVnZ2luZycsJ3doaWxlbG9vcCcsJ3ZhcmlhYmxlJ11cbiAgfTtcbiAgY29uc3Qgc2V0dGluZ3MgPSB7XG4gICAgZWFzeToge1xuICAgICAgaW50ZXJ2YWw6IDEwMDAwLFxuICAgICAgc3BlZWQ6IDE1MDAsXG4gICAgICB3aW5uaW5nQ29uZGl0aW9uOiA1XG4gICAgfSxcbiAgICBtZWRpdW06IHtcbiAgICAgIGludGVydmFsOiA3MDAwLFxuICAgICAgc3BlZWQ6IDEwMDAsXG4gICAgICB3aW5uaW5nQ29uZGl0aW9uOiA3XG4gICAgfSxcbiAgICBoYXJkOiB7XG4gICAgICBpbnRlcnZhbDogNTAwMCxcbiAgICAgIHNwZWVkOiA3MDAsXG4gICAgICB3aW5uaW5nQ29uZGl0aW9uOiAxMFxuICAgIH0sXG4gICAgaW5zYW5lOiB7XG4gICAgICBpbnRlcnZhbDogMjUwMCxcbiAgICAgIHNwZWVkOiAyMDAsXG4gICAgICB3aW5uaW5nQ29uZGl0aW9uOiAxMFxuICAgIH1cbiAgfTtcbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy9TZWxlY3RvcnMvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgbGV0IHNlbGVjdGVkRGlmZmljdWx0eSA9ICcnO1xuICBsZXQgc2VsZWN0ZWRTdWJqZWN0ID0gJyc7XG4gICRzdWJqZWN0T3B0aW9ucy5vbignY2hhbmdlJywgKCkgPT4ge1xuICAgIGNvbnN0IHZhbHVlID0gJHN1YmplY3RPcHRpb25zLnZhbCgpO1xuICAgIHNlbGVjdGVkU3ViamVjdCA9IGNhdGVnb3JpZXNbdmFsdWVdO1xuICB9KTtcbiAgJGRpZmZpY3VsdHlPcHRpb25zLm9uKCdjaGFuZ2UnLCAoKSA9PiB7XG4gICAgc2VsZWN0ZWREaWZmaWN1bHR5ID0gJGRpZmZpY3VsdHlPcHRpb25zLnZhbCgpO1xuICAgIGRpZmZpY3VsdHkgPSBzZXR0aW5nc1tzZWxlY3RlZERpZmZpY3VsdHldO1xuICAgIGNvbnNvbGUubG9nKGRpZmZpY3VsdHkpO1xuICB9KTtcbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy9TZWxlY3RvcnMgRW5kLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vL0Z1bmN0aW9ucyB0aGF0IGNoYW5nZSB0aGUgd29yZC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAvLy8gVGhpcyBzZWxlY3RzIGEgcmFuZG9tIHdvcmQgZnJvbSB0aGUgc2VsZWN0ZWQgYXJyYXlcbiAgZnVuY3Rpb24gZ2VuZXJhdGVXb3JkKCkge1xuICAgIGNvbnN0IGluZGV4ID0gW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHNlbGVjdGVkU3ViamVjdC5sZW5ndGgpXTtcbiAgICBjb25zdCBzZWxlY3RlZFdvcmQgPSBzZWxlY3RlZFN1YmplY3RbaW5kZXhdO1xuICAgIHNlbGVjdGVkU3ViamVjdC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIHJldHVybiBzZWxlY3RlZFdvcmQ7XG4gIH1cbiAgLy8vIFRoaXMgdGFrZXMgdGhlIHJhbmRvbWx5IHNlbGVjdGVkIHdvcmQgYW5kIHNodWZmbGVzIGl0IGludG8gYW4gYW5hZ3JhbVxuICBmdW5jdGlvbiBnZW5lcmF0ZUFuYWdyYW0oc2VsZWN0ZWRXb3JkKSB7XG4gICAgcmV0dXJuIHNlbGVjdGVkV29yZC5zcGxpdCgnJykuc29ydChmdW5jdGlvbigpe1xuICAgICAgcmV0dXJuIDAuNSAtIE1hdGgucmFuZG9tKCk7XG4gICAgfSApLmpvaW4oJycpO1xuICB9XG4gIC8vLyBUaGlzIGdlbmVyYXRlcyBhIGRpZmZlcmVudCBlbGVtZW50IGluIGEgZGlmZmVybnQgcG9zaXRpb24gZnJvbSB0aGUgSFRNTFxuICBmdW5jdGlvbiBnZW5lcmF0ZUFuYWdyYW1FbGVtZW50ICgpIHtcbiAgICBjb25zdCAkYW5hZ3JhbSA9ICQoJzxwIGNsYXNzPVwiYW5hZ3JhbVwiPjwvcD4nKTtcbiAgICBjb25zdCBsZWZ0ID0gTWF0aC5jZWlsKChNYXRoLnJhbmRvbSgpICogNjUwKSk7XG4gICAgJGFuYWdyYW0uY3NzKHtsZWZ0OiBsZWZ0fSk7XG4gICAgcmV0dXJuICRhbmFncmFtO1xuICB9XG4gIGZ1bmN0aW9uIGFuYWdyYW1IaXRzVGhlQm90dG9tICgpIHtcbiAgICAkKCcuYW5hZ3JhbScpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgY29uc3QgcG9zaXRpb24gPSBNYXRoLnJvdW5kKCQodGhpcykucG9zaXRpb24oKS50b3ApO1xuICAgICAgaWYgKHBvc2l0aW9uID49IDQ2NSkge1xuICAgICAgICBjb25zb2xlLmxvZyhsaWZlU2NvcmUpO1xuICAgICAgICBpZighJCh0aGlzKS5oYXNDbGFzcygnaGluZ2UnKSkgbGlmZVNjb3JlIC09IDE7XG4gICAgICAgICRsaXZlcy5odG1sKGBMaXZlcyBMZWZ0OiAke2xpZmVTY29yZX1gKTsvL05vdCBXb3JraW5nXG4gICAgICAgICQodGhpcykuY3NzKCdjb2xvcicsJ3JlZCcpO1xuICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdhbmltYXRlZCBoaW5nZScpO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAkKHRoaXMpLnJlbW92ZSgpO1xuICAgICAgICB9LDUwMCk7XG5cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vRnVuY3Rpb25zIHRoYXQgY2hhbmdlIHRoZSB3b3JkLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gIC8vLy8vLy8vLy8vLy8vLyBUaGVzZSBhcmUgdGhlIGRpZmZpY3VsdHkgb3B0aW9uIGZ1bmN0aW9ucyAvLy8vLy8vLy8vLy8vLy9cbiAgZnVuY3Rpb24gcGxheUdhbWUgKCl7XG4gICAgY29uc3Qgc2VsZWN0ZWRXb3JkID0gZ2VuZXJhdGVXb3JkKCk7XG4gICAgY29uc3Qgc2NyYW1ibGVkV29yZCA9IGdlbmVyYXRlQW5hZ3JhbShzZWxlY3RlZFdvcmQpO1xuICAgIGNvbnN0IHNlbGVjdGVkQW5hZ3JhbSA9IGdlbmVyYXRlQW5hZ3JhbUVsZW1lbnQoKTtcbiAgICBzZWxlY3RlZEFuYWdyYW0udGV4dChzY3JhbWJsZWRXb3JkKTtcbiAgICBzZWxlY3RlZEFuYWdyYW0uYXR0cignZGF0YS13b3JkJywgc2VsZWN0ZWRXb3JkKTtcbiAgICAkY29udGFpbmVyLmFwcGVuZChzZWxlY3RlZEFuYWdyYW0pO1xuXG4gICAgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHtcbiAgICAgIHNlbGVjdGVkQW5hZ3JhbS5jc3MoJ3RvcCcsICcrPTEwcHgnKTtcbiAgICAgIGFuYWdyYW1IaXRzVGhlQm90dG9tKCk7XG4gICAgfSxkaWZmaWN1bHR5LnNwZWVkKTtcbiAgfVxuXG4gIC8vIGZ1bmN0aW9uIGRpZmZpY3VsdHlNZWRpdW0gKCl7XG4gIC8vICAgY29uc3Qgc2VsZWN0ZWRXb3JkID0gZ2VuZXJhdGVXb3JkKCk7XG4gIC8vICAgY29uc3Qgc2NyYW1ibGVkV29yZCA9IGdlbmVyYXRlQW5hZ3JhbShzZWxlY3RlZFdvcmQpO1xuICAvLyAgIGNvbnN0IHNlbGVjdGVkQW5hZ3JhbSA9IGdlbmVyYXRlQW5hZ3JhbUVsZW1lbnQoKTtcbiAgLy9cbiAgLy8gICBzZWxlY3RlZEFuYWdyYW0udGV4dChzY3JhbWJsZWRXb3JkKTtcbiAgLy8gICBzZWxlY3RlZEFuYWdyYW0uYXR0cignZGF0YS13b3JkJywgc2VsZWN0ZWRXb3JkKTtcbiAgLy8gICAkY29udGFpbmVyLmFwcGVuZChzZWxlY3RlZEFuYWdyYW0pO1xuICAvLyAgIGludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XG4gIC8vICAgICBzZWxlY3RlZEFuYWdyYW0uY3NzKCd0b3AnLCAnKz0xMHB4Jyk7XG4gIC8vICAgICBhbmFncmFtSGl0c1RoZUJvdHRvbSgpO1xuICAvLyAgIH0sMTAwMCk7XG4gIC8vIH1cbiAgLy8gZnVuY3Rpb24gZGlmZmljdWx0eUhhcmQgKCl7XG4gIC8vICAgY29uc3Qgc2VsZWN0ZWRXb3JkID0gZ2VuZXJhdGVXb3JkKCk7XG4gIC8vICAgY29uc3Qgc2NyYW1ibGVkV29yZCA9IGdlbmVyYXRlQW5hZ3JhbShzZWxlY3RlZFdvcmQpO1xuICAvLyAgIGNvbnN0IHNlbGVjdGVkQW5hZ3JhbSA9IGdlbmVyYXRlQW5hZ3JhbUVsZW1lbnQoKTtcbiAgLy9cbiAgLy8gICBzZWxlY3RlZEFuYWdyYW0udGV4dChzY3JhbWJsZWRXb3JkKTtcbiAgLy8gICBzZWxlY3RlZEFuYWdyYW0uYXR0cignZGF0YS13b3JkJywgc2VsZWN0ZWRXb3JkKTtcbiAgLy8gICAkY29udGFpbmVyLmFwcGVuZChzZWxlY3RlZEFuYWdyYW0pO1xuICAvLyAgIGludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XG4gIC8vICAgICBzZWxlY3RlZEFuYWdyYW0uY3NzKCd0b3AnLCAnKz0xMHB4Jyk7XG4gIC8vICAgICBhbmFncmFtSGl0c1RoZUJvdHRvbSgpO1xuICAvLyAgIH0sNzAwKTtcbiAgLy8gfVxuICAvLyBmdW5jdGlvbiBkaWZmaWN1bHR5SW5zYW5lICgpe1xuICAvLyAgIGNvbnN0IHNlbGVjdGVkV29yZCA9IGdlbmVyYXRlV29yZCgpO1xuICAvLyAgIGNvbnN0IHNjcmFtYmxlZFdvcmQgPSBnZW5lcmF0ZUFuYWdyYW0oc2VsZWN0ZWRXb3JkKTtcbiAgLy8gICBjb25zdCBzZWxlY3RlZEFuYWdyYW0gPSBnZW5lcmF0ZUFuYWdyYW1FbGVtZW50KCk7XG4gIC8vXG4gIC8vICAgc2VsZWN0ZWRBbmFncmFtLnRleHQoc2NyYW1ibGVkV29yZCk7XG4gIC8vICAgc2VsZWN0ZWRBbmFncmFtLmF0dHIoJ2RhdGEtd29yZCcsIHNlbGVjdGVkV29yZCk7XG4gIC8vICAgJGNvbnRhaW5lci5hcHBlbmQoc2VsZWN0ZWRBbmFncmFtKTtcbiAgLy8gICBpbnRlcnZhbCA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkge1xuICAvLyAgICAgc2VsZWN0ZWRBbmFncmFtLmNzcygndG9wJywgJys9MTBweCcpO1xuICAvLyAgICAgYW5hZ3JhbUhpdHNUaGVCb3R0b20oKTtcbiAgLy8gICB9LDIwMCk7XG4gIC8vIH1cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8gRGlmZmljdWx0eSBPcHRpb25zIEVuZCBoZXJlIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gIC8vLy8vLy8vLy8vVGhpcyBpcyB0aGUgcmVzZXQgZnVuY3Rpb24gYWZ0ZXIgYSBnYW1lIGhhcyBmaW5pc2hlZC8vLy8vLy8vLy8vLy8vLy9cbiAgZnVuY3Rpb24gcmVzZXQgKCkge1xuICAgIGxpZmVTY29yZSA9IDU7XG4gICAgJGxpdmVzLmh0bWwoJ0xpdmVzOiA1Jyk7XG4gICAgd2luQ29uZGl0aW9uID0gMDtcbiAgICAkd2luQ29uZGl0aW9uLmh0bWwoJ0NvcnJlY3QgQW5zd2VyczogMCcpO1xuICAgICQoJy5hbmFncmFtJykucmVtb3ZlKCk7XG4gIH1cblxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9yZXNldCBmdW5jdGlvbiBlbmQvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAvLy8gVGhpcyBpcyBmb3Igd2hlbiB0aGUgcGxheWVyIGlzIHJlYWR5IHRvIHBsYXksIGFmdGVyIHRoZSBkaWZmaWN1bHR5IGlzIHNlbGVjdGVkIGFuZCB0aGUgcGxheSBidXR0b24gaXMgY2xpY2tlZCAtIHNvIHRoaXMgc3RhcnRzIHRoZSBnYW1lIVxuICAkcGxheUdhbWUub24oJ2NsaWNrJywgZnVuY3Rpb24oKXtcbiAgICBjb25zb2xlLmxvZyhkaWZmaWN1bHR5W3dpbkNvbmRpdGlvbl0pO1xuICAgIHBsYXlHYW1lKCk7XG4gICAgY29uc3QgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpe1xuICAgICAgaWYgKHdpbkNvbmRpdGlvbiA9PT0gZGlmZmljdWx0eS53aW5uaW5nQ29uZGl0aW9uKSB7XG4gICAgICAgIGFsZXJ0KCdZb3UgYmVhdCB0aGUgZ2FtZSB0aGlzIHRpbWUsIGNhbiB5b3UgbWFuYWdlIGEgbWVkaXVtIGRpZmZpY3V0bHkuLi4/Jyk7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xuICAgICAgICByZXNldCgpO1xuICAgICAgfSBlbHNlIGlmIChsaWZlU2NvcmUgPD0gMCl7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xuICAgICAgICBhbGVydCgnR2FtZSBPdmVyLCBzb3JyeSB5b3UgbG9zdCwgQm9vb29vb28hJyk7XG4gICAgICAgIHJlc2V0KCk7XG4gICAgICB9IGVsc2V7XG4gICAgICAgIHBsYXlHYW1lKCk7XG4gICAgICB9XG4gICAgfSxkaWZmaWN1bHR5LmludGVydmFsKTtcblxuICAgIC8vIHN3aXRjaCAoc2VsZWN0ZWREaWZmaWN1bHR5KSB7XG4gICAgLy8gICBjYXNlICdlYXN5JzpcbiAgICAvLyAgIGRpZmZpY3VsdHlFYXN5KCk7XG4gICAgLy8gICBjb25zdCBpbnRlcnZhbEUgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpe1xuICAgIC8vICAgICBpZiAod2luQ29uZGl0aW9uID49IDUpIHtcbiAgICAvLyAgICAgICBhbGVydCgnWW91IGJlYXQgdGhlIGdhbWUgdGhpcyB0aW1lLCBjYW4geW91IG1hbmFnZSBhIG1lZGl1bSBkaWZmaWN1dGx5Li4uPycpO1xuICAgIC8vICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxFKTtcbiAgICAvLyAgICAgICByZXNldCgpO1xuICAgIC8vICAgICB9IGVsc2UgaWYgKGxpZmVTY29yZSA8PSAwKSB7XG4gICAgLy8gICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbEUpO1xuICAgIC8vICAgICAgIGFsZXJ0KCdHYW1lIE92ZXIsIHNvcnJ5IHlvdSBsb3N0LCBCb29vb29vbyEnKTtcbiAgICAvLyAgICAgICByZXNldCgpO1xuICAgIC8vICAgICB9IGVsc2Uge1xuICAgIC8vICAgICAgIGRpZmZpY3VsdHlFYXN5KCk7XG4gICAgLy8gICAgIH1cbiAgICAvLyAgIH0sMTAwMDApO1xuICAgIC8vICAgYnJlYWs7XG4gICAgLy9cbiAgICAvLyAgIGNhc2UgJ21lZGl1bSc6XG4gICAgLy8gICBkaWZmaWN1bHR5TWVkaXVtKCk7XG4gICAgLy8gICBjb25zdCBpbnRlcnZhbE0gPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpe1xuICAgIC8vICAgICBpZiAod2luQ29uZGl0aW9uID49IDcgKSB7XG4gICAgLy8gICAgICAgYWxlcnQoJ1lvdSBiZWF0IHRoZSBnYW1lIHRoaXMgdGltZSwgY2FuIHlvdSBtYW5hZ2UgYSBoYXJkIGRpZmZpY3V0bHkuLi4/Jyk7XG4gICAgLy8gICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbE0pO1xuICAgIC8vICAgICAgIHJlc2V0KCk7XG4gICAgLy8gICAgIH0gZWxzZSBpZiAoIGxpZmVTY29yZSA8PSAwKXtcbiAgICAvLyAgICAgICBjbGVhckludGVydmFsKGludGVydmFsTSk7XG4gICAgLy8gICAgICAgYWxlcnQoJ0dhbWUgT3Zlciwgc29ycnkgeW91IGxvc3QsIEJvb29vb29vIScpO1xuICAgIC8vICAgICAgIHJlc2V0KCk7XG4gICAgLy8gICAgIH1cbiAgICAvLyAgICAgZWxzZSB7XG4gICAgLy8gICAgICAgZGlmZmljdWx0eU1lZGl1bSgpO1xuICAgIC8vICAgICB9XG4gICAgLy8gICB9LDcwMDApO1xuICAgIC8vICAgYnJlYWs7XG4gICAgLy9cbiAgICAvLyAgIGNhc2UgJ2hhcmQnOlxuICAgIC8vICAgZGlmZmljdWx0eUhhcmQoKTtcbiAgICAvLyAgIGNvbnN0IGludGVydmFsSCA9IHNldEludGVydmFsKGZ1bmN0aW9uKCl7XG4gICAgLy8gICAgIGlmICh3aW5Db25kaXRpb24gPj0gMTAgKSB7XG4gICAgLy8gICAgICAgYWxlcnQoJ1lvdSBiZWF0IHRoZSBnYW1lIHRoaXMgdGltZSwgd2VsbCB0aGF0cyBpdCwgdW5sZXNzIHlvdSByZWFsbHkgYXJlIGluc2FuZS4uLicpO1xuICAgIC8vICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxIKTtcbiAgICAvLyAgICAgICByZXNldCgpO1xuICAgIC8vICAgICB9IGVsc2UgaWYgKCBsaWZlU2NvcmUgPD0gMCl7XG4gICAgLy8gICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbEgpO1xuICAgIC8vICAgICAgIGFsZXJ0KCdHYW1lIE92ZXIsIHNvcnJ5IHlvdSBsb3N0LCBCb29vb29vbyEnKTtcbiAgICAvLyAgICAgICByZXNldCgpO1xuICAgIC8vICAgICB9XG4gICAgLy8gICAgIGVsc2Uge1xuICAgIC8vICAgICAgIGRpZmZpY3VsdHlIYXJkKCk7XG4gICAgLy8gICAgIH1cbiAgICAvLyAgIH0sNTAwMCk7XG4gICAgLy8gICBicmVhaztcbiAgICAvL1xuICAgIC8vICAgY2FzZSAnaW5zYW5lJzpcbiAgICAvL1xuICAgIC8vICAgZGlmZmljdWx0eUluc2FuZSgpO1xuICAgIC8vICAgY29uc3QgaW50ZXJ2YWxJID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtcbiAgICAvLyAgICAgaWYgKHdpbkNvbmRpdGlvbiA+PSAxMCApIHtcbiAgICAvLyAgICAgICBhbGVydCgnWW91IGJlYXQgdGhlIGdhbWUsIGxpa2UgeW91IGJlYXQgaXQsIGJlYXQgaXQgZXJtIHllYWgsIGdyYXRzIEkgZ3Vlc3MnKTtcbiAgICAvLyAgICAgICBjbGVhckludGVydmFsKGludGVydmFsSSk7XG4gICAgLy8gICAgICAgcmVzZXQoKTtcbiAgICAvLyAgICAgfSBlbHNlIGlmICggbGlmZVNjb3JlIDw9IDApe1xuICAgIC8vICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxJKTtcbiAgICAvLyAgICAgICBhbGVydCgnR2FtZSBPdmVyLCBzb3JyeSB5b3UgbG9zdCwgQm9vb29vb28hJyk7XG4gICAgLy8gICAgICAgcmVzZXQoKTtcbiAgICAvLyAgICAgfVxuICAgIC8vICAgICBlbHNlIHtcbiAgICAvLyAgICAgICBjb25zb2xlLmxvZygnRnVuY3Rpb24gY2FsbGVkIScpXG4gICAgLy8gICAgICAgZGlmZmljdWx0eUluc2FuZSgpO1xuICAgIC8vICAgICB9XG4gICAgLy8gICB9LDI1MDApO1xuICAgIC8vICAgYnJlYWs7XG4gICAgLy8gICBkZWZhdWx0OlxuICAgIC8vICAgYWxlcnQoJ1BsZWFzZSBzZWxlY3QgYSBkaWZmaWN1bHR5Li4uJyk7XG4gICAgLy8gfVxuICB9KTtcblxuICAvLy8gVGhpcyBpcyB0aGUgdmFsaWRhdGlvbiB3aGVuIHRoZSBidXR0b24gaXMgY2xpY2tlZCB0byBzdWJtaXQgYW4gYW5zd2VyLCB0aGlzIGFsc28gaG9sZHMgdGhlIGFuaW1hdGlvbnMgYXBwbGllZCB0byB0aGUgZ2FtZS5cblxuICAkKCdmb3JtJykub24oJ3N1Ym1pdCcsIGZ1bmN0aW9uIChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnNvbGUubG9nKCdpbiBoZXJlJyk7XG4gICAgJCgnLmFuYWdyYW0nKS5lYWNoKGZ1bmN0aW9uIChhbmFncmFtKSB7XG4gICAgICBjb25zb2xlLmxvZyhhbmFncmFtLCB0aGlzKTtcbiAgICAgIGNvbnN0IGNoZWNrZXIgPSAkKHRoaXMpLmRhdGEoJ3dvcmQnKTtcblxuICAgICAgaWYgKCQoJyNhbnN3ZXInKS52YWwoKSA9PT0gY2hlY2tlcil7XG4gICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2FuaW1hdGVkIGZhZGVPdXRMZWZ0JykuY3NzKCdjb2xvcicsJyMzOUZGMTQnKTtcbiAgICAgICAgJHdpbkNvbmRpdGlvbi5odG1sKGBDb3JyZWN0IEFuc3dlcnM6ICR7d2luQ29uZGl0aW9uID0gd2luQ29uZGl0aW9uICsgMX1gKTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgJCh0aGlzKS5yZW1vdmUoKTtcbiAgICAgICAgfSw1MDApO1xuXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkKCcuYW5hZ3JhbScpLmFkZENsYXNzKCdhbmltYXRlZCB3b2JibGUnKTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgJCgnLmFuYWdyYW0nKS5yZW1vdmVDbGFzcygnd29iYmxlJyk7XG4gICAgICAgIH0sNTAwKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICAkKCdmb3JtJykudHJpZ2dlcigncmVzZXQnKTtcbiAgfSk7XG59KTtcblxuLy8vLy8gbG9zZSBhIGxpZmUgZm9yIHdvcmRzIGZhbGxpbmcgb24gYm90dG9tIG9mIHRoZSBkaXYgcGxhY2UgdGhpcyBpbiBhIGZ1bmN0aW9uIGFuZCB0aGVuIGNhbGwgaXQgaW4gZWFjaCBkaWZmaWN1bHR5XG4iXX0=
