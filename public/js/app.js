"use strict";console.log("JS Loaded"),$(function(){function a(){var a=[Math.floor(Math.random()*p.length)],t=p[a];return p.splice(a,1),t}function t(a){return a.split("").sort(function(){return.5-Math.random()}).join("")}function n(){var a=$('<p class="anagram"></p>'),t=Math.ceil(600*Math.random());return a.css({left:t}),a}function e(){var e=a(),r=t(e),o=n();o.text(r),o.attr("data-word",e),f.append(o),c=setInterval(function(){o.css("top","+=10px")},2e3);o.position()}function r(n){var e=a(),r=t(e);n.text(r),n.attr("data-word",e),c=setInterval(function(){n.css("top","+=20px")},2e3)}function o(n){var e=a(),r=t(e);n.text(r),n.attr("data-word",e),c=setInterval(function(){n.css("top","+=20px")},1500);var o=n.position();console.log(o)}function s(n){var e=a(),r=t(e);n.text(r),n.attr("data-word",e),c=setInterval(function(){n.css("top","+=30px")},1e3);var o=n.position();console.log(o)}var c=void 0,i=$("#currentScore"),l=$("#lives"),d=$("#play"),u=($("#answer"),$("#subject-options")),g=$("#difficulty-options"),f=($("#anagram1"),$("#anagram2"),$("#anagram3"),$("#anagram4"),$("#anagram5"),$("#anagram6"),$("#anagram7"),$("#anagram8"),$("#anagram9"),$("#anagram10"),$(".ag-tetris")),m={BBT:["sheldon","leanord","spock","cheesecakefactory","howard","startrek","penny","koothrapoli","bernadette","physics","laundry","halonight","dumplings","brisket","nasa","stringtheory","darkmatter","comiccon","comicbook"],LOTR:["arragon","gimli"]},v="",p="";u.on("change",function(){var a=u.val();p=m[a]}),g.on("change",function(){v=g.val()});var h=5,k=0,b=0;$("#submit").on("click",function(){$(".anagram").each;var a=selectedAnagram.attr("data-word");$("#answer").val()===a?(selectedAnagram.text(a).css("display","hidden"),b++,console.log(b),i.html("Score: "+(k+=a.length)),selectedAnagram.addClass("animated fadeOutLeft").css("color","green"),clearInterval(c)):(selectedAnagram.addClass("animated wobble").css("color","red"),l.html("Lives: "+(h-=1)))}),d.on("click",function(){switch(v){case"easy":e();var a=setInterval(function(){b>2?(clearInterval(a),console.log("winCondition is greater than 5")):e()},1e4);break;case"medium":r(),setInterval(function(){r()},8e3);break;case"hard":o(),setInterval(function(){o()},5e3);break;case"insane":setInterval(function(){s()},3e3);break;default:alert("Please select a difficulty...")}console.log(v)})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJjb25zb2xlIiwibG9nIiwiJCIsImdlbmVyYXRlV29yZCIsImluZGV4IiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwic2VsZWN0ZWRTdWJqZWN0IiwibGVuZ3RoIiwic2VsZWN0ZWRXb3JkIiwiZ2VuZXJhdGVBbmFncmFtIiwic3BsaXQiLCJzb3J0Iiwiam9pbiIsImdlbmVyYXRlQW5hZ3JhbUVsZW1lbnQiLCIkYW5hZ3JhbSIsImxlZnQiLCJkaWZmaWN1bHR5RWFzeSIsInNjcmFtYmxlZFdvcmQiLCJzZWxlY3RlZEFuYWdyYW0iLCJhdHRyIiwidGV4dCIsIiRjb250YWluZXIiLCJhcHBlbmQiLCJjc3MiLCJpbnRlcnZhbCIsInBvc2l0aW9uIiwiZGlmZmljdWx0eU1lZGl1bSIsImRpZmZpY3VsdHlIYXJkIiwiZGlmZmljdWx0eUluc2FuZSIsInNldEludGVydmFsIiwiJGN1cnJlbnRTY29yZSIsIiRwbGF5R2FtZSIsIiRpbnB1dEJ5VXNlciIsIiRhbmFncmFtcyIsIiRzdWJqZWN0T3B0aW9ucyIsIiRkaWZmaWN1bHR5T3B0aW9ucyIsIiRhbmFncmFtMSIsImNhdGVnb3JpZXMiLCJCQlQiLCJMT1RSIiwic2VsZWN0ZWREaWZmaWN1bHR5IiwidmFsIiwidmFsdWUiLCJsaWZlU2NvcmUiLCJjdXJyZW50U2NvcmVEaXNscGF5ZWQiLCJvbiIsImVhY2giLCJ3aW5Db25kaXRpb24iLCJodG1sIiwiYWRkQ2xhc3MiLCJjbGVhckludGVydmFsIiwiJGxpdmVzIiwiaW50ZXJ2YWxJZCIsImFsZXJ0Il0sIm1hcHBpbmdzIjoiWUFBQUEsU0FBUUMsSUFBSSxhQUNaQyxFQUFFLFdBeUNBLFFBQVNDLEtBRFQsR0FBQUMsSUFBQUMsS0FBQUMsTUFBQUQsS0FBQUUsU0FBQUMsRUFBQUMsU0FDQUMsRUFBQUYsRUFBd0JKLEVBRXRCLE9BREFJLEdBQWVILE9BQUFELEVBQWdCRyxHQUN6QkcsRUFNUixRQUFTQyxHQUFnQkQsR0FEekIsTUFBQUEs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RyxXQUFBUixHQUFzQkEsT0FLMUJaLEVBQVVjLEdBQUcsUUFBUyxXQUNwQixPQUFRTCxHQUNOLElBQUssT0FFTHhCLEdBQ0EsSUFBTW9DLEdBQWF2QixZQUFZLFdBQzdCa0IsRUFBSUEsR0FDRkcsY0FBQUEsR0FDQXBELFFBQUFBLElBQVFDLG1DQUdSaUIsS0FFSCxJQUNELE1BQ0EsS0FBSyxTQUVMVSxJQUNBRyxZQUFBQSxXQUVFSCxLQUNELElBQ0QsTUFDQSxLQUFLLE9BRUxDLElBQ0FFLFlBQUFBLFdBRUVGLEtBQ0QsSUFDRCxNQUNBLEtBQUssU0FFTEUsWUFBQUEsV0FFRUQsS0FDRCxJQUNELE1BQ0EsU0FDQXlCLE1BQUFBLGlDQUVGdkQsUUFBUUMsSUFBSXlDIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnNvbGUubG9nKCdKUyBMb2FkZWQnKTtcbiQoKCkgPT4ge1xuICBsZXQgaW50ZXJ2YWw7XG4gIGNvbnN0ICRjdXJyZW50U2NvcmUgPSAkKCcjY3VycmVudFNjb3JlJyk7XG4gIGNvbnN0ICRsaXZlcyA9ICQoJyNsaXZlcycpO1xuICBjb25zdCAkcGxheUdhbWUgPSAkKCcjcGxheScpO1xuICBjb25zdCAkaW5wdXRCeVVzZXIgPSAkKCcjYW5zd2VyJyk7XG4gIGNvbnN0ICRzdWJqZWN0T3B0aW9ucyA9ICQoJyNzdWJqZWN0LW9wdGlvbnMnKTtcbiAgY29uc3QgJGRpZmZpY3VsdHlPcHRpb25zID0gJCgnI2RpZmZpY3VsdHktb3B0aW9ucycpO1xuICBjb25zdCAkYW5hZ3JhbTEgPSAkKCcjYW5hZ3JhbTEnKTtcbiAgY29uc3QgJGFuYWdyYW0yID0gJCgnI2FuYWdyYW0yJyk7XG4gIGNvbnN0ICRhbmFncmFtMyA9ICQoJyNhbmFncmFtMycpO1xuICBjb25zdCAkYW5hZ3JhbTQgPSAkKCcjYW5hZ3JhbTQnKTtcbiAgY29uc3QgJGFuYWdyYW01ID0gJCgnI2FuYWdyYW01Jyk7XG4gIGNvbnN0ICRhbmFncmFtNiA9ICQoJyNhbmFncmFtNicpO1xuICBjb25zdCAkYW5hZ3JhbTcgPSAkKCcjYW5hZ3JhbTcnKTtcbiAgY29uc3QgJGFuYWdyYW04ID0gJCgnI2FuYWdyYW04Jyk7XG4gIGNvbnN0ICRhbmFncmFtOSA9ICQoJyNhbmFncmFtOScpO1xuICBjb25zdCAkYW5hZ3JhbTEwID0gJCgnI2FuYWdyYW0xMCcpO1xuICBjb25zdCAkYW5hZ3JhbXMgPSBbJGFuYWdyYW0xLCRhbmFncmFtMiwkYW5hZ3JhbTMsJGFuYWdyYW00LCRhbmFncmFtNSwkYW5hZ3JhbTYsJGFuYWdyYW03LCRhbmFncmFtOCwkYW5hZ3JhbTksJGFuYWdyYW0xMF07XG5cbiAgY29uc3QgJGNvbnRhaW5lciA9ICQoJy5hZy10ZXRyaXMnKTtcbiAgY29uc3QgY2F0ZWdvcmllcyA9IHtcbiAgICBCQlQ6IFsnc2hlbGRvbicsJ2xlYW5vcmQnLCdzcG9jaycsJ2NoZWVzZWNha2VmYWN0b3J5JywnaG93YXJkJywnc3RhcnRyZWsnLCdwZW5ueScsJ2tvb3RocmFwb2xpJywnYmVybmFkZXR0ZScsJ3BoeXNpY3MnLCdsYXVuZHJ5JywnaGFsb25pZ2h0JywnZHVtcGxpbmdzJywgJ2JyaXNrZXQnLCduYXNhJywnc3RyaW5ndGhlb3J5JywnZGFya21hdHRlcicsICdjb21pY2NvbicsJ2NvbWljYm9vayddLFxuICAgIExPVFI6IFsnYXJyYWdvbicsICdnaW1saSddXG4gIH07XG5cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy9TZWxlY3RvcnMvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgbGV0IHNlbGVjdGVkRGlmZmljdWx0eSA9ICcnO1xuICBsZXQgc2VsZWN0ZWRTdWJqZWN0ID0gJyc7XG4gICRzdWJqZWN0T3B0aW9ucy5vbignY2hhbmdlJywgKCkgPT4ge1xuICAgIGNvbnN0IHZhbHVlID0gJHN1YmplY3RPcHRpb25zLnZhbCgpO1xuICAgIHNlbGVjdGVkU3ViamVjdCA9IGNhdGVnb3JpZXNbdmFsdWVdO1xuICB9KTtcbiAgJGRpZmZpY3VsdHlPcHRpb25zLm9uKCdjaGFuZ2UnLCAoKSA9PiB7XG4gICAgc2VsZWN0ZWREaWZmaWN1bHR5ID0gJGRpZmZpY3VsdHlPcHRpb25zLnZhbCgpO1xuICB9KTtcbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy9TZWxlY3RvcnMgRW5kLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vL0Z1bmN0aW9ucyB0aGF0IGNoYW5nZSB0aGUgd29yZC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAvLy8gVGhpcyBzZWxlY3RzIGEgcmFuZG9tIHdvcmQgZnJvbSB0aGUgc2VsZWN0ZWQgYXJyYXlcbiAgZnVuY3Rpb24gZ2VuZXJhdGVXb3JkKCkge1xuICAgIGNvbnN0IGluZGV4ID0gW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHNlbGVjdGVkU3ViamVjdC5sZW5ndGgpXTtcbiAgICBjb25zdCBzZWxlY3RlZFdvcmQgPSBzZWxlY3RlZFN1YmplY3RbaW5kZXhdO1xuICAgIHNlbGVjdGVkU3ViamVjdC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIHJldHVybiBzZWxlY3RlZFdvcmQ7XG4gIH1cblxuICAvLy8gVGhpcyB0YWtlcyB0aGUgcmFuZG9tbHkgc2VsZWN0ZWQgd29yZCBhbmQgc2h1ZmZsZXMgaXQgaW50byBhbiBhbmFncmFtXG4gIGZ1bmN0aW9uIGdlbmVyYXRlQW5hZ3JhbShzZWxlY3RlZFdvcmQpIHtcbiAgICByZXR1cm4gc2VsZWN0ZWRXb3JkLnNwbGl0KCcnKS5zb3J0KGZ1bmN0aW9uKCl7XG4gICAgICByZXR1cm4gMC41IC0gTWF0aC5yYW5kb20oKTtcbiAgICB9ICkuam9pbignJyk7XG4gIH1cblxuICAvLy8gVGhpcyBjaG9vc2VzIGEgZGlmZmVyZW50ICdhbmFncmFtJyBwb3NpdGlvbiBmcm9tIHRoZSBIVE1MXG4gIC8vIGxldCBzZWxlY3RlZEFuYWdyYW0gPSAnJztcbiAgZnVuY3Rpb24gZ2VuZXJhdGVBbmFncmFtRWxlbWVudCAoKSB7XG4gICAgY29uc3QgJGFuYWdyYW0gPSAkKCc8cCBjbGFzcz1cImFuYWdyYW1cIj48L3A+Jyk7XG4gICAgY29uc3QgbGVmdCA9IE1hdGguY2VpbCgoTWF0aC5yYW5kb20oKSAqIDYwMCkpO1xuICAgICRhbmFncmFtLmNzcyh7bGVmdDogbGVmdH0pO1xuICAgIC8vIHNlbGVjdGVkQW5hZ3JhbSA9ICRhbmFncmFtc1tNYXRoLmZsb29yKChNYXRoLnJhbmRvbSgpICogMTApICsgMSldO1xuICAgIHJldHVybiAkYW5hZ3JhbTtcbiAgfVxuXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy9GdW5jdGlvbnMgdGhhdCBjaGFuZ2UgdGhlIHdvcmQvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgLy8vLy8vLy8vLy8vLy8vIFRoZXNlIGFyZSB0aGUgZGlmZmljdWx0eSBvcHRpb24gZnVuY3Rpb25zIC8vLy8vLy8vLy8vLy8vL1xuICBmdW5jdGlvbiBkaWZmaWN1bHR5RWFzeSAoKXtcblxuICAgIGNvbnN0IHNlbGVjdGVkV29yZCA9IGdlbmVyYXRlV29yZCgpO1xuICAgIGNvbnN0IHNjcmFtYmxlZFdvcmQgPSBnZW5lcmF0ZUFuYWdyYW0oc2VsZWN0ZWRXb3JkKTtcbiAgICBjb25zdCBzZWxlY3RlZEFuYWdyYW0gPSBnZW5lcmF0ZUFuYWdyYW1FbGVtZW50KCk7XG5cbiAgICBzZWxlY3RlZEFuYWdyYW0udGV4dChzY3JhbWJsZWRXb3JkKTtcbiAgICBzZWxlY3RlZEFuYWdyYW0uYXR0cignZGF0YS13b3JkJywgc2VsZWN0ZWRXb3JkKTtcbiAgICAkY29udGFpbmVyLmFwcGVuZChzZWxlY3RlZEFuYWdyYW0pO1xuXG4gICAgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHtcbiAgICAgIHNlbGVjdGVkQW5hZ3JhbS5jc3MoJ3RvcCcsICcrPTEwcHgnKTtcbiAgICB9LDIwMDApO1xuICAgIGNvbnN0IHBvc2l0aW9uID0gc2VsZWN0ZWRBbmFncmFtLnBvc2l0aW9uKCk7XG4gIH1cblxuICBmdW5jdGlvbiBkaWZmaWN1bHR5TWVkaXVtIChzZWxlY3RlZEFuYWdyYW0pe1xuXG4gICAgY29uc3Qgc2VsZWN0ZWRXb3JkID0gZ2VuZXJhdGVXb3JkKCk7XG4gICAgY29uc3Qgc2NyYW1ibGVkV29yZCA9IGdlbmVyYXRlQW5hZ3JhbShzZWxlY3RlZFdvcmQpO1xuXG4gICAgc2VsZWN0ZWRBbmFncmFtLnRleHQoc2NyYW1ibGVkV29yZCk7XG4gICAgc2VsZWN0ZWRBbmFncmFtLmF0dHIoJ2RhdGEtd29yZCcsIHNlbGVjdGVkV29yZCk7XG5cbiAgICBpbnRlcnZhbCA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkge1xuICAgICAgc2VsZWN0ZWRBbmFncmFtLmNzcygndG9wJywgJys9MjBweCcpO1xuICAgIH0sMjAwMCk7XG4gIH1cblxuICBmdW5jdGlvbiBkaWZmaWN1bHR5SGFyZCAoc2VsZWN0ZWRBbmFncmFtKXtcblxuICAgIGNvbnN0IHNlbGVjdGVkV29yZCA9IGdlbmVyYXRlV29yZCgpO1xuICAgIGNvbnN0IHNjcmFtYmxlZFdvcmQgPSBnZW5lcmF0ZUFuYWdyYW0oc2VsZWN0ZWRXb3JkKTtcbiAgICBzZWxlY3RlZEFuYWdyYW0udGV4dChzY3JhbWJsZWRXb3JkKTtcbiAgICBzZWxlY3RlZEFuYWdyYW0uYXR0cignZGF0YS13b3JkJywgc2VsZWN0ZWRXb3JkKTtcblxuICAgIGludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XG4gICAgICBzZWxlY3RlZEFuYWdyYW0uY3NzKCd0b3AnLCAnKz0yMHB4Jyk7XG4gICAgfSwxNTAwKTtcbiAgICBjb25zdCBwb3NpdGlvbiA9IHNlbGVjdGVkQW5hZ3JhbS5wb3NpdGlvbigpO1xuICAgIGNvbnNvbGUubG9nKHBvc2l0aW9uKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRpZmZpY3VsdHlJbnNhbmUgKHNlbGVjdGVkQW5hZ3JhbSl7XG5cbiAgICBjb25zdCBzZWxlY3RlZFdvcmQgPSBnZW5lcmF0ZVdvcmQoKTtcbiAgICBjb25zdCBzY3JhbWJsZWRXb3JkID0gZ2VuZXJhdGVBbmFncmFtKHNlbGVjdGVkV29yZCk7XG5cbiAgICBzZWxlY3RlZEFuYWdyYW0udGV4dChzY3JhbWJsZWRXb3JkKTtcbiAgICBzZWxlY3RlZEFuYWdyYW0uYXR0cignZGF0YS13b3JkJywgc2VsZWN0ZWRXb3JkKTtcblxuXG4gICAgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHtcbiAgICAgIHNlbGVjdGVkQW5hZ3JhbS5jc3MoJ3RvcCcsICcrPTMwcHgnKTtcbiAgICB9LDEwMDApO1xuICAgIGNvbnN0IHBvc2l0aW9uID0gc2VsZWN0ZWRBbmFncmFtLnBvc2l0aW9uKCk7XG4gICAgY29uc29sZS5sb2cocG9zaXRpb24pO1xuICB9XG5cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8gRGlmZmljdWx0eSBPcHRpb25zIEVuZCBoZXJlIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gIC8vY3VycmVudCBzY29yZSBvZiB0aGUgcGxheWVyXG4gIGxldCBsaWZlU2NvcmUgPSA1O1xuICBsZXQgY3VycmVudFNjb3JlRGlzbHBheWVkID0gMDtcbiAgbGV0IHdpbkNvbmRpdGlvbiA9IDA7XG5cblxuICAvLy8gVGhpcyBpcyB0aGUgdmFsaWRhdGlvbiB3aGVuIHRoZSBidXR0b24gaXMgY2xpY2tlZCB0byBzdWJtaXQgYW4gYW5zd2VyLCB0aGlzIGFsc28gaG9sZHMgdGhlIGFuaW1hdGlvbnMgYXBwbGllZCB0byB0aGUgZ2FtZS5cbiAgJCgnI3N1Ym1pdCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcblxuICAgIGNvbnN0IGNvcnJlY3QgPSBmYWxzZTtcblxuICAgIC8vIGxvb3AgdGhyb3VnaCBhbGwgZWxlbWVudHMgd2l0aCBjbGFzcyBvZiAnYW5hZ3JhbSdcbiAgICAvLyBmb3IgZWFjaCBlbGVtZW50LCBncmFiIHRoZSBkYXRhLXdvcmQgYXR0cmlidXRlXG4gICAgLy8gY2hlY2sgaWYgdGhlIGRhdGEtd29yZCBtYXRjaGVzIHRoZSAjYW5zd2VyIHZhbCgpXG4gICAgLy8gaWYgc28sIG1ha2UgY29ycmVjdCB0cnVlXG4gICAgLy8gZWxzZSBldGMuXG5cbiAgICAvLyBpbmRleCwgZWxlbWVudFxuICAgIC8vIGluc2lkZSBhbiBlYWNoIGxvb3AgeW91IG5lZWQgdG8gd3JhcCB0aGUgZWxlbWVudCBpbnNpZGUganF1ZXJ5XG4gICAgLy8gJChlbGVtZW50KVxuICAgIC8vIGluc2lkZSB0aGUgbG9vcCwgaWYgeW91IGZpbmQgYSBtYXRjaCwgc2V0IGNvcnJlY3QgdG8gYmUgdHJ1ZVxuICAgIC8vIG9uY2UgdGhlIGxvb3AgaGFzIGZpbmlzaGVkLCBjaGVjayBpZiBjb3JyZWN0IGhhcyBiZWVuIGNoYW5nZWQgdG8gdHJ1ZSwgaWYgc28gLCBhZGQgYSBwb2ludCwgaWYgbm90LCBtaW51cyBhIHBvaW50XG5cbiAgICAkKCcuYW5hZ3JhbScpLmVhY2hcblxuICAgIGNvbnN0IHNlbGVjdGVkV29yZCA9IHNlbGVjdGVkQW5hZ3JhbS5hdHRyKCdkYXRhLXdvcmQnKTtcblxuICAgIGlmKCQoJyNhbnN3ZXInKS52YWwoKSA9PT0gc2VsZWN0ZWRXb3JkKXtcblxuICAgICAgc2VsZWN0ZWRBbmFncmFtLnRleHQoc2VsZWN0ZWRXb3JkKS5jc3MoJ2Rpc3BsYXknLCdoaWRkZW4nKTtcblxuICAgICAgd2luQ29uZGl0aW9uICsrO1xuICAgICAgY29uc29sZS5sb2cod2luQ29uZGl0aW9uKTtcblxuICAgICAgJGN1cnJlbnRTY29yZS5odG1sKGBTY29yZTogJHtjdXJyZW50U2NvcmVEaXNscGF5ZWQgKz0gc2VsZWN0ZWRXb3JkLmxlbmd0aH1gKTtcblxuICAgICAgc2VsZWN0ZWRBbmFncmFtLmFkZENsYXNzKCdhbmltYXRlZCBmYWRlT3V0TGVmdCcpLmNzcygnY29sb3InLCdncmVlbicpO1xuXG4gICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2VsZWN0ZWRBbmFncmFtLmFkZENsYXNzKCdhbmltYXRlZCB3b2JibGUnKS5jc3MoJ2NvbG9yJywncmVkJyk7XG5cbiAgICAgICRsaXZlcy5odG1sKGBMaXZlczogJHtsaWZlU2NvcmUgLT0gMX1gKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vLyBUaGlzIGlzIGZvciB3aGVuIHRoZSBwbGF5ZXIgaXMgcmVhZHkgdG8gcGxheSwgYWZ0ZXIgdGhlIGRpZmZpY3VsdHkgaXMgc2VsZWN0ZWQgYW5kIHRoZSBwbGF5IGJ1dHRvbiBpcyBjbGlja2VkIC0gc28gdGhpcyBzdGFydHMgdGhlIGdhbWUhXG4gICRwbGF5R2FtZS5vbignY2xpY2snLCBmdW5jdGlvbigpe1xuICAgIHN3aXRjaCAoc2VsZWN0ZWREaWZmaWN1bHR5KSB7XG4gICAgICBjYXNlICdlYXN5JzpcbiAgICAgIC8vIHJhbmRvbWlzZVBvc2l0aW9uKCk7XG4gICAgICBkaWZmaWN1bHR5RWFzeSgpO1xuICAgICAgY29uc3QgaW50ZXJ2YWxJZCA9IHNldEludGVydmFsKGZ1bmN0aW9uKCl7XG4gICAgICAgIGlmICh3aW5Db25kaXRpb24gPiAyKSB7XG4gICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbElkKTtcbiAgICAgICAgICBjb25zb2xlLmxvZygnd2luQ29uZGl0aW9uIGlzIGdyZWF0ZXIgdGhhbiA1Jyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gcmFuZG9taXNlUG9zaXRpb24oKTtcbiAgICAgICAgICBkaWZmaWN1bHR5RWFzeSgpO1xuICAgICAgICB9XG4gICAgICB9LDEwMDAwKTtcbiAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnbWVkaXVtJzpcbiAgICAgIC8vIHJhbmRvbWlzZVBvc2l0aW9uKCk7XG4gICAgICBkaWZmaWN1bHR5TWVkaXVtKCk7XG4gICAgICBzZXRJbnRlcnZhbChmdW5jdGlvbigpe1xuICAgICAgICAvLyByYW5kb21pc2VQb3NpdGlvbigpO1xuICAgICAgICBkaWZmaWN1bHR5TWVkaXVtKCk7XG4gICAgICB9LDgwMDApO1xuICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdoYXJkJzpcbiAgICAgIC8vIHJhbmRvbWlzZVBvc2l0aW9uKCk7XG4gICAgICBkaWZmaWN1bHR5SGFyZCgpO1xuICAgICAgc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtcbiAgICAgICAgLy8gcmFuZG9taXNlUG9zaXRpb24oKTtcbiAgICAgICAgZGlmZmljdWx0eUhhcmQoKTtcbiAgICAgIH0sNTAwMCk7XG4gICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2luc2FuZSc6XG4gICAgICAvLyByYW5kb21pc2VQb3NpdGlvbigpO1xuICAgICAgc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtcbiAgICAgICAgLy8gcmFuZG9taXNlUG9zaXRpb24oKTtcbiAgICAgICAgZGlmZmljdWx0eUluc2FuZSgpO1xuICAgICAgfSwzMDAwKTtcbiAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgIGFsZXJ0KCdQbGVhc2Ugc2VsZWN0IGEgZGlmZmljdWx0eS4uLicpO1xuICAgIH1cbiAgICBjb25zb2xlLmxvZyhzZWxlY3RlZERpZmZpY3VsdHkpO1xuICB9KTtcbn0pO1xuIl19
