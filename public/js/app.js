"use strict";$(function(){function e(){var e=[Math.floor(Math.random()*y.length)],n=y[e];return y.splice(e,1),n}function n(e){return e.split("").sort(function(){return.5-Math.random()}).join("")}function o(){var e=$('<p class="anagram"></p>'),n=Math.ceil(Math.random()*(s-250));return e.css({left:n}),e}function a(){$(".anagram").each(function(){var e=this;Math.round($(this).position().top)>=r-80&&(console.log(l),$(this).hasClass("hinge")||(l-=1),d.html("Lives Left: "+l),$(this).css("color","red"),$(this).addClass("animated hinge"),setTimeout(function(){$(e).remove()},500))})}function t(){console.log(s);var t=e(),i=n(t),r=o();r.text(i),r.attr("data-word",t),v.append(r),setInterval(function(){r.css("top","+=10px"),a()},u.speed)}function i(){l=5,d.html("Lives: 5"),c=0,g.html("Correct Answers: 0"),$(".anagram").remove()}var r=$(".game-box").outerHeight(!0),s=$(".game-box").width();console.log(s),console.log(s);var l=5,c=0,u=null,d=$("#lives"),h=$("#play"),g=$("#winCondition"),m=$("#subject-options"),f=$("#difficulty-options"),v=$(".game-box"),p={BBT:["sheldon","leanord","spock","cheesecake factory","howard","star trek","penny","koothrapoli","bernadette","physics","laundry","halo night","dumplings","brisket","nasa","string theory","dark matter","comiccon","comic book"],LOTR:["arragorn","gimli","gandalf","legolas","mordor","uruk hai","frodo","golumn","orcs","the shire","baggins","sauron","gondor","elves","hobbit","dwarves","two towers","black gate","faramir","saruman","shadowfax","witch king"],FT:["arsenal","bournemouth","burnley","brighton","chelsea","crystal palace","everton","liverpool","newcastle","southampton","barcelona","juventus","ajax","bayern"],CC:["vienna","bridgetown","brasilia","brussels","sofia","hanoi","ottowa","bangui","washington","havana","prauge","cairo","helsinki","budapest","jakarta","jerusalem","kingston","tokyo","nairobi","beijing","rabat","oslo","pyongyang","madrid"],WDI:["function","javascript","switch","refactor","namespacing","jquery","const","primitive","object","array","responsive","constructor","recursive","indentation","iterate","method","algorithim","terminal","github","debugging","loop","variable"],SW:["css"]},b={easy:{interval:1e4,speed:1500,winningCondition:5},medium:{interval:7e3,speed:1e3,winningCondition:7},hard:{interval:5e3,speed:700,winningCondition:10},insane:{interval:2500,speed:200,winningCondition:10}},w="",y="";m.on("change",function(){var e=m.val();y=p[e]}),f.on("change",function(){w=f.val(),u=b[w],console.log(u)}),h.click(function(){if(""===w||""===y)alert("A Subject and Difficulty needs to be selected to proceed, please choose both...");else{t();var e=setInterval(function(){c===u.winningCondition?(alert("You beat the game this time, can you manage amedium difficutly...?"),clearInterval(e),i()):l<=0?(clearInterval(e),alert("Game Over, sorry you lost, Booooooo!"),i()):t()},u.interval)}}),$("form").on("submit",function(e){e.preventDefault(),$(".anagram").each(function(){var e=this,n=$(this).data("word");$("#answer").val().toLowerCase()===n?($(this).addClass("animated fadeOutUp").css("color","#39FF14"),g.html("Correct Answers: "+(c+=1)),setTimeout(function(){$(e).remove()},500)):($(".anagram").addClass("animated jello"),setTimeout(function(){$(".anagram").removeClass("jello")},500))}),$("form").trigger("reset")}),$(window).on("resize",function(){r=$(".game-box").outerHeight(!0)}),$(window).on("resize",function(){s=$(".game-box").width()})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyIkIiwiZ2VuZXJhdGVXb3JkIiwiaW5kZXgiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJzZWxlY3RlZFN1YmplY3QiLCJsZW5ndGgiLCJzZWxlY3RlZFdvcmQiLCJnZW5lcmF0ZUFuYWdyYW0iLCJzcGxpdCIsInNvcnQiLCJqb2luIiwiZ2VuZXJhdGVBbmFncmFtRWxlbWVudCIsIiRhbmFncmFtIiwibGVmdCIsIndpZHRoIiwiYW5hZ3JhbUhpdHNUaGVCb3R0b20iLCJlYWNoIiwiX3RoaXMiLCJ0aGlzIiwicG9zaXRpb24iLCJ0b3AiLCJoZWlnaHQiLCJjb25zb2xlIiwibG9nIiwibGlmZVNjb3JlIiwiaGFzQ2xhc3MiLCIkbGl2ZXMiLCJzZXRUaW1lb3V0IiwiaHRtbCIsInBsYXlHYW1lIiwic2NyYW1ibGVkV29yZCIsInNlbGVjdGVkQW5hZ3JhbSIsIiRjb250YWluZXIiLCJzZXRJbnRlcnZhbCIsInRleHQiLCJhcHBlbmQiLCJkaWZmaWN1bHR5Iiwid2luQ29uZGl0aW9uIiwiJHdpbkNvbmRpdGlvbiIsInJlbW92ZSIsIm91dGVySGVpZ2h0IiwiJHBsYXlHYW1lIiwiJHN1YmplY3RPcHRpb25zIiwiJGRpZmZpY3VsdHlPcHRpb25zIiwiQkJUIiwiTE9UUiIsImNhdGVnb3JpZXMiLCJGVCIsIkNDIiwic2V0dGluZ3MiLCJlYXN5IiwiaW50ZXJ2YWwiLCJ3aW5uaW5nQ29uZGl0aW9uIiwibWVkaXVtIiwiaGFyZCIsImluc2FuZSIsInNlbGVjdGVkRGlmZmljdWx0eSIsInZhbCIsInZhbHVlIiwiYWxlcnQiLCJjbGVhckludGVydmFsIiwicmVzZXQiLCJlIiwicHJldmVudERlZmF1bHQiLCJfdGhpczIiLCJjaGVja2VyIiwiZGF0YSIsInRvTG93ZXJDYXNlIiwib24iLCJhZGRDbGFzcyIsImNzcyIsInJlbW92ZUNsYXNzIiwidHJpZ2dlciIsIndpbmRvdyJdLCJtYXBwaW5ncyI6IllBQUFBLEdBQUUsV0F5REEsUUFBQUMs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LGFBQUEsS0FFSDFDLEVBQUUyRSxRQUFRRCxHQUFBQSxTQUFRLFdBakJwQjFELEVBQUFoQixFQUFBLGFBQUFnQiIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIkKCgpID0+IHtcbiAgbGV0IGhlaWdodCA9ICQoJy5nYW1lLWJveCcpLm91dGVySGVpZ2h0KHRydWUpO1xuICBsZXQgd2lkdGggPSAkKCcuZ2FtZS1ib3gnKS53aWR0aCgpO1xuICBjb25zb2xlLmxvZyh3aWR0aCk7XG4gIGNvbnNvbGUubG9nKHdpZHRoKTtcbiAgbGV0IGxpZmVTY29yZSA9IDU7XG4gIGxldCB3aW5Db25kaXRpb24gPSAwO1xuICBsZXQgZGlmZmljdWx0eSA9IG51bGw7XG4gIGNvbnN0ICRsaXZlcyA9ICQoJyNsaXZlcycpO1xuICBjb25zdCAkcGxheUdhbWUgPSAkKCcjcGxheScpO1xuICBjb25zdCAkd2luQ29uZGl0aW9uID0gJCgnI3dpbkNvbmRpdGlvbicpO1xuICBjb25zdCAkc3ViamVjdE9wdGlvbnMgPSAkKCcjc3ViamVjdC1vcHRpb25zJyk7XG4gIGNvbnN0ICRkaWZmaWN1bHR5T3B0aW9ucyA9ICQoJyNkaWZmaWN1bHR5LW9wdGlvbnMnKTtcbiAgY29uc3QgJGNvbnRhaW5lciA9ICQoJy5nYW1lLWJveCcpO1xuICBjb25zdCBjYXRlZ29yaWVzID0ge1xuICAgIEJCVDogWydzaGVsZG9uJywnbGVhbm9yZCcsJ3Nwb2NrJywnY2hlZXNlY2FrZSBmYWN0b3J5JywnaG93YXJkJywnc3RhciB0cmVrJywncGVubnknLCdrb290aHJhcG9saScsJ2Jlcm5hZGV0dGUnLCdwaHlzaWNzJywnbGF1bmRyeScsJ2hhbG8gbmlnaHQnLCdkdW1wbGluZ3MnLCAnYnJpc2tldCcsJ25hc2EnLCdzdHJpbmcgdGhlb3J5JywnZGFyayBtYXR0ZXInLCAnY29taWNjb24nLCdjb21pYyBib29rJ10sXG4gICAgTE9UUjogWydhcnJhZ29ybicsICdnaW1saScsJ2dhbmRhbGYnLCdsZWdvbGFzJywnbW9yZG9yJywndXJ1ayBoYWknLCdmcm9kbycsJ2dvbHVtbicsJ29yY3MnLCd0aGUgc2hpcmUnLCdiYWdnaW5zJywnc2F1cm9uJywgJ2dvbmRvcicsJ2VsdmVzJywnaG9iYml0JywnZHdhcnZlcycsJ3R3byB0b3dlcnMnLCdibGFjayBnYXRlJywnZmFyYW1pcicsJ3NhcnVtYW4nLCdzaGFkb3dmYXgnLCd3aXRjaCBraW5nJ10sXG4gICAgRlQ6IFsnYXJzZW5hbCcsJ2JvdXJuZW1vdXRoJywnYnVybmxleScsJ2JyaWdodG9uJywnY2hlbHNlYScsJ2NyeXN0YWwgcGFsYWNlJywnZXZlcnRvbicsJ2xpdmVycG9vbCcsJ25ld2Nhc3RsZScsJ3NvdXRoYW1wdG9uJywnYmFyY2Vsb25hJywnanV2ZW50dXMnLCdhamF4JywnYmF5ZXJuJ10sXG4gICAgQ0M6IFsndmllbm5hJywnYnJpZGdldG93bicsJ2JyYXNpbGlhJywnYnJ1c3NlbHMnLCdzb2ZpYScsJ2hhbm9pJywnb3R0b3dhJywnYmFuZ3VpJywnd2FzaGluZ3RvbicsJ2hhdmFuYScsJ3ByYXVnZScsJ2NhaXJvJywnaGVsc2lua2knLCdidWRhcGVzdCcsJ2pha2FydGEnLCdqZXJ1c2FsZW0nLCdraW5nc3RvbicsJ3Rva3lvJywnbmFpcm9iaScsJ2JlaWppbmcnLCdyYWJhdCcsJ29zbG8nLCdweW9uZ3lhbmcnLCdtYWRyaWQnXSxcbiAgICBXREk6IFsnZnVuY3Rpb24nLCdqYXZhc2NyaXB0Jywnc3dpdGNoJywncmVmYWN0b3InLCduYW1lc3BhY2luZycsJ2pxdWVyeScsJ2NvbnN0JywncHJpbWl0aXZlJywnb2JqZWN0JywnYXJyYXknLCdyZXNwb25zaXZlJywnY29uc3RydWN0b3InLCdyZWN1cnNpdmUnLCdpbmRlbnRhdGlvbicsJ2l0ZXJhdGUnLCdtZXRob2QnLCdhbGdvcml0aGltJywndGVybWluYWwnLCdnaXRodWInLCdkZWJ1Z2dpbmcnLCdsb29wJywndmFyaWFibGUnXSxcbiAgICBTVzogWydjc3MnXVxuICB9O1xuICBjb25zdCBzZXR0aW5ncyA9IHtcbiAgICBlYXN5OiB7XG4gICAgICBpbnRlcnZhbDogMTAwMDAsXG4gICAgICBzcGVlZDogMTUwMCxcbiAgICAgIHdpbm5pbmdDb25kaXRpb246IDVcbiAgICB9LFxuICAgIG1lZGl1bToge1xuICAgICAgaW50ZXJ2YWw6IDcwMDAsXG4gICAgICBzcGVlZDogMTAwMCxcbiAgICAgIHdpbm5pbmdDb25kaXRpb246IDdcbiAgICB9LFxuICAgIGhhcmQ6IHtcbiAgICAgIGludGVydmFsOiA1MDAwLFxuICAgICAgc3BlZWQ6IDcwMCxcbiAgICAgIHdpbm5pbmdDb25kaXRpb246IDEwXG4gICAgfSxcbiAgICBpbnNhbmU6IHtcbiAgICAgIGludGVydmFsOiAyNTAwLFxuICAgICAgc3BlZWQ6IDIwMCxcbiAgICAgIHdpbm5pbmdDb25kaXRpb246IDEwXG4gICAgfVxuICB9O1xuICAvLy8vLy8vLy8vLy8vLy8vLy8vL1NlbGVjdG9ycy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICBsZXQgc2VsZWN0ZWREaWZmaWN1bHR5ID0gJyc7XG4gIGxldCBzZWxlY3RlZFN1YmplY3QgPSAnJztcbiAgJHN1YmplY3RPcHRpb25zLm9uKCdjaGFuZ2UnLCAoKSA9PiB7XG4gICAgY29uc3QgdmFsdWUgPSAkc3ViamVjdE9wdGlvbnMudmFsKCk7XG4gICAgc2VsZWN0ZWRTdWJqZWN0ID0gY2F0ZWdvcmllc1t2YWx1ZV07XG4gIH0pO1xuICAkZGlmZmljdWx0eU9wdGlvbnMub24oJ2NoYW5nZScsICgpID0+IHtcbiAgICBzZWxlY3RlZERpZmZpY3VsdHkgPSAkZGlmZmljdWx0eU9wdGlvbnMudmFsKCk7XG4gICAgZGlmZmljdWx0eSA9IHNldHRpbmdzW3NlbGVjdGVkRGlmZmljdWx0eV07XG4gICAgY29uc29sZS5sb2coZGlmZmljdWx0eSk7XG4gIH0pO1xuICAvLy8vLy8vLy8vLy8vLy8vLy8vL1NlbGVjdG9ycyBFbmQvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgLy8vLy8vLy8vLy8vLy8vLy8vL0Z1bmN0aW9ucyB0aGF0IGNoYW5nZSB0aGUgd29yZC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgLy8vIFRoaXMgc2VsZWN0cyBhIHJhbmRvbSB3b3JkIGZyb20gdGhlIHNlbGVjdGVkIGFycmF5XG4gIGZ1bmN0aW9uIGdlbmVyYXRlV29yZCgpIHtcbiAgICBjb25zdCBpbmRleCA9IFtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBzZWxlY3RlZFN1YmplY3QubGVuZ3RoKV07XG4gICAgY29uc3Qgc2VsZWN0ZWRXb3JkID0gc2VsZWN0ZWRTdWJqZWN0W2luZGV4XTtcbiAgICBzZWxlY3RlZFN1YmplY3Quc3BsaWNlKGluZGV4LCAxKTtcbiAgICByZXR1cm4gc2VsZWN0ZWRXb3JkO1xuICB9XG4gIC8vLyBUaGlzIHRha2VzIHRoZSByYW5kb21seSBzZWxlY3RlZCB3b3JkIGFuZCBzaHVmZmxlcyBpdCBpbnRvIGFuIGFuYWdyYW1cbiAgZnVuY3Rpb24gZ2VuZXJhdGVBbmFncmFtKHNlbGVjdGVkV29yZCkge1xuICAgIHJldHVybiBzZWxlY3RlZFdvcmQuc3BsaXQoJycpLnNvcnQoZnVuY3Rpb24oKXtcbiAgICAgIHJldHVybiAwLjUgLSBNYXRoLnJhbmRvbSgpO1xuICAgIH0gKS5qb2luKCcnKTtcbiAgfVxuICAvLy8vLy9UaGlzIGdlbmVyYXRlcyBhIGRpZmZlcmVudCBlbGVtZW50IGluIGEgZGlmZmVybnQgcG9zaXRpb24gZnJvbSB0aGUgSFRNTFxuICBmdW5jdGlvbiBnZW5lcmF0ZUFuYWdyYW1FbGVtZW50ICgpIHtcbiAgICBjb25zdCAkYW5hZ3JhbSA9ICQoJzxwIGNsYXNzPVwiYW5hZ3JhbVwiPjwvcD4nKTtcbiAgICBjb25zdCBsZWZ0ID0gTWF0aC5jZWlsKChNYXRoLnJhbmRvbSgpICogKHdpZHRoIC0gMjUwKSkpO1xuICAgICRhbmFncmFtLmNzcyh7bGVmdDogbGVmdH0pO1xuICAgIHJldHVybiAkYW5hZ3JhbTtcbiAgfVxuICAvLy8vLy8gVGhpcyBpcyBmb3Igd2hlbiB0aGUgd29yZCBoaXRzIHRoZSBib3R0b20gYW5kICdmYWxscyBvZmYnXG4gIGZ1bmN0aW9uIGFuYWdyYW1IaXRzVGhlQm90dG9tICgpIHtcbiAgICAkKCcuYW5hZ3JhbScpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgY29uc3QgcG9zaXRpb24gPSBNYXRoLnJvdW5kKCQodGhpcykucG9zaXRpb24oKS50b3ApO1xuICAgICAgaWYgKHBvc2l0aW9uID49IGhlaWdodCAtIDgwICkge1xuICAgICAgICBjb25zb2xlLmxvZyhsaWZlU2NvcmUpO1xuICAgICAgICBpZighJCh0aGlzKS5oYXNDbGFzcygnaGluZ2UnKSkgbGlmZVNjb3JlIC09IDE7XG4gICAgICAgICRsaXZlcy5odG1sKGBMaXZlcyBMZWZ0OiAke2xpZmVTY29yZX1gKTsvL05vdCBXb3JraW5nXG4gICAgICAgICQodGhpcykuY3NzKCdjb2xvcicsJ3JlZCcpO1xuICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdhbmltYXRlZCBoaW5nZScpO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAkKHRoaXMpLnJlbW92ZSgpO1xuICAgICAgICB9LDUwMCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgLy8vLy8vLy8vLy8vLy8vLy8vL0Z1bmN0aW9ucyB0aGF0IGNoYW5nZSB0aGUgd29yZC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAvLy8vLy8vLy8vLy8vLy8vLy9NYWluIGZ1Y250aW9uIHRvIHBsYXkgZ2FtZSAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIGZ1bmN0aW9uIHBsYXlHYW1lICgpe1xuICAgIGNvbnNvbGUubG9nKHdpZHRoKTtcbiAgICBjb25zdCBzZWxlY3RlZFdvcmQgPSBnZW5lcmF0ZVdvcmQoKTtcbiAgICBjb25zdCBzY3JhbWJsZWRXb3JkID0gZ2VuZXJhdGVBbmFncmFtKHNlbGVjdGVkV29yZCk7XG4gICAgY29uc3Qgc2VsZWN0ZWRBbmFncmFtID0gZ2VuZXJhdGVBbmFncmFtRWxlbWVudCgpO1xuICAgIHNlbGVjdGVkQW5hZ3JhbS50ZXh0KHNjcmFtYmxlZFdvcmQpO1xuICAgIHNlbGVjdGVkQW5hZ3JhbS5hdHRyKCdkYXRhLXdvcmQnLCBzZWxlY3RlZFdvcmQpO1xuICAgICRjb250YWluZXIuYXBwZW5kKHNlbGVjdGVkQW5hZ3JhbSk7XG4gICAgc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XG4gICAgICBzZWxlY3RlZEFuYWdyYW0uY3NzKCd0b3AnLCAnKz0xMHB4Jyk7XG4gICAgICBhbmFncmFtSGl0c1RoZUJvdHRvbSgpO1xuICAgIH0sZGlmZmljdWx0eS5zcGVlZCk7XG4gIH1cbiAgLy8vLy8vL1RoaXMgaXMgdGhlIHJlc2V0IGZ1bmN0aW9uIGFmdGVyIGEgZ2FtZSBoYXMgZmluaXNoZWQvLy8vLy8vLy8vLy8vLy8vXG4gIGZ1bmN0aW9uIHJlc2V0ICgpIHtcbiAgICBsaWZlU2NvcmUgPSA1O1xuICAgICRsaXZlcy5odG1sKCdMaXZlczogNScpO1xuICAgIHdpbkNvbmRpdGlvbiA9IDA7XG4gICAgJHdpbkNvbmRpdGlvbi5odG1sKCdDb3JyZWN0IEFuc3dlcnM6IDAnKTtcbiAgICAkKCcuYW5hZ3JhbScpLnJlbW92ZSgpO1xuICB9XG4gIC8vLyBUaGlzIGlzIGZvciB3aGVuIHRoZSBwbGF5ZXIgaXMgcmVhZHkgdG8gcGxheSwgYWZ0ZXIgdGhlIGRpZmZpY3VsdHkgaXMgc2VsZWN0ZWQgYW5kIHRoZSBwbGF5IGJ1dHRvbiBpcyBjbGlja2VkIC0gc28gdGhpcyBzdGFydHMgdGhlIGdhbWUhXG4gICRwbGF5R2FtZS5jbGljayggZnVuY3Rpb24oKXtcbiAgICBpZiAoc2VsZWN0ZWREaWZmaWN1bHR5ID09PSAnJyB8fCBzZWxlY3RlZFN1YmplY3QgPT09ICcnKSB7XG4gICAgICBhbGVydCgnQSBTdWJqZWN0IGFuZCBEaWZmaWN1bHR5IG5lZWRzIHRvIGJlIHNlbGVjdGVkIHRvIHByb2NlZWQsIHBsZWFzZSBjaG9vc2UgYm90aC4uLicpO1xuICAgIH0gZWxzZSB7XG4gICAgICBwbGF5R2FtZSgpO1xuICAgICAgY29uc3QgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpe1xuICAgICAgICBpZiAod2luQ29uZGl0aW9uID09PSBkaWZmaWN1bHR5Lndpbm5pbmdDb25kaXRpb24pIHtcbiAgICAgICAgICBhbGVydCgnWW91IGJlYXQgdGhlIGdhbWUgdGhpcyB0aW1lLCBjYW4geW91IG1hbmFnZSBhbWVkaXVtIGRpZmZpY3V0bHkuLi4/Jyk7XG4gICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gICAgICAgICAgcmVzZXQoKTtcbiAgICAgICAgfSBlbHNlIGlmIChsaWZlU2NvcmUgPD0gMCl7XG4gICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gICAgICAgICAgYWxlcnQoJ0dhbWUgT3Zlciwgc29ycnkgeW91IGxvc3QsIEJvb29vb29vIScpO1xuICAgICAgICAgIHJlc2V0KCk7XG4gICAgICAgIH0gZWxzZXtcbiAgICAgICAgICBwbGF5R2FtZSgpO1xuICAgICAgICB9XG4gICAgICB9LGRpZmZpY3VsdHkuaW50ZXJ2YWwpO1xuICAgIH19KTtcblxuICAgIC8vLyBUaGlzIGlzIHRoZSB2YWxpZGF0aW9uIHdoZW4gdGhlIGJ1dHRvbiBpcyBjbGlja2VkIHRvIHN1Ym1pdCBhbiBhbnN3ZXIsIHRoaXMgYWxzbyBob2xkcyB0aGUgYW5pbWF0aW9ucyBhcHBsaWVkIHRvIHRoZSBnYW1lLlxuICAgICQoJ2Zvcm0nKS5vbignc3VibWl0JywgZnVuY3Rpb24gKGUpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICQoJy5hbmFncmFtJykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnN0IGNoZWNrZXIgPSAkKHRoaXMpLmRhdGEoJ3dvcmQnKTtcbiAgICAgICAgaWYgKCQoJyNhbnN3ZXInKS52YWwoKS50b0xvd2VyQ2FzZSgpID09PSBjaGVja2VyKXtcbiAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdhbmltYXRlZCBmYWRlT3V0VXAnKS5jc3MoJ2NvbG9yJywnIzM5RkYxNCcpO1xuICAgICAgICAgICR3aW5Db25kaXRpb24uaHRtbChgQ29ycmVjdCBBbnN3ZXJzOiAke3dpbkNvbmRpdGlvbiA9IHdpbkNvbmRpdGlvbiArIDF9YCk7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAkKHRoaXMpLnJlbW92ZSgpO1xuICAgICAgICAgIH0sNTAwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAkKCcuYW5hZ3JhbScpLmFkZENsYXNzKCdhbmltYXRlZCBqZWxsbycpO1xuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgJCgnLmFuYWdyYW0nKS5yZW1vdmVDbGFzcygnamVsbG8nKTtcbiAgICAgICAgICB9LDUwMCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgJCgnZm9ybScpLnRyaWdnZXIoJ3Jlc2V0Jyk7XG4gICAgfSk7XG5cbiAgICAvLy8vLyB0aGlzIGNoYW5nZXMgdGhlIGhlaWdodCBwcm9wZXJ0eSBiYXNlZCBvbiB0aGUgcmVzaXppbmcgb2YgdGhlIGJyb3dzZXJzIHdpbmRvd1xuICAgICQod2luZG93KS5vbigncmVzaXplJywgKCkgPT4ge1xuICAgICAgaGVpZ2h0ID0gJCgnLmdhbWUtYm94Jykub3V0ZXJIZWlnaHQodHJ1ZSk7XG4gICAgfSk7XG4gICAgJCh3aW5kb3cpLm9uKCdyZXNpemUnLCAoKSA9PiB7XG4gICAgICB3aWR0aCA9ICQoJy5nYW1lLWJveCcpLndpZHRoKCk7XG4gICAgfSk7XG5cbiAgICAvLy8vLy8gZW5kIG9mIHRoZSBET007XG4gIH0pO1xuIl19
